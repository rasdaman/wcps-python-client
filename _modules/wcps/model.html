<!DOCTYPE html>

<html lang="en" data-content_root="../../">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>wcps.model &#8212; WCPS Python Client 0.1.0 documentation</title>
    <link rel="stylesheet" type="text/css" href="../../_static/pygments.css?v=fa44fd50" />
    <link rel="stylesheet" type="text/css" href="../../_static/basic.css?v=b08954a9" />
    <link rel="stylesheet" type="text/css" href="../../_static/alabaster.css?v=27fed22d" />
    <link rel="stylesheet" type="text/css" href="../../_static/graphviz.css?v=4ae1632d" />
    <script src="../../_static/documentation_options.js?v=01f34227"></script>
    <script src="../../_static/doctools.js?v=9bcbadda"></script>
    <script src="../../_static/sphinx_highlight.js?v=dc90522c"></script>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
   
  <link rel="stylesheet" href="../../_static/custom.css" type="text/css" />
  

  
  

  </head><body>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          

          <div class="body" role="main">
            
  <h1>Source code for wcps.model</h1><div class="highlight"><pre>
<span></span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">This module defines classes and methods for dynamically building WCPS query expressions.</span>

<span class="sd">This can be done by:</span>

<span class="sd">1. Composing objects of :class:`WCPSExpr` subclasses, e.g. `Sum(Datacube(&quot;cube&quot;))`</span>
<span class="sd">2. Chaining methods on :class:`WCPSExpr` objects, e.g. `Datacube(&quot;cube&quot;).sum()`</span>

<span class="sd">Each subclass defines the ``__str__`` method, so that executing</span>
<span class="sd">``str(Sum(Datacube(&quot;cube&quot;)))`` returns a valid WCPS query string</span>
<span class="sd">that can be sent to a WCPS server.</span>
<span class="sd">&quot;&quot;&quot;</span>

<span class="c1"># postpone evaluations of type annotations</span>
<span class="c1"># https://stackoverflow.com/a/33533514</span>
<span class="kn">from</span> <span class="nn">__future__</span> <span class="kn">import</span> <span class="n">annotations</span>

<span class="kn">import</span> <span class="nn">re</span>
<span class="kn">from</span> <span class="nn">collections</span> <span class="kn">import</span> <span class="n">deque</span>
<span class="kn">from</span> <span class="nn">enum</span> <span class="kn">import</span> <span class="n">Enum</span>
<span class="kn">from</span> <span class="nn">typing</span> <span class="kn">import</span> <span class="n">Union</span><span class="p">,</span> <span class="n">Optional</span>


<div class="viewcode-block" id="StrEnum">
<a class="viewcode-back" href="../../autoapi/wcps/model/index.html#wcps.model.StrEnum">[docs]</a>
<span class="k">class</span> <span class="nc">StrEnum</span><span class="p">(</span><span class="nb">str</span><span class="p">,</span> <span class="n">Enum</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Custom implementation of StrEnum for Python &lt;= 3.10&quot;&quot;&quot;</span>
    <span class="k">def</span> <span class="fm">__str__</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">value</span></div>



<div class="viewcode-block" id="WCPSExpr">
<a class="viewcode-back" href="../../autoapi/wcps/model/index.html#wcps.model.WCPSExpr">[docs]</a>
<span class="k">class</span> <span class="nc">WCPSExpr</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    An abstract class encapsulating a WCPS expression.</span>

<span class="sd">    It contains a list of :attr:`operands` (themselves :class:`WCPSExpr`) and a :attr:`parent`.</span>

<span class="sd">    Subclasses for each operator exist, e.g. :class:`Add` for binary addition,</span>
<span class="sd">    which are applied to the :attr:`operands`. For most</span>
<span class="sd">    operators there are also corresponding methods in this class, allowing to build</span>
<span class="sd">    an expression by chaining them, e.g</span>
<span class="sd">    ``Sum(Datacube(&quot;cube1&quot;) + Datacube(&quot;cube2&quot;))``</span>
<span class="sd">    is the same as</span>
<span class="sd">    ``Datacube(&quot;cube1&quot;).add(Datacube(&quot;cube2&quot;).sum())``. Notable exceptions are :class:`Switch` and</span>
<span class="sd">    :class:`Coverage`.</span>

<span class="sd">    Various builtin operators are overloaded to allow writing expressions more naturally,</span>
<span class="sd">    e.g. ``WCPSExpr * WCPSExpr``. Number/strings are automatically wrapped in a :class:`Scalar`,</span>
<span class="sd">    e.g. ``WCPSExpr * 2`` becomes ``WCPSExpr * Scalar(2)``.</span>

<span class="sd">    ``__and__``, ``__or__``, ``__xor__``, ``__invert__`` correspond to BITWISE operators,</span>
<span class="sd">    not to the logical and, or, and not. They are not overloaded to the logical</span>
<span class="sd">    and/or/xor/not in order to avoid confusion.</span>

<span class="sd">    :param operands: the operands of this WCPS expression. This object is set</span>
<span class="sd">        as the parent of each operand, while its own parent is set to None.</span>
<span class="sd">        Scalar operands such as 1, 4.9 or &quot;test&quot; are automatically wrapped in a :class:`Scalar` object.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">operands</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">OperandType</span> <span class="o">|</span> <span class="nb">list</span><span class="p">[</span><span class="n">OperandType</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">):</span>
<div class="viewcode-block" id="WCPSExpr.parent">
<a class="viewcode-back" href="../../autoapi/wcps/model/index.html#wcps.model.WCPSExpr.parent">[docs]</a>
        <span class="bp">self</span><span class="o">.</span><span class="n">parent</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">WCPSExpr</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span></div>

<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        A :class:`WCPSExpr` of which this expression is an operand; ``None`` if this is the root expression.</span>
<span class="sd">        E.g. in if this expression is the :class:`Datacube` object in ``Datacube(&quot;test&quot;) * 5``,</span>
<span class="sd">        then the ``parent`` is the :class:`Mul` object.</span>
<span class="sd">        &quot;&quot;&quot;</span>
<div class="viewcode-block" id="WCPSExpr.operands">
<a class="viewcode-back" href="../../autoapi/wcps/model/index.html#wcps.model.WCPSExpr.operands">[docs]</a>
        <span class="bp">self</span><span class="o">.</span><span class="n">operands</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="n">WCPSExpr</span><span class="p">]</span> <span class="o">=</span> <span class="p">[]</span></div>

<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        A list of :class:`WCPSExpr` operands of this expressions. E.g. in ``Datacube(&quot;test&quot;) * 5``, this</span>
<span class="sd">        expression is a :class:`Mul`, with :class:`Datacube` and :class:`Scalar` operands.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="n">operands</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">operands</span><span class="p">,</span> <span class="nb">list</span><span class="p">):</span>
                <span class="n">operands</span> <span class="o">=</span> <span class="p">[</span><span class="n">operands</span><span class="p">]</span>
            <span class="k">for</span> <span class="n">op</span> <span class="ow">in</span> <span class="n">operands</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">add_operand</span><span class="p">(</span><span class="n">op</span><span class="p">)</span>

<div class="viewcode-block" id="WCPSExpr.get_datacube_operands">
<a class="viewcode-back" href="../../autoapi/wcps/model/index.html#wcps.model.WCPSExpr.get_datacube_operands">[docs]</a>
    <span class="k">def</span> <span class="nf">get_datacube_operands</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">list</span><span class="p">[</span><span class="n">Datacube</span><span class="p">]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        :return: all unique :class:`Datacube` objects contained within the expression tree</span>
<span class="sd">            starting from this :class:`WCPSExpr`, sorted alphabetically by datacube name.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">operands</span> <span class="o">=</span> <span class="n">deque</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">operands</span><span class="p">)</span>
        <span class="n">datacubes</span> <span class="o">=</span> <span class="nb">set</span><span class="p">()</span>

        <span class="k">while</span> <span class="n">operands</span><span class="p">:</span>
            <span class="n">op</span> <span class="o">=</span> <span class="n">operands</span><span class="o">.</span><span class="n">popleft</span><span class="p">()</span>
            <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">op</span><span class="p">,</span> <span class="n">Datacube</span><span class="p">):</span>
                <span class="n">datacubes</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">op</span><span class="p">)</span>
            <span class="k">for</span> <span class="n">c</span> <span class="ow">in</span> <span class="n">op</span><span class="o">.</span><span class="n">operands</span><span class="p">:</span>
                <span class="n">operands</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">c</span><span class="p">)</span>

        <span class="k">return</span> <span class="nb">sorted</span><span class="p">(</span><span class="nb">list</span><span class="p">(</span><span class="n">datacubes</span><span class="p">),</span> <span class="n">key</span><span class="o">=</span><span class="k">lambda</span> <span class="n">datacube</span><span class="p">:</span> <span class="n">datacube</span><span class="o">.</span><span class="n">name</span><span class="p">)</span></div>


<div class="viewcode-block" id="WCPSExpr.add_operand">
<a class="viewcode-back" href="../../autoapi/wcps/model/index.html#wcps.model.WCPSExpr.add_operand">[docs]</a>
    <span class="k">def</span> <span class="nf">add_operand</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">op</span><span class="p">:</span> <span class="n">OperandType</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Add an operand to the list of operands. Scalar ``op`` such as 1, 4.9 or</span>
<span class="sd">        &quot;test&quot; are automatically wrapped in a :class:`Scalar` object.</span>
<span class="sd">        :param op: an operand to be added to the list of this expression&#39;s operands;</span>
<span class="sd">        if ``op`` is ``None`` it will be ignored.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="n">op</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">op</span><span class="p">,</span> <span class="n">WCPSExpr</span><span class="p">):</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">operands</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">op</span><span class="p">)</span>
            <span class="k">elif</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">op</span><span class="p">,</span> <span class="n">ScalarType</span><span class="p">):</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">operands</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">Scalar</span><span class="p">(</span><span class="n">op</span><span class="p">))</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="k">raise</span> <span class="n">WCPSClientException</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Invalid operand type </span><span class="si">{</span><span class="nb">type</span><span class="p">(</span><span class="n">op</span><span class="p">)</span><span class="si">}</span><span class="s2">, &quot;</span>
                                          <span class="sa">f</span><span class="s2">&quot;expected a WCPSExpr or a scalar value.&quot;</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">operands</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">parent</span> <span class="o">=</span> <span class="bp">self</span></div>


    <span class="k">def</span> <span class="fm">__str__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        :return: A WCPS query string corresponding to this expression.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">parent</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">return</span> <span class="s1">&#39;&#39;</span>

        <span class="n">datacubes</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_datacube_operands</span><span class="p">()</span>
        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">datacubes</span><span class="p">)</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
            <span class="k">raise</span> <span class="n">WCPSClientException</span><span class="p">(</span><span class="s2">&quot;No datacubes have been specified.&quot;</span><span class="p">)</span>
        <span class="n">datacubes</span> <span class="o">=</span> <span class="p">[</span><span class="sa">f</span><span class="s1">&#39;</span><span class="si">{</span><span class="n">d</span><span class="si">}</span><span class="s1"> in (</span><span class="si">{</span><span class="n">d</span><span class="o">.</span><span class="n">name</span><span class="si">}</span><span class="s1">)&#39;</span> <span class="k">for</span> <span class="n">d</span> <span class="ow">in</span> <span class="n">datacubes</span><span class="p">]</span>
        <span class="n">datacubes_str</span> <span class="o">=</span> <span class="s1">&#39;, &#39;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">datacubes</span><span class="p">)</span>
        <span class="n">ret</span> <span class="o">=</span> <span class="sa">f</span><span class="s1">&#39;for </span><span class="si">{</span><span class="n">datacubes_str</span><span class="si">}</span><span class="se">\n</span><span class="s1">return</span><span class="se">\n</span><span class="s1">  &#39;</span>
        <span class="k">return</span> <span class="n">ret</span>

    <span class="c1"># arithmetic</span>

<div class="viewcode-block" id="WCPSExpr.add">
<a class="viewcode-back" href="../../autoapi/wcps/model/index.html#wcps.model.WCPSExpr.add">[docs]</a>
    <span class="k">def</span> <span class="nf">add</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">:</span> <span class="n">OperandType</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Add</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Adds the current operand to another operand.</span>

<span class="sd">        :param other: The operand to add to the current operand.</span>
<span class="sd">        :return: An instance of the :class:`Add` class representing the addition operation.</span>

<span class="sd">        Examples:</span>

<span class="sd">        - ``Datacube(&quot;test1&quot;).add(Datacube(&quot;test2&quot;))``</span>
<span class="sd">        - ``Datacube(&quot;test1&quot;).add(5)``</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">Add</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">)</span></div>


    <span class="k">def</span> <span class="fm">__add__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">:</span> <span class="n">OperandType</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Add</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Allows the use of the &#39;+&#39; operator to add two operands.</span>

<span class="sd">        :param other: The operand to add to the current operand.</span>
<span class="sd">        :return: An instance of the :class:`Add` class representing the addition operation.</span>

<span class="sd">        Examples:</span>

<span class="sd">        - ``Datacube(&quot;test1&quot;) + Datacube(&quot;test2&quot;)``</span>
<span class="sd">        - ``Datacube(&quot;test1&quot;) + 5``</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">Add</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">)</span>

    <span class="k">def</span> <span class="fm">__radd__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">:</span> <span class="n">OperandType</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Add</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Allows the use of the &#39;+&#39; operator with the current operand on the right side.</span>

<span class="sd">        :param other: The operand to be added to the current operand.</span>
<span class="sd">        :return: An instance of the :class:`Add` class representing the addition operation.</span>

<span class="sd">        Examples:</span>

<span class="sd">        - ``Datacube(&quot;test2&quot;) + Datacube(&quot;test1&quot;)``</span>
<span class="sd">        - ``5 + Datacube(&quot;test1&quot;)``</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">Add</span><span class="p">(</span><span class="n">other</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span>

<div class="viewcode-block" id="WCPSExpr.sub">
<a class="viewcode-back" href="../../autoapi/wcps/model/index.html#wcps.model.WCPSExpr.sub">[docs]</a>
    <span class="k">def</span> <span class="nf">sub</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">:</span> <span class="n">OperandType</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Sub</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Subtracts another operand from the current operand.</span>

<span class="sd">        :param other: The operand to subtract from the current operand.</span>
<span class="sd">        :return: An instance of the :class:`Sub` class representing the subtraction operation.</span>

<span class="sd">        Examples:</span>

<span class="sd">        - ``Datacube(&quot;test1&quot;).sub(Datacube(&quot;test2&quot;))``</span>
<span class="sd">        - ``Datacube(&quot;test1&quot;).sub(5)``</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">Sub</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">)</span></div>


    <span class="k">def</span> <span class="fm">__sub__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">:</span> <span class="n">OperandType</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Sub</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Allows the use of the &#39;-&#39; operator to subtract one operand from another.</span>

<span class="sd">        :param other: The operand to subtract from the current operand.</span>
<span class="sd">        :return: An instance of the `Sub` class representing the subtraction operation.</span>

<span class="sd">        Examples:</span>

<span class="sd">        - ``Datacube(&quot;test1&quot;) - Datacube(&quot;test2&quot;)``</span>
<span class="sd">        - ``Datacube(&quot;test1&quot;) - 5``</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">Sub</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">)</span>

    <span class="k">def</span> <span class="fm">__rsub__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">:</span> <span class="n">OperandType</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Sub</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Allows the use of the &#39;-&#39; operator with the current operand on the right side.</span>

<span class="sd">        :param other: The operand from which the current operand is subtracted.</span>
<span class="sd">        :return: An instance of the :class:`Sub` class representing the subtraction operation.</span>

<span class="sd">        Examples:</span>

<span class="sd">        - ``Datacube(&quot;test2&quot;) - Datacube(&quot;test1&quot;)``</span>
<span class="sd">        - ``5 - Datacube(&quot;test1&quot;)``</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">Sub</span><span class="p">(</span><span class="n">other</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span>

<div class="viewcode-block" id="WCPSExpr.mul">
<a class="viewcode-back" href="../../autoapi/wcps/model/index.html#wcps.model.WCPSExpr.mul">[docs]</a>
    <span class="k">def</span> <span class="nf">mul</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">:</span> <span class="n">OperandType</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Mul</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Multiplies the current operand by another operand.</span>

<span class="sd">        :param other: The operand to multiply with the current operand.</span>
<span class="sd">        :return: An instance of the :class:`Mul` class representing the multiplication operation.</span>

<span class="sd">        Examples:</span>

<span class="sd">        - ``Datacube(&quot;test1&quot;).mul(Datacube(&quot;test2&quot;))``</span>
<span class="sd">        - ``Datacube(&quot;test1&quot;).mul(5)``</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">Mul</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">)</span></div>


    <span class="k">def</span> <span class="fm">__mul__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">:</span> <span class="n">OperandType</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Mul</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Allows the use of the &#39;*&#39; operator to multiply two operands.</span>

<span class="sd">        :param other: The operand to multiply with the current operand.</span>
<span class="sd">        :return: An instance of the :class:`Mul` class representing the multiplication operation.</span>

<span class="sd">        Examples:</span>

<span class="sd">        - ``Datacube(&quot;test1&quot;) * Datacube(&quot;test2&quot;)``</span>
<span class="sd">        - ``Datacube(&quot;test1&quot;) * 5``</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">Mul</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">)</span>

    <span class="k">def</span> <span class="fm">__rmul__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">:</span> <span class="n">OperandType</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Mul</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Allows the use of the &#39;*&#39; operator with the current operand on the right side.</span>

<span class="sd">        :param other: The operand to be multiplied with the current operand.</span>
<span class="sd">        :return: An instance of the :class:`Mul` class representing the multiplication operation.</span>

<span class="sd">        Examples:</span>

<span class="sd">        - ``Datacube(&quot;test1&quot;) * Datacube(&quot;test2&quot;)``</span>
<span class="sd">        - ``5 * Datacube(&quot;test1&quot;)``</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">Mul</span><span class="p">(</span><span class="n">other</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span>

<div class="viewcode-block" id="WCPSExpr.div">
<a class="viewcode-back" href="../../autoapi/wcps/model/index.html#wcps.model.WCPSExpr.div">[docs]</a>
    <span class="k">def</span> <span class="nf">div</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">:</span> <span class="n">OperandType</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Div</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Divides the current operand by another operand.</span>

<span class="sd">        :param other: The operand to divide the current operand by.</span>
<span class="sd">        :return: An instance of the :class:`Div` class representing the division operation.</span>

<span class="sd">        Examples:</span>

<span class="sd">        - ``Datacube(&quot;test1&quot;).div(Datacube(&quot;test2&quot;))``</span>
<span class="sd">        - ``Datacube(&quot;test1&quot;).div(5)``</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">Div</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">)</span></div>


    <span class="k">def</span> <span class="nf">__div__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">:</span> <span class="n">OperandType</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Div</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Allows the use of the &#39;/&#39; operator to divide one operand by another.</span>

<span class="sd">        :param other: The operand to divide the current operand by.</span>
<span class="sd">        :return: An instance of the :class:`Div` class representing the division operation.</span>

<span class="sd">        Examples:</span>

<span class="sd">        - ``Datacube(&quot;test1&quot;) / Datacube(&quot;test2&quot;)``</span>
<span class="sd">        - ``Datacube(&quot;test1&quot;) / 5``</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">Div</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">__rdiv__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">:</span> <span class="n">OperandType</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Div</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Allows the use of the &#39;/&#39; operator with the current operand on the right side.</span>

<span class="sd">        :param other: The operand to be divided by the current operand.</span>
<span class="sd">        :return: An instance of the :class:`Div` class representing the division operation.</span>

<span class="sd">        Examples:</span>

<span class="sd">        - ``Datacube(&quot;test2&quot;) / Datacube(&quot;test1&quot;)``</span>
<span class="sd">        - ``5 / Datacube(&quot;test1&quot;)``</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">Div</span><span class="p">(</span><span class="n">other</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span>

    <span class="k">def</span> <span class="fm">__truediv__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">:</span> <span class="n">OperandType</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Div</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Allows the use of the &#39;//&#39; operator to perform true division.</span>

<span class="sd">        :param other: The operand to divide the current operand by.</span>
<span class="sd">        :return: An instance of the :class:`Div` class representing the division operation.</span>

<span class="sd">        Examples:</span>

<span class="sd">        - ``Datacube(&quot;test1&quot;) / Datacube(&quot;test2&quot;)``</span>
<span class="sd">        - ``Datacube(&quot;test1&quot;) / 5``</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">Div</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">)</span>

    <span class="k">def</span> <span class="fm">__rtruediv__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">:</span> <span class="n">OperandType</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Div</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Allows the use of the &#39;//&#39; operator with the current operand on the right side.</span>

<span class="sd">        :param other: The operand to be divided by the current operand.</span>
<span class="sd">        :return: An instance of the :class:`Div` class representing the division operation.</span>

<span class="sd">        Examples:</span>

<span class="sd">        - ``Datacube(&quot;test2&quot;) / Datacube(&quot;test1&quot;)``</span>
<span class="sd">        - ``5 / Datacube(&quot;test1&quot;)``</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">Div</span><span class="p">(</span><span class="n">other</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span>

<div class="viewcode-block" id="WCPSExpr.mod">
<a class="viewcode-back" href="../../autoapi/wcps/model/index.html#wcps.model.WCPSExpr.mod">[docs]</a>
    <span class="k">def</span> <span class="nf">mod</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">:</span> <span class="n">OperandType</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Mod</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Computes the modulus (remainder of the division) of the current operand by another operand.</span>

<span class="sd">        :param other: The operand to use as the divisor.</span>
<span class="sd">        :return: An instance of the :class:`Mod` class representing the modulus operation.</span>

<span class="sd">        Examples:</span>

<span class="sd">        - ``Datacube(&quot;test1&quot;).mod(Datacube(&quot;test2&quot;))``</span>
<span class="sd">        - ``Datacube(&quot;test1&quot;).mod(5)``</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">Mod</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">)</span></div>


    <span class="k">def</span> <span class="fm">__mod__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">:</span> <span class="n">OperandType</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Mod</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Allows the use of the &#39;%&#39; operator to compute the modulus of two operands.</span>

<span class="sd">        :param other: The operand to use as the divisor.</span>
<span class="sd">        :return: An instance of the :class:`Mod` class representing the modulus operation.</span>

<span class="sd">        Examples:</span>

<span class="sd">        - ``Datacube(&quot;test1&quot;) % Datacube(&quot;test2&quot;)``</span>
<span class="sd">        - ``Datacube(&quot;test1&quot;) % 5``</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">Mod</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">)</span>

    <span class="k">def</span> <span class="fm">__rmod__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">:</span> <span class="n">OperandType</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Mod</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Allows the use of the &#39;%&#39; operator with the current operand on the right side.</span>

<span class="sd">        :param other: The operand to be divided by the current operand.</span>
<span class="sd">        :return: An instance of the :class:`Mod` class representing the modulus operation.</span>

<span class="sd">        Examples:</span>

<span class="sd">        - ``Datacube(&quot;test2&quot;) % Datacube(&quot;test1&quot;)``</span>
<span class="sd">        - ``5 % Datacube(&quot;test1&quot;)``</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">Mod</span><span class="p">(</span><span class="n">other</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span>

<div class="viewcode-block" id="WCPSExpr.abs">
<a class="viewcode-back" href="../../autoapi/wcps/model/index.html#wcps.model.WCPSExpr.abs">[docs]</a>
    <span class="k">def</span> <span class="nf">abs</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Abs</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Computes the absolute value of the current operand.</span>

<span class="sd">        :return: An instance of the :class:`Abs` class representing the absolute value operation.</span>

<span class="sd">        Examples:</span>

<span class="sd">        - ``Datacube(&quot;test1&quot;).abs()``</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">Abs</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span></div>


    <span class="k">def</span> <span class="fm">__abs__</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Abs</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Allows the use of the ``abs()`` function to compute the absolute value of the operand.</span>

<span class="sd">        :return: An instance of the :class:`Abs` class representing the absolute value operation.</span>

<span class="sd">        Examples:</span>

<span class="sd">        - ``abs(Datacube(&quot;test1&quot;))``</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">Abs</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>

<div class="viewcode-block" id="WCPSExpr.round">
<a class="viewcode-back" href="../../autoapi/wcps/model/index.html#wcps.model.WCPSExpr.round">[docs]</a>
    <span class="k">def</span> <span class="nf">round</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Round</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Rounds the current operand to the nearest integer.</span>

<span class="sd">        :return: An instance of the :class:`Round` class representing the rounding operation.</span>

<span class="sd">        Examples:</span>

<span class="sd">        - ``Datacube(&quot;test1&quot;).round()``</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">Round</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span></div>


    <span class="k">def</span> <span class="fm">__round__</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Round</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Allows the use of the ``round()`` function to round the operand to the nearest integer.</span>

<span class="sd">        :return: An instance of the :class:`Round` class representing the rounding operation.</span>

<span class="sd">        Examples:</span>

<span class="sd">        - ``round(Datacube(&quot;test1&quot;))``</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">Round</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>

<div class="viewcode-block" id="WCPSExpr.floor">
<a class="viewcode-back" href="../../autoapi/wcps/model/index.html#wcps.model.WCPSExpr.floor">[docs]</a>
    <span class="k">def</span> <span class="nf">floor</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Floor</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Computes the floor of the current operand (rounds down to the nearest integer).</span>

<span class="sd">        :return: An instance of the :class:`Floor` class representing the floor operation.</span>

<span class="sd">        Examples:</span>

<span class="sd">        - ``Datacube(&quot;test1&quot;).floor()``</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">Floor</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span></div>


    <span class="k">def</span> <span class="nf">__floor__</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Floor</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Allows the use of the :func:`math.floor` function to compute the floor of the operand.</span>

<span class="sd">        :return: An instance of the :class:`Floor` class representing the floor operation.</span>

<span class="sd">        Examples:</span>

<span class="sd">        - ``math.floor(Datacube(&quot;test1&quot;))``</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">Floor</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>

<div class="viewcode-block" id="WCPSExpr.ceil">
<a class="viewcode-back" href="../../autoapi/wcps/model/index.html#wcps.model.WCPSExpr.ceil">[docs]</a>
    <span class="k">def</span> <span class="nf">ceil</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Ceil</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Computes the ceiling of the current operand (rounds up to the nearest integer).</span>

<span class="sd">        :return: An instance of the :class:`Ceil` class representing the ceiling operation.</span>

<span class="sd">        Examples:</span>

<span class="sd">        - ``Datacube(&quot;test1&quot;).ceil()``</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">Ceil</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span></div>


    <span class="k">def</span> <span class="nf">__ceil__</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Ceil</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Allows the use of the :func:`math.ceil` function to compute the ceiling of the operand.</span>

<span class="sd">        :return: An instance of the :class:`Ceil` class representing the ceiling operation.</span>

<span class="sd">        Examples:</span>

<span class="sd">        - ``math.ceil(Datacube(&quot;test1&quot;))``</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">Ceil</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>

    <span class="c1"># exponential</span>

<div class="viewcode-block" id="WCPSExpr.exp">
<a class="viewcode-back" href="../../autoapi/wcps/model/index.html#wcps.model.WCPSExpr.exp">[docs]</a>
    <span class="k">def</span> <span class="nf">exp</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Exp</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Computes the exponential (e^x) of the current operand.</span>

<span class="sd">        :return: An instance of the :class:`Exp` class representing the exponential operation.</span>

<span class="sd">        Examples:</span>

<span class="sd">        - ``Datacube(&quot;test1&quot;).exp()``</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">Exp</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span></div>


<div class="viewcode-block" id="WCPSExpr.log">
<a class="viewcode-back" href="../../autoapi/wcps/model/index.html#wcps.model.WCPSExpr.log">[docs]</a>
    <span class="k">def</span> <span class="nf">log</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Log</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Computes the logarithm (base 10) of the current operand.</span>

<span class="sd">        :return: An instance of the :class:`Log` class representing the logarithm operation.</span>

<span class="sd">        Examples:</span>

<span class="sd">        - ``Datacube(&quot;test1&quot;).log()``</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">Log</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span></div>


<div class="viewcode-block" id="WCPSExpr.ln">
<a class="viewcode-back" href="../../autoapi/wcps/model/index.html#wcps.model.WCPSExpr.ln">[docs]</a>
    <span class="k">def</span> <span class="nf">ln</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Ln</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Computes the natural logarithm (base e) of the current operand.</span>

<span class="sd">        :return: An instance of the :class:`Ln` class representing the natural logarithm operation.</span>

<span class="sd">        Examples:</span>

<span class="sd">        - ``Datacube(&quot;test1&quot;).ln()``</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">Ln</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span></div>


<div class="viewcode-block" id="WCPSExpr.sqrt">
<a class="viewcode-back" href="../../autoapi/wcps/model/index.html#wcps.model.WCPSExpr.sqrt">[docs]</a>
    <span class="k">def</span> <span class="nf">sqrt</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Sqrt</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Computes the square root of the current operand.</span>

<span class="sd">        :return: An instance of the :class:`Sqrt` class representing the square root operation.</span>

<span class="sd">        Examples:</span>

<span class="sd">        - ``Datacube(&quot;test1&quot;).sqrt()``</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">Sqrt</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span></div>


<div class="viewcode-block" id="WCPSExpr.pow">
<a class="viewcode-back" href="../../autoapi/wcps/model/index.html#wcps.model.WCPSExpr.pow">[docs]</a>
    <span class="k">def</span> <span class="nf">pow</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">:</span> <span class="n">OperandType</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Pow</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Raises the current operand to the power of another operand.</span>

<span class="sd">        :param other: The exponent to raise the current operand to.</span>
<span class="sd">        :return: An instance of the :class:`Pow` class representing the power operation.</span>

<span class="sd">        Examples:</span>

<span class="sd">        - ``Datacube(&quot;test1&quot;).pow(Datacube(&quot;test2&quot;))``</span>
<span class="sd">        - ``Datacube(&quot;test1&quot;).pow(5)``</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">Pow</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">)</span></div>


    <span class="k">def</span> <span class="fm">__pow__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">:</span> <span class="n">OperandType</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Pow</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Allows the use of the &#39;**&#39; operator to raise one operand to the power of another.</span>

<span class="sd">        :param other: The exponent to raise the current operand to.</span>
<span class="sd">        :return: An instance of the :class:`Pow` class representing the power operation.</span>

<span class="sd">        Examples:</span>

<span class="sd">        - ``Datacube(&quot;test1&quot;) ** Datacube(&quot;test2&quot;)``</span>
<span class="sd">        - ``Datacube(&quot;test1&quot;) ** 5``</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">Pow</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">)</span>

    <span class="k">def</span> <span class="fm">__rpow__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">:</span> <span class="n">OperandType</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Pow</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Allows the use of the &#39;**&#39; operator to raise one operand to the power of another.</span>

<span class="sd">        :param other: The exponent to raise the current operand to.</span>
<span class="sd">        :return: An instance of the :class:`Pow` class representing the power operation.</span>

<span class="sd">        Examples:</span>

<span class="sd">        - ``Datacube(&quot;test1&quot;) ** Datacube(&quot;test2&quot;)``</span>
<span class="sd">        - ``5 ** Datacube(&quot;test1&quot;)``</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">Pow</span><span class="p">(</span><span class="n">other</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span>

    <span class="c1"># trigonometric</span>

<div class="viewcode-block" id="WCPSExpr.sin">
<a class="viewcode-back" href="../../autoapi/wcps/model/index.html#wcps.model.WCPSExpr.sin">[docs]</a>
    <span class="k">def</span> <span class="nf">sin</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Sin</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Computes the sine of the current operand.</span>

<span class="sd">        :return: An instance of the :class:`Sin` class representing the sine operation.</span>

<span class="sd">        Examples:</span>

<span class="sd">        - ``Datacube(&quot;test1&quot;).sin()``</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">Sin</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span></div>


<div class="viewcode-block" id="WCPSExpr.cos">
<a class="viewcode-back" href="../../autoapi/wcps/model/index.html#wcps.model.WCPSExpr.cos">[docs]</a>
    <span class="k">def</span> <span class="nf">cos</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Cos</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Computes the cosine of the current operand.</span>

<span class="sd">        :return: An instance of the :class:`Cos` class representing the cosine operation.</span>

<span class="sd">        Examples:</span>

<span class="sd">        - ``Datacube(&quot;test1&quot;).cos()``</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">Cos</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span></div>


<div class="viewcode-block" id="WCPSExpr.tan">
<a class="viewcode-back" href="../../autoapi/wcps/model/index.html#wcps.model.WCPSExpr.tan">[docs]</a>
    <span class="k">def</span> <span class="nf">tan</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Tan</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Computes the tangent of the current operand.</span>

<span class="sd">        :return: An instance of the :class:`Tan` class representing the tangent operation.</span>

<span class="sd">        Examples:</span>

<span class="sd">        - ``Datacube(&quot;test1&quot;).tan()``</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">Tan</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span></div>


<div class="viewcode-block" id="WCPSExpr.sinh">
<a class="viewcode-back" href="../../autoapi/wcps/model/index.html#wcps.model.WCPSExpr.sinh">[docs]</a>
    <span class="k">def</span> <span class="nf">sinh</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Sinh</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Computes the hyperbolic sine of the current operand.</span>

<span class="sd">        :return: An instance of the :class:`Sinh` class representing the hyperbolic sine operation.</span>

<span class="sd">        Examples:</span>

<span class="sd">        - ``Datacube(&quot;test1&quot;).sinh()``</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">Sinh</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span></div>


<div class="viewcode-block" id="WCPSExpr.cosh">
<a class="viewcode-back" href="../../autoapi/wcps/model/index.html#wcps.model.WCPSExpr.cosh">[docs]</a>
    <span class="k">def</span> <span class="nf">cosh</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Cosh</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Computes the hyperbolic cosine of the current operand.</span>

<span class="sd">        :return: An instance of the :class:`Cosh` class representing the hyperbolic cosine operation.</span>

<span class="sd">        Examples:</span>

<span class="sd">        - ``Datacube(&quot;test1&quot;).cosh()``</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">Cosh</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span></div>


<div class="viewcode-block" id="WCPSExpr.tanh">
<a class="viewcode-back" href="../../autoapi/wcps/model/index.html#wcps.model.WCPSExpr.tanh">[docs]</a>
    <span class="k">def</span> <span class="nf">tanh</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Tanh</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Computes the hyperbolic tangent of the current operand.</span>

<span class="sd">        :return: An instance of the :class:`Tanh` class representing the hyperbolic tangent operation.</span>

<span class="sd">        Examples:</span>

<span class="sd">        - ``Datacube(&quot;test1&quot;).tanh()``</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">Tanh</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span></div>


<div class="viewcode-block" id="WCPSExpr.arcsin">
<a class="viewcode-back" href="../../autoapi/wcps/model/index.html#wcps.model.WCPSExpr.arcsin">[docs]</a>
    <span class="k">def</span> <span class="nf">arcsin</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">ArcSin</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Computes the inverse sine (arcsine) of the current operand.</span>

<span class="sd">        :return: An instance of the :class:`ArcSin` class representing the arcsine operation.</span>

<span class="sd">        Examples:</span>

<span class="sd">        - ``Datacube(&quot;test1&quot;).arcsin()``</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">ArcSin</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span></div>


<div class="viewcode-block" id="WCPSExpr.arccos">
<a class="viewcode-back" href="../../autoapi/wcps/model/index.html#wcps.model.WCPSExpr.arccos">[docs]</a>
    <span class="k">def</span> <span class="nf">arccos</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">ArcCos</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Computes the inverse cosine (arccosine) of the current operand.</span>

<span class="sd">        :return: An instance of the :class:`ArcCos` class representing the arccosine operation.</span>

<span class="sd">        Examples:</span>

<span class="sd">        - ``Datacube(&quot;test1&quot;).arccos()``</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">ArcCos</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span></div>


<div class="viewcode-block" id="WCPSExpr.arctan">
<a class="viewcode-back" href="../../autoapi/wcps/model/index.html#wcps.model.WCPSExpr.arctan">[docs]</a>
    <span class="k">def</span> <span class="nf">arctan</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">ArcTan</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Computes the inverse tangent (arctangent) of the current operand.</span>

<span class="sd">        :return: An instance of the :class:`ArcTan` class representing the arctangent operation.</span>

<span class="sd">        Examples:</span>

<span class="sd">        - ``Datacube(&quot;test1&quot;).arctan()``</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">ArcTan</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span></div>


<div class="viewcode-block" id="WCPSExpr.arctan2">
<a class="viewcode-back" href="../../autoapi/wcps/model/index.html#wcps.model.WCPSExpr.arctan2">[docs]</a>
    <span class="k">def</span> <span class="nf">arctan2</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">ArcTan2</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Computes the two-argument inverse tangent (arctangent2) of the current operand.</span>

<span class="sd">        :return: An instance of the :class:`ArcTan2` class representing the arctangent2 operation.</span>

<span class="sd">        Examples:</span>

<span class="sd">        - ``Datacube(&quot;test1&quot;).arctan2(Datacube(&quot;test2&quot;))``</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">ArcTan2</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span></div>


    <span class="c1"># comparison</span>

<div class="viewcode-block" id="WCPSExpr.gt">
<a class="viewcode-back" href="../../autoapi/wcps/model/index.html#wcps.model.WCPSExpr.gt">[docs]</a>
    <span class="k">def</span> <span class="nf">gt</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">:</span> <span class="n">OperandType</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Gt</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Checks if the current operand is greater than another operand.</span>

<span class="sd">        :param other: The operand to compare against.</span>
<span class="sd">        :return: An instance of the :class:`Gt` class representing the greater-than comparison.</span>

<span class="sd">        Examples:</span>

<span class="sd">        - ``Datacube(&quot;test1&quot;).gt(Datacube(&quot;test2&quot;))``</span>
<span class="sd">        - ``Datacube(&quot;test1&quot;).gt(10)``</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">Gt</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">)</span></div>


    <span class="k">def</span> <span class="fm">__gt__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">:</span> <span class="n">OperandType</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Gt</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Allows the use of the &#39;&gt;&#39; operator to compare two operands.</span>

<span class="sd">        :param other: The operand to compare against.</span>
<span class="sd">        :return: An instance of the :class:`Gt` class representing the greater-than comparison.</span>

<span class="sd">        Examples:</span>

<span class="sd">        - ``Datacube(&quot;test1&quot;) &gt; Datacube(&quot;test2&quot;)``</span>
<span class="sd">        - ``Datacube(&quot;test1&quot;) &gt; 10``</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">Gt</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">)</span>

<div class="viewcode-block" id="WCPSExpr.lt">
<a class="viewcode-back" href="../../autoapi/wcps/model/index.html#wcps.model.WCPSExpr.lt">[docs]</a>
    <span class="k">def</span> <span class="nf">lt</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">:</span> <span class="n">OperandType</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Lt</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Checks if the current operand is less than another operand.</span>

<span class="sd">        :param other: The operand to compare against.</span>
<span class="sd">        :return: An instance of the :class:`Lt` class representing the less-than comparison.</span>

<span class="sd">        Examples:</span>

<span class="sd">        - ``Datacube(&quot;test1&quot;).lt(Datacube(&quot;test2&quot;))``</span>
<span class="sd">        - ``Datacube(&quot;test1&quot;).lt(10)``</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">Lt</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">)</span></div>


    <span class="k">def</span> <span class="fm">__lt__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">:</span> <span class="n">OperandType</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Lt</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Allows the use of the &#39;&lt;&#39; operator to compare two operands.</span>

<span class="sd">        :param other: The operand to compare against.</span>
<span class="sd">        :return: An instance of the :class:`Lt` class representing the less-than comparison.</span>

<span class="sd">        Examples:</span>

<span class="sd">        - ``Datacube(&quot;test1&quot;) &lt; Datacube(&quot;test2&quot;)``</span>
<span class="sd">        - ``Datacube(&quot;test1&quot;) &lt; 10``</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">Lt</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">)</span>

<div class="viewcode-block" id="WCPSExpr.ge">
<a class="viewcode-back" href="../../autoapi/wcps/model/index.html#wcps.model.WCPSExpr.ge">[docs]</a>
    <span class="k">def</span> <span class="nf">ge</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">:</span> <span class="n">OperandType</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Ge</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Checks if the current operand is greater than or equal to another operand.</span>

<span class="sd">        :param other: The operand to compare against.</span>
<span class="sd">        :return: An instance of the :class:`Ge` class representing the greater-than-or-equal-to comparison.</span>

<span class="sd">        Examples:</span>

<span class="sd">        - ``Datacube(&quot;test1&quot;).ge(Datacube(&quot;test2&quot;))``</span>
<span class="sd">        - ``Datacube(&quot;test1&quot;).ge(10)``</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">Ge</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">)</span></div>


    <span class="k">def</span> <span class="fm">__ge__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">:</span> <span class="n">OperandType</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Ge</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Allows the use of the &#39;&gt;=&#39; operator to compare two operands.</span>

<span class="sd">        :param other: The operand to compare against.</span>
<span class="sd">        :return: An instance of the :class:`Ge` class representing the greater-than-or-equal-to comparison.</span>

<span class="sd">        Examples:</span>

<span class="sd">        - ``Datacube(&quot;test1&quot;) &gt;= Datacube(&quot;test2&quot;)``</span>
<span class="sd">        - ``Datacube(&quot;test1&quot;) &gt;= 10``</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">Ge</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">)</span>

<div class="viewcode-block" id="WCPSExpr.le">
<a class="viewcode-back" href="../../autoapi/wcps/model/index.html#wcps.model.WCPSExpr.le">[docs]</a>
    <span class="k">def</span> <span class="nf">le</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">:</span> <span class="n">OperandType</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Le</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Checks if the current operand is less than or equal to another operand.</span>

<span class="sd">        :param other: The operand to compare against.</span>
<span class="sd">        :return: An instance of the :class:`Le` class representing the less-than-or-equal-to comparison.</span>

<span class="sd">        Examples:</span>

<span class="sd">        - ``Datacube(&quot;test1&quot;).le(Datacube(&quot;test2&quot;))``</span>
<span class="sd">        - ``Datacube(&quot;test1&quot;).le(10)``</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">Le</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">)</span></div>


    <span class="k">def</span> <span class="fm">__le__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">:</span> <span class="n">OperandType</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Le</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Allows the use of the &#39;&lt;=&#39; operator to compare two operands.</span>

<span class="sd">        :param other: The operand to compare against.</span>
<span class="sd">        :return: An instance of the :class:`Le` class representing the less-than-or-equal-to comparison.</span>

<span class="sd">        Examples:</span>

<span class="sd">        - ``Datacube(&quot;test1&quot;) &lt;= Datacube(&quot;test2&quot;)``</span>
<span class="sd">        - ``Datacube(&quot;test1&quot;) &lt;= 10``</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">Le</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">)</span>

<div class="viewcode-block" id="WCPSExpr.eq">
<a class="viewcode-back" href="../../autoapi/wcps/model/index.html#wcps.model.WCPSExpr.eq">[docs]</a>
    <span class="k">def</span> <span class="nf">eq</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">:</span> <span class="n">OperandType</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Eq</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Checks if the current operand is equal to another operand.</span>

<span class="sd">        :param other: The operand to compare against.</span>
<span class="sd">        :return: An instance of the :class:`Eq` class representing the equality comparison.</span>

<span class="sd">        Examples:</span>

<span class="sd">        - ``Datacube(&quot;test1&quot;).eq(Datacube(&quot;test2&quot;))``</span>
<span class="sd">        - ``Datacube(&quot;test1&quot;).eq(10)``</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">Eq</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">)</span></div>


    <span class="k">def</span> <span class="fm">__eq__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">:</span> <span class="n">OperandType</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Eq</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Allows the use of the &#39;==&#39; operator to compare two operands.</span>

<span class="sd">        :param other: The operand to compare against.</span>
<span class="sd">        :return: An instance of the :class:`Eq` class representing the equality comparison.</span>

<span class="sd">        Examples:</span>

<span class="sd">        - ``Datacube(&quot;test1&quot;) == Datacube(&quot;test2&quot;)``</span>
<span class="sd">        - ``Datacube(&quot;test1&quot;) == 10``</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">Eq</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">)</span>

<div class="viewcode-block" id="WCPSExpr.ne">
<a class="viewcode-back" href="../../autoapi/wcps/model/index.html#wcps.model.WCPSExpr.ne">[docs]</a>
    <span class="k">def</span> <span class="nf">ne</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">:</span> <span class="n">OperandType</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Ne</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Checks if the current operand is not equal to another operand.</span>

<span class="sd">        :param other: The operand to compare against.</span>
<span class="sd">        :return: An instance of the :class:`Ne` class representing the inequality comparison.</span>

<span class="sd">        Examples:</span>

<span class="sd">        - ``Datacube(&quot;test1&quot;).ne(Datacube(&quot;test2&quot;))``</span>
<span class="sd">        - ``Datacube(&quot;test1&quot;).ne(10)``</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">Ne</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">)</span></div>


    <span class="k">def</span> <span class="fm">__ne__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">:</span> <span class="n">OperandType</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Ne</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Allows the use of the &#39;!=&#39; operator to compare two operands.</span>

<span class="sd">        :param other: The operand to compare against.</span>
<span class="sd">        :return: An instance of the :class:`Ne` class representing the inequality comparison.</span>

<span class="sd">        Examples:</span>
<span class="sd">        - Datacube(&quot;test1&quot;) != Datacube(&quot;test2&quot;)</span>
<span class="sd">        - Datacube(&quot;test1&quot;) != 10</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">Ne</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">)</span>

    <span class="c1"># logical</span>

<div class="viewcode-block" id="WCPSExpr.logical_and">
<a class="viewcode-back" href="../../autoapi/wcps/model/index.html#wcps.model.WCPSExpr.logical_and">[docs]</a>
    <span class="k">def</span> <span class="nf">logical_and</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">:</span> <span class="n">OperandType</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">And</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Performs a logical AND operation between the current operand and another operand.</span>

<span class="sd">        :param other: The operand to perform the AND operation with.</span>
<span class="sd">        :return: An instance of the :class:`And` class representing the logical AND operation.</span>

<span class="sd">        Examples:</span>

<span class="sd">        - ``Datacube(&quot;test1&quot;).logical_and(Datacube(&quot;test2&quot;))``</span>
<span class="sd">        - ``Datacube(&quot;test1&quot;).logical_and(True)``</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">And</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">)</span></div>


<div class="viewcode-block" id="WCPSExpr.logical_or">
<a class="viewcode-back" href="../../autoapi/wcps/model/index.html#wcps.model.WCPSExpr.logical_or">[docs]</a>
    <span class="k">def</span> <span class="nf">logical_or</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">:</span> <span class="n">OperandType</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Or</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Performs a logical OR operation between the current operand and another operand.</span>

<span class="sd">        :param other: The operand to perform the OR operation with.</span>
<span class="sd">        :return: An instance of the :class:`Or` class representing the logical OR operation.</span>

<span class="sd">        Examples:</span>

<span class="sd">        - ``Datacube(&quot;test1&quot;).logical_or(Datacube(&quot;test2&quot;))``</span>
<span class="sd">        - ``Datacube(&quot;test1&quot;).logical_or(False)``</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">Or</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">)</span></div>


<div class="viewcode-block" id="WCPSExpr.logical_xor">
<a class="viewcode-back" href="../../autoapi/wcps/model/index.html#wcps.model.WCPSExpr.logical_xor">[docs]</a>
    <span class="k">def</span> <span class="nf">logical_xor</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">:</span> <span class="n">OperandType</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Xor</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Performs a logical XOR operation between the current operand and another operand.</span>

<span class="sd">        :param other: The operand to perform the XOR operation with.</span>
<span class="sd">        :return: An instance of the :class:`Xor` class representing the logical XOR operation.</span>

<span class="sd">        Examples:</span>

<span class="sd">        - ``Datacube(&quot;test1&quot;).logical_xor(Datacube(&quot;test2&quot;))``</span>
<span class="sd">        - ``Datacube(&quot;test1&quot;).logical_xor(True)``</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">Xor</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">)</span></div>


<div class="viewcode-block" id="WCPSExpr.logical_not">
<a class="viewcode-back" href="../../autoapi/wcps/model/index.html#wcps.model.WCPSExpr.logical_not">[docs]</a>
    <span class="k">def</span> <span class="nf">logical_not</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Not</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Performs a logical NOT operation on the current operand.</span>

<span class="sd">        :return: An instance of the :class:`Not` class representing the logical NOT operation.</span>

<span class="sd">        Examples:</span>

<span class="sd">        - ``Datacube(&quot;test1&quot;).logical_not()``</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">Not</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span></div>


<div class="viewcode-block" id="WCPSExpr.overlay">
<a class="viewcode-back" href="../../autoapi/wcps/model/index.html#wcps.model.WCPSExpr.overlay">[docs]</a>
    <span class="k">def</span> <span class="nf">overlay</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">:</span> <span class="n">OperandType</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Overlay</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Performs an overlay operation, placing other operand &quot;on top&quot; of this operand:</span>

<span class="sd">        - wherever the second operand’s cell value is not zero and not null, the result value will be this value.</span>
<span class="sd">        - wherever the second operand’s cell value is zero or null, the first argument’s cell value will be taken.</span>

<span class="sd">        :param other: The operand to perform the overlay operation with.</span>
<span class="sd">        :return: An instance of the :class:`Overlay` class representing the overlay operation.</span>

<span class="sd">        Examples:</span>

<span class="sd">        - ``Datacube(&quot;test1&quot;).overlay(Datacube(&quot;test2&quot;))``</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">Overlay</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">)</span></div>


<div class="viewcode-block" id="WCPSExpr.bit">
<a class="viewcode-back" href="../../autoapi/wcps/model/index.html#wcps.model.WCPSExpr.bit">[docs]</a>
    <span class="k">def</span> <span class="nf">bit</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">pos</span><span class="p">:</span> <span class="n">OperandType</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Bit</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Take the bit in this operand&#39;s cell values at nonnegative position number pos,</span>
<span class="sd">        and put it as a Boolean value into a byte. Position counting starts with 0 and</span>
<span class="sd">        runs from least to most significant bit.</span>

<span class="sd">        :param pos: The position at which the bit value should be extracted</span>
<span class="sd">        :return: An instance of the :class:`Bit` class</span>

<span class="sd">        Examples:</span>

<span class="sd">        - ``Datacube(&quot;test1&quot;).bit(5)``</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">Bit</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">pos</span><span class="p">)</span></div>


    <span class="c1"># multiband</span>

<div class="viewcode-block" id="WCPSExpr.band">
<a class="viewcode-back" href="../../autoapi/wcps/model/index.html#wcps.model.WCPSExpr.band">[docs]</a>
    <span class="k">def</span> <span class="nf">band</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">band_name</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Band</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Extract the given band ``band_name`` from this multiband object.</span>

<span class="sd">        :param band_name: The band name or position (0-based index)</span>
<span class="sd">        :return: An instance of the :class:`Band` class</span>

<span class="sd">        Examples:</span>

<span class="sd">        - ``Datacube(&quot;rgb&quot;).band(&quot;red&quot;)``</span>
<span class="sd">        - ``Datacube(&quot;rgb&quot;).band(0)``</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">Band</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">band_name</span><span class="p">)</span></div>


    <span class="k">def</span> <span class="fm">__getattr__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">band_name</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Band</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Extract the given band ``band_name`` from this multiband object with a &#39;.&#39; operator.</span>

<span class="sd">        :param band_name: The band name or position (0-based index)</span>
<span class="sd">        :return: An instance of the :class:`Band` class</span>

<span class="sd">        Examples:</span>

<span class="sd">        - ``Datacube(&quot;rgb&quot;).red``</span>
<span class="sd">        - ``Datacube(&quot;rgb&quot;).0``</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">Band</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">band_name</span><span class="p">)</span>

    <span class="c1"># subsetting, extend, scale</span>

<div class="viewcode-block" id="WCPSExpr.subset">
<a class="viewcode-back" href="../../autoapi/wcps/model/index.html#wcps.model.WCPSExpr.subset">[docs]</a>
    <span class="k">def</span> <span class="nf">subset</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">axes</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Subset</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Extract a spatio-temporal subset from this object as specified by the list of ``axes``.</span>

<span class="sd">        :param axes: specifies a spatio-temporal subset as:</span>

<span class="sd">        1. a single :class:`Axis` object: ``Axis(axis_name, low, high?, crs?)``</span>
<span class="sd">        2. a tuple of multiple :class:`Axis` objects: ``(Axis(...), Axis(...))``</span>
<span class="sd">        3. a tuple specifying the axis subset in place: ``(axis_name, low, high?, crs?)``</span>
<span class="sd">        4. a tuple of axis subset tuples (see 3.): ``((axis_name, low, high?, crs?), (...), ...)``</span>
<span class="sd">        5. a list of :class:`Axis` objects: `[Axis(...), Axis(...), ...]`</span>
<span class="sd">        6. a list of axis subset tuples (see 3.): ``[(axis_name, low, high?, crs?), (...), ...]``</span>

<span class="sd">        :return: An instance of the :class:`Subset` class</span>

<span class="sd">        Examples (with ``cov = Datacube(&quot;testcube&quot;)``):</span>

<span class="sd">        1. ``cov.subset(Axis(&quot;X&quot;, 5.5, 10.5))``</span>
<span class="sd">        2. ``cov.subset(Axis(&quot;X&quot;, 5.5, 10.5), Axis(&quot;Y&quot;, 15))``</span>
<span class="sd">        3. ``cov.subset(&quot;X&quot;, 5.5, 10.5)``</span>
<span class="sd">        4. ``cov.subset((&quot;X&quot;, 5.5, 10.5), (&quot;Y&quot;, 15))``</span>
<span class="sd">        5. ``cov.subset([Axis(&quot;X&quot;, 5.5, 10.5), Axis(&quot;Y&quot;, 15)])``</span>
<span class="sd">        6. ``cov.subset([(&quot;X&quot;, 5.5, 10.5), (&quot;Y&quot;, 15)])``</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">Subset</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">axes</span><span class="p">)</span></div>


    <span class="k">def</span> <span class="fm">__getitem__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">axes</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Subset</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Extract a spatio-temporal subset from this object as specified by the list of ``axes``</span>
<span class="sd">        with an index operator ``[...]``.</span>

<span class="sd">        :param axes: specifies a spatio-temporal subset as:</span>

<span class="sd">        1. a single :class:`Axis` object: ``Axis(axis_name, low, high?, crs?)``</span>
<span class="sd">        2. a tuple of multiple :class:`Axis` objects: ``(Axis(...), Axis(...))``</span>
<span class="sd">        3. a tuple specifying the axis subset in place: ``(axis_name, low, high?, crs?)``</span>
<span class="sd">        4. a tuple of axis subset tuples (see 3.): ``((axis_name, low, high?, crs?), (...), ...)``</span>
<span class="sd">        5. a list of :class:`Axis` objects: `[Axis(...), Axis(...), ...]`</span>
<span class="sd">        6. a list of axis subset tuples (see 3.): ``[(axis_name, low, high?, crs?), (...), ...]``</span>

<span class="sd">        :return: An instance of the :class:`Subset` class</span>

<span class="sd">        Examples (with ``cov = Datacube(&quot;testcube&quot;)``):</span>

<span class="sd">        1. ``cov[Axis(&quot;X&quot;, 5.5, 10.5)]``</span>
<span class="sd">        2. ``cov[(Axis(&quot;X&quot;, 5.5, 10.5), Axis(&quot;Y&quot;, 15)]``</span>
<span class="sd">        3. ``cov[&quot;X&quot;, 5.5, 10.5]``</span>
<span class="sd">        4. ``cov[(&quot;X&quot;, 5.5, 10.5), (&quot;Y&quot;, 15)]``</span>
<span class="sd">        5. ``cov[[Axis(&quot;X&quot;, 5.5, 10.5), Axis(&quot;Y&quot;, 15)]]``</span>
<span class="sd">        6. ``cov[[(&quot;X&quot;, 5.5, 10.5), (&quot;Y&quot;, 15)]]``</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">Subset</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">axes</span><span class="p">)</span>

<div class="viewcode-block" id="WCPSExpr.extend">
<a class="viewcode-back" href="../../autoapi/wcps/model/index.html#wcps.model.WCPSExpr.extend">[docs]</a>
    <span class="k">def</span> <span class="nf">extend</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">axes</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Extend</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Extend this object to a new domain as specified by the list of ``axes``; new areas</span>
<span class="sd">        are filled in with null values.</span>

<span class="sd">        :param axes: specifies a spatio-temporal subset as:</span>

<span class="sd">        1. a single :class:`Axis` object: ``Axis(axis_name, low, high?, crs?)``</span>
<span class="sd">        2. a tuple of multiple :class:`Axis` objects: ``(Axis(...), Axis(...))``</span>
<span class="sd">        3. a tuple specifying the axis subset in place: ``(axis_name, low, high?, crs?)``</span>
<span class="sd">        4. a tuple of axis subset tuples (see 3.): ``((axis_name, low, high?, crs?), (...), ...)``</span>
<span class="sd">        5. a list of :class:`Axis` objects: `[Axis(...), Axis(...), ...]`</span>
<span class="sd">        6. a list of axis subset tuples (see 3.): ``[(axis_name, low, high?, crs?), (...), ...]``</span>

<span class="sd">        :return: An instance of the :class:`Subset` class</span>

<span class="sd">        Examples (with ``cov = Datacube(&quot;testcube&quot;)``):</span>

<span class="sd">        1. ``cov.extend(Axis(&quot;X&quot;, 5.5, 10.5))``</span>
<span class="sd">        2. ``cov.extend(Axis(&quot;X&quot;, 5.5, 10.5), Axis(&quot;Y&quot;, 15))``</span>
<span class="sd">        3. ``cov.extend(&quot;X&quot;, 5.5, 10.5)``</span>
<span class="sd">        4. ``cov.extend((&quot;X&quot;, 5.5, 10.5), (&quot;Y&quot;, 15))``</span>
<span class="sd">        5. ``cov.extend([Axis(&quot;X&quot;, 5.5, 10.5), Axis(&quot;Y&quot;, 15)])``</span>
<span class="sd">        6. ``cov.extend([(&quot;X&quot;, 5.5, 10.5), (&quot;Y&quot;, 15)])``</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">Extend</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">axes</span><span class="p">)</span></div>


<div class="viewcode-block" id="WCPSExpr.scale">
<a class="viewcode-back" href="../../autoapi/wcps/model/index.html#wcps.model.WCPSExpr.scale">[docs]</a>
    <span class="k">def</span> <span class="nf">scale</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">grid_axes</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">another_coverage</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">single_factor</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">axis_factors</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Scale</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Up or down-scale the current object. Exactly one of the parameters must be specified.</span>

<span class="sd">        :param grid_axes: rescale to the grid bounds specified for each axis</span>
<span class="sd">        :param another_coverage: rescale to the domain of another coverage operand</span>
<span class="sd">        :param single_factor: rescale all axes by the same scale factor;</span>
<span class="sd">            factor &gt; 1 for scaling up, 0 &lt; factor &lt; 1 for scaling down</span>
<span class="sd">        :param axis_factors: rescale each axis by a specific factor;</span>
<span class="sd">            factor &gt; 1 for scaling up, 0 &lt; factor &lt; 1 for scaling down</span>

<span class="sd">        :return: An instance of the :class:`Scale` class</span>

<span class="sd">        :raise: A :class:`WCPSClientException` in case of error in the provided arguments.</span>

<span class="sd">        Examples (with ``cov = Datacube(&quot;testcube&quot;)``):</span>

<span class="sd">        1. ``cov.scale((&quot;X&quot;, 0, 100), (&quot;Y&quot;, 0, 200))``</span>
<span class="sd">        2. ``cov.scale(Datacube(&quot;cov2&quot;))``</span>
<span class="sd">        3. ``cov.scale(0.5)`` - downscale by 2x</span>
<span class="sd">        4. ``cov.scale([0.5, 2])`` - downscale the first axis by 2x, and upscale the second axis by 2x</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">nones</span> <span class="o">=</span> <span class="nb">sum</span><span class="p">(</span><span class="mi">1</span> <span class="k">for</span> <span class="n">item</span> <span class="ow">in</span> <span class="p">[</span><span class="n">grid_axes</span><span class="p">,</span> <span class="n">another_coverage</span><span class="p">,</span> <span class="n">single_factor</span><span class="p">,</span> <span class="n">axis_factors</span><span class="p">]</span>
                    <span class="k">if</span> <span class="n">item</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">nones</span> <span class="o">!=</span> <span class="mi">3</span><span class="p">:</span>
            <span class="k">raise</span> <span class="n">WCPSClientException</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;scale expects exactly 1 parameter to be specified, &quot;</span>
                                      <span class="sa">f</span><span class="s2">&quot;but </span><span class="si">{</span><span class="mi">4</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">nones</span><span class="si">}</span><span class="s2"> were specified.&quot;</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">grid_axes</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">Scale</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="n">to_explicit_grid_domain</span><span class="p">(</span><span class="n">grid_axes</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">another_coverage</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">Scale</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="n">to_grid_domain_of</span><span class="p">(</span><span class="n">another_coverage</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">single_factor</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">Scale</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="n">by_factor</span><span class="p">(</span><span class="n">single_factor</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">axis_factors</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">Scale</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="n">by_factor_per_axis</span><span class="p">(</span><span class="n">axis_factors</span><span class="p">)</span>

        <span class="k">raise</span> <span class="n">WCPSClientException</span><span class="p">(</span><span class="s2">&quot;Invalid parameters specified to scale method.&quot;</span><span class="p">)</span></div>


    <span class="c1"># reproject</span>

<div class="viewcode-block" id="WCPSExpr.reproject">
<a class="viewcode-back" href="../../autoapi/wcps/model/index.html#wcps.model.WCPSExpr.reproject">[docs]</a>
    <span class="k">def</span> <span class="nf">reproject</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">target_crs</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">interpolation_method</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
                  <span class="n">axis_resolutions</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">axis_subsets</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">domain_of_coverage</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Reproject</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Reproject the current object to a new CRS.</span>

<span class="sd">        :param target_crs: the new CRS, e.g. &quot;EPSG:4326&quot;</span>
<span class="sd">        :param interpolation_method: an optional interpolation method, one of the constants</span>
<span class="sd">            defined by :class:`ResampleAlg`, e.g. :const:`ResampleAlg.BILINEAR`</span>
<span class="sd">        :param axis_resolutions: optional list of target axis resolutions to</span>
<span class="sd">            maintain in the reprojected result</span>
<span class="sd">        :param axis_subsets: crop the result by the specified axis subsets (same syntax as for ``subset(axes)``)</span>
<span class="sd">        :param domain_of_coverage: crop the result to the geo domain of another coverage object</span>

<span class="sd">        Examples (with ``cov = Datacube(&quot;testcube&quot;)``):</span>

<span class="sd">        1. ``cov.reproject(&quot;EPSG:4326&quot;)``</span>
<span class="sd">        2. ``cov.reproject(&quot;EPSG:4326&quot;, interpolation_method=ResampleAlg.CUBIC)``</span>
<span class="sd">        3. ``cov.reproject(&quot;EPSG:4326&quot;, axis_resolutions=[0.5, 1.5])``</span>
<span class="sd">        4. ``cov.reproject(&quot;EPSG:4326&quot;, axis_subsets=[(&quot;Lat&quot;, 30.5, 60.5), (&quot;Lon&quot;, 50.5, 70.5)])``</span>
<span class="sd">        5. ``cov.reproject(&quot;EPSG:4326&quot;, axis_resolutions=[0.5, 1.5], domain_of_coverage=Datacube(&quot;cov2&quot;))``</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">ret</span> <span class="o">=</span> <span class="n">Reproject</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">target_crs</span><span class="p">,</span> <span class="n">interpolation_method</span><span class="o">=</span><span class="n">interpolation_method</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">axis_resolutions</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">ret</span> <span class="o">=</span> <span class="n">ret</span><span class="o">.</span><span class="n">to_axis_resolutions</span><span class="p">(</span><span class="n">axis_resolutions</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">axis_subsets</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">ret</span> <span class="o">=</span> <span class="n">ret</span><span class="o">.</span><span class="n">subset_by_axes</span><span class="p">(</span><span class="n">axis_subsets</span><span class="p">)</span>
        <span class="k">elif</span> <span class="n">domain_of_coverage</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">ret</span> <span class="o">=</span> <span class="n">ret</span><span class="o">.</span><span class="n">subset_by_coverage_domain</span><span class="p">(</span><span class="n">domain_of_coverage</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">ret</span></div>


    <span class="c1"># casting</span>

<div class="viewcode-block" id="WCPSExpr.cast">
<a class="viewcode-back" href="../../autoapi/wcps/model/index.html#wcps.model.WCPSExpr.cast">[docs]</a>
    <span class="k">def</span> <span class="nf">cast</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">target_type</span><span class="p">:</span> <span class="n">CastType</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Cast</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Cast the cell values of the current operand to a new ``target_type``.</span>

<span class="sd">        :param target_type: the new cell type of the result,</span>
<span class="sd">            one of the constants in :class:`CastType`, e.g. :const:`CastType.CHAR`.</span>

<span class="sd">        Examples:</span>

<span class="sd">        - ``cov.cast(Datacube(&quot;testcube&quot;), CastType.FLOAT)``</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">Cast</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">target_type</span><span class="p">)</span></div>


    <span class="c1"># aggregation</span>

<div class="viewcode-block" id="WCPSExpr.sum">
<a class="viewcode-back" href="../../autoapi/wcps/model/index.html#wcps.model.WCPSExpr.sum">[docs]</a>
    <span class="k">def</span> <span class="nf">sum</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Sum</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Computes the sum of the cell values of the current operand.</span>

<span class="sd">        :return: An instance of the :class:`Sum` class representing the sum operation.</span>

<span class="sd">        Examples:</span>

<span class="sd">        - ``Datacube(&quot;test1&quot;).sum()``</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">Sum</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span></div>


<div class="viewcode-block" id="WCPSExpr.count">
<a class="viewcode-back" href="../../autoapi/wcps/model/index.html#wcps.model.WCPSExpr.count">[docs]</a>
    <span class="k">def</span> <span class="nf">count</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Count</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Counts the number of *true* values in the current boolean coverage operand.</span>

<span class="sd">        :return: An instance of the :class:`Count` class representing the count operation.</span>

<span class="sd">        Examples:</span>

<span class="sd">        - ``Datacube(&quot;test1&quot;).count()``</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">Count</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span></div>


<div class="viewcode-block" id="WCPSExpr.avg">
<a class="viewcode-back" href="../../autoapi/wcps/model/index.html#wcps.model.WCPSExpr.avg">[docs]</a>
    <span class="k">def</span> <span class="nf">avg</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Avg</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Computes the average (mean) of the cell values of the current operand.</span>

<span class="sd">        :return: An instance of the :class:`Avg` class representing the average operation.</span>

<span class="sd">        Examples:</span>

<span class="sd">        - ``Datacube(&quot;test1&quot;).avg()``</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">Avg</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span></div>


<div class="viewcode-block" id="WCPSExpr.min">
<a class="viewcode-back" href="../../autoapi/wcps/model/index.html#wcps.model.WCPSExpr.min">[docs]</a>
    <span class="k">def</span> <span class="nf">min</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Min</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Finds the minimum value among the elements of the current operand.</span>

<span class="sd">        :return: An instance of the :class:`Min` class representing the minimum operation.</span>

<span class="sd">        Examples:</span>

<span class="sd">        - ``Datacube(&quot;test1&quot;).min()``</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">Min</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span></div>


<div class="viewcode-block" id="WCPSExpr.max">
<a class="viewcode-back" href="../../autoapi/wcps/model/index.html#wcps.model.WCPSExpr.max">[docs]</a>
    <span class="k">def</span> <span class="nf">max</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Max</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Finds the maximum value among the elements of the current operand.</span>

<span class="sd">        :return: An instance of the :class:`Max` class representing the maximum operation.</span>

<span class="sd">        Examples:</span>

<span class="sd">        - ``Datacube(&quot;test1&quot;).max()``</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">Max</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span></div>


<div class="viewcode-block" id="WCPSExpr.all">
<a class="viewcode-back" href="../../autoapi/wcps/model/index.html#wcps.model.WCPSExpr.all">[docs]</a>
    <span class="k">def</span> <span class="nf">all</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">All</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Checks if all elements in the current operand are true.</span>

<span class="sd">        :return: An instance of the :class:`All` class.</span>

<span class="sd">        Examples:</span>

<span class="sd">        - ``Datacube(&quot;test1&quot;).all()``</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">All</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span></div>


<div class="viewcode-block" id="WCPSExpr.some">
<a class="viewcode-back" href="../../autoapi/wcps/model/index.html#wcps.model.WCPSExpr.some">[docs]</a>
    <span class="k">def</span> <span class="nf">some</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Some</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Checks if some elements in the current operand are true.</span>

<span class="sd">        :return: An instance of the :class:`Some` class.</span>

<span class="sd">        Examples:</span>

<span class="sd">        - ``Datacube(&quot;test1&quot;).some()``</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">Some</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span></div>


<div class="viewcode-block" id="WCPSExpr.encode">
<a class="viewcode-back" href="../../autoapi/wcps/model/index.html#wcps.model.WCPSExpr.encode">[docs]</a>
    <span class="k">def</span> <span class="nf">encode</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">data_format</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="n">format_params</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="kc">None</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Encode</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Encode a coverage to some ``data_format``. The data format must be specified</span>
<span class="sd">        with the ``to(format)`` method if it isn&#39;t provided here.</span>
<span class="sd">        Optionally format parameters can be specified to customize the encoding process.</span>

<span class="sd">        :param data_format: the data format, e.g. ``&quot;GTiff&quot;``</span>
<span class="sd">        :param format_params: additional format parameters the influence the encoding</span>

<span class="sd">        Examples:</span>

<span class="sd">        ```</span>
<span class="sd">        Datacube(&quot;testcube&quot;).encode(&quot;GTiff&quot;).params(&quot;...&quot;)</span>
<span class="sd">        ```</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">Encode</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">data_format</span><span class="o">=</span><span class="n">data_format</span><span class="p">,</span> <span class="n">format_params</span><span class="o">=</span><span class="n">format_params</span><span class="p">)</span></div>
</div>



<span class="c1"># ----------------------------------------------------------------------------------</span>

<div class="viewcode-block" id="BoundType">
<a class="viewcode-back" href="../../autoapi/wcps/model/index.html#wcps.model.BoundType">[docs]</a>
<span class="n">BoundType</span> <span class="o">=</span> <span class="n">Union</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="nb">float</span><span class="p">,</span> <span class="nb">str</span><span class="p">,</span> <span class="n">WCPSExpr</span><span class="p">]</span></div>

<span class="sd">&quot;&quot;&quot;A type representing axis bounds (in subsetting, extend, scale, etc).&quot;&quot;&quot;</span>
<div class="viewcode-block" id="ScalarType">
<a class="viewcode-back" href="../../autoapi/wcps/model/index.html#wcps.model.ScalarType">[docs]</a>
<span class="n">ScalarType</span> <span class="o">=</span> <span class="n">Union</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="nb">float</span><span class="p">,</span> <span class="nb">str</span><span class="p">,</span> <span class="nb">bool</span><span class="p">]</span></div>

<span class="sd">&quot;&quot;&quot;Scalar values can be of one of these types.&quot;&quot;&quot;</span>
<div class="viewcode-block" id="OperandType">
<a class="viewcode-back" href="../../autoapi/wcps/model/index.html#wcps.model.OperandType">[docs]</a>
<span class="n">OperandType</span> <span class="o">=</span> <span class="n">Union</span><span class="p">[</span><span class="n">WCPSExpr</span><span class="p">,</span> <span class="n">ScalarType</span><span class="p">]</span></div>

<span class="sd">&quot;&quot;&quot;Type of operands of WCPS expressions.&quot;&quot;&quot;</span>
<div class="viewcode-block" id="AxisTuple">
<a class="viewcode-back" href="../../autoapi/wcps/model/index.html#wcps.model.AxisTuple">[docs]</a>
<span class="n">AxisTuple</span> <span class="o">=</span> <span class="n">Union</span><span class="p">[</span><span class="nb">tuple</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">BoundType</span><span class="p">],</span> <span class="nb">tuple</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">BoundType</span><span class="p">,</span> <span class="n">BoundType</span><span class="p">],</span> <span class="nb">tuple</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">BoundType</span><span class="p">,</span> <span class="n">BoundType</span><span class="p">,</span> <span class="nb">str</span><span class="p">]]</span></div>

<span class="sd">&quot;&quot;&quot;Axis tuple types: (name, low), (name, low, high), or (name, low, high, crs)&quot;&quot;&quot;</span>


<div class="viewcode-block" id="Datacube">
<a class="viewcode-back" href="../../autoapi/wcps/model/index.html#wcps.model.Datacube">[docs]</a>
<span class="k">class</span> <span class="nc">Datacube</span><span class="p">(</span><span class="n">WCPSExpr</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    A reference to a datacube (coverage) object on a WCPS server.</span>

<span class="sd">    Example: ``Datacube(&quot;mycoverage&quot;)``.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">name</span><span class="p">:</span> <span class="nb">str</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        :param name: the datacube (coverage) name.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">()</span>
<div class="viewcode-block" id="Datacube.name">
<a class="viewcode-back" href="../../autoapi/wcps/model/index.html#wcps.model.Datacube.name">[docs]</a>
        <span class="bp">self</span><span class="o">.</span><span class="n">name</span> <span class="o">=</span> <span class="n">name</span></div>


    <span class="k">def</span> <span class="fm">__str__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="sa">f</span><span class="s1">&#39;$</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">name</span><span class="si">}</span><span class="s1">&#39;</span>

    <span class="k">def</span> <span class="fm">__hash__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="nb">hash</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">name</span><span class="p">)</span></div>



<div class="viewcode-block" id="Scalar">
<a class="viewcode-back" href="../../autoapi/wcps/model/index.html#wcps.model.Scalar">[docs]</a>
<span class="k">class</span> <span class="nc">Scalar</span><span class="p">(</span><span class="n">WCPSExpr</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    A wrapper for scalar values, e.g. ``5``, ``3.14``, ``&quot;PNG&quot;``.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">op</span><span class="p">:</span> <span class="n">ScalarType</span><span class="p">):</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">()</span>
<div class="viewcode-block" id="Scalar.op">
<a class="viewcode-back" href="../../autoapi/wcps/model/index.html#wcps.model.Scalar.op">[docs]</a>
        <span class="bp">self</span><span class="o">.</span><span class="n">op</span> <span class="o">=</span> <span class="n">op</span></div>


    <span class="k">def</span> <span class="fm">__str__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">op_str</span> <span class="o">=</span> <span class="sa">f</span><span class="s1">&#39;&quot;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">op</span><span class="si">}</span><span class="s1">&quot;&#39;</span> <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">op</span><span class="p">,</span> <span class="nb">str</span><span class="p">)</span> <span class="k">else</span> <span class="nb">str</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">op</span><span class="p">)</span>
        <span class="k">return</span> <span class="sa">f</span><span class="s1">&#39;</span><span class="si">{</span><span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__str__</span><span class="p">()</span><span class="si">}{</span><span class="n">op_str</span><span class="si">}</span><span class="s1">&#39;</span></div>



<div class="viewcode-block" id="UnaryOp">
<a class="viewcode-back" href="../../autoapi/wcps/model/index.html#wcps.model.UnaryOp">[docs]</a>
<span class="k">class</span> <span class="nc">UnaryOp</span><span class="p">(</span><span class="n">WCPSExpr</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    A base class for unary operators, e.g. logical NOT.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">op</span><span class="p">:</span> <span class="n">WCPSExpr</span><span class="p">,</span> <span class="n">operator</span><span class="p">:</span> <span class="nb">str</span><span class="p">):</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="n">operands</span><span class="o">=</span><span class="p">[</span><span class="n">op</span><span class="p">])</span>
<div class="viewcode-block" id="UnaryOp.operator">
<a class="viewcode-back" href="../../autoapi/wcps/model/index.html#wcps.model.UnaryOp.operator">[docs]</a>
        <span class="bp">self</span><span class="o">.</span><span class="n">operator</span> <span class="o">=</span> <span class="n">operator</span></div>


    <span class="k">def</span> <span class="fm">__str__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="sa">f</span><span class="s1">&#39;</span><span class="si">{</span><span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__str__</span><span class="p">()</span><span class="si">}</span><span class="s1">(</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">operator</span><span class="si">}</span><span class="s1"> </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">operands</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="si">}</span><span class="s1">)&#39;</span></div>



<div class="viewcode-block" id="BinaryOp">
<a class="viewcode-back" href="../../autoapi/wcps/model/index.html#wcps.model.BinaryOp">[docs]</a>
<span class="k">class</span> <span class="nc">BinaryOp</span><span class="p">(</span><span class="n">WCPSExpr</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    A base class for binary operators, e.g. logical AND.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">op1</span><span class="p">:</span> <span class="n">WCPSExpr</span><span class="p">,</span> <span class="n">op2</span><span class="p">:</span> <span class="n">WCPSExpr</span><span class="p">,</span> <span class="n">operator</span><span class="p">:</span> <span class="nb">str</span><span class="p">):</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="n">operands</span><span class="o">=</span><span class="p">[</span><span class="n">op1</span><span class="p">,</span> <span class="n">op2</span><span class="p">])</span>
<div class="viewcode-block" id="BinaryOp.operator">
<a class="viewcode-back" href="../../autoapi/wcps/model/index.html#wcps.model.BinaryOp.operator">[docs]</a>
        <span class="bp">self</span><span class="o">.</span><span class="n">operator</span> <span class="o">=</span> <span class="n">operator</span></div>


    <span class="k">def</span> <span class="fm">__str__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="sa">f</span><span class="s1">&#39;</span><span class="si">{</span><span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__str__</span><span class="p">()</span><span class="si">}</span><span class="s1">(</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">operands</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="si">}</span><span class="s1"> </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">operator</span><span class="si">}</span><span class="s1"> </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">operands</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="si">}</span><span class="s1">)&#39;</span></div>



<div class="viewcode-block" id="UnaryFunc">
<a class="viewcode-back" href="../../autoapi/wcps/model/index.html#wcps.model.UnaryFunc">[docs]</a>
<span class="k">class</span> <span class="nc">UnaryFunc</span><span class="p">(</span><span class="n">WCPSExpr</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    A base class for unary functions, e.g. :class:`Abs`.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">op</span><span class="p">:</span> <span class="n">WCPSExpr</span><span class="p">,</span> <span class="n">func</span><span class="p">:</span> <span class="nb">str</span><span class="p">):</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="n">operands</span><span class="o">=</span><span class="p">[</span><span class="n">op</span><span class="p">])</span>
<div class="viewcode-block" id="UnaryFunc.func">
<a class="viewcode-back" href="../../autoapi/wcps/model/index.html#wcps.model.UnaryFunc.func">[docs]</a>
        <span class="bp">self</span><span class="o">.</span><span class="n">func</span> <span class="o">=</span> <span class="n">func</span></div>


    <span class="k">def</span> <span class="fm">__str__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="sa">f</span><span class="s1">&#39;</span><span class="si">{</span><span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__str__</span><span class="p">()</span><span class="si">}{</span><span class="bp">self</span><span class="o">.</span><span class="n">func</span><span class="si">}</span><span class="s1">(</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">operands</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="si">}</span><span class="s1">)&#39;</span></div>



<div class="viewcode-block" id="BinaryFunc">
<a class="viewcode-back" href="../../autoapi/wcps/model/index.html#wcps.model.BinaryFunc">[docs]</a>
<span class="k">class</span> <span class="nc">BinaryFunc</span><span class="p">(</span><span class="n">WCPSExpr</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    A base class for binary functions, e.g. :class:`Pow`.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">op1</span><span class="p">:</span> <span class="n">WCPSExpr</span><span class="p">,</span> <span class="n">op2</span><span class="p">:</span> <span class="n">WCPSExpr</span><span class="p">,</span> <span class="n">func</span><span class="p">:</span> <span class="nb">str</span><span class="p">):</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="n">operands</span><span class="o">=</span><span class="p">[</span><span class="n">op1</span><span class="p">,</span> <span class="n">op2</span><span class="p">])</span>
<div class="viewcode-block" id="BinaryFunc.func">
<a class="viewcode-back" href="../../autoapi/wcps/model/index.html#wcps.model.BinaryFunc.func">[docs]</a>
        <span class="bp">self</span><span class="o">.</span><span class="n">func</span> <span class="o">=</span> <span class="n">func</span></div>


    <span class="k">def</span> <span class="fm">__str__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="sa">f</span><span class="s1">&#39;</span><span class="si">{</span><span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__str__</span><span class="p">()</span><span class="si">}{</span><span class="bp">self</span><span class="o">.</span><span class="n">func</span><span class="si">}</span><span class="s1">(</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">operands</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="si">}</span><span class="s1">, </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">operands</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="si">}</span><span class="s1">)&#39;</span></div>



<span class="c1"># ---------------------------------------------------------------------------------</span>
<span class="c1"># arithmetic</span>

<div class="viewcode-block" id="Add">
<a class="viewcode-back" href="../../autoapi/wcps/model/index.html#wcps.model.Add">[docs]</a>
<span class="k">class</span> <span class="nc">Add</span><span class="p">(</span><span class="n">BinaryOp</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Adds ``op1`` to ``op2``.</span>

<span class="sd">    Examples:</span>

<span class="sd">    - ``Add(Datacube(&quot;test1&quot;), Datacube(&quot;test2&quot;))``</span>
<span class="sd">    - ``Add(Datacube(&quot;test1&quot;), 5)``</span>
<span class="sd">    - ``Add(5, Datacube(&quot;test1&quot;))``</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">op1</span><span class="p">:</span> <span class="n">WCPSExpr</span><span class="p">,</span> <span class="n">op2</span><span class="p">:</span> <span class="n">WCPSExpr</span><span class="p">):</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="n">op1</span><span class="p">,</span> <span class="n">op2</span><span class="p">,</span> <span class="s1">&#39;+&#39;</span><span class="p">)</span></div>



<div class="viewcode-block" id="Sub">
<a class="viewcode-back" href="../../autoapi/wcps/model/index.html#wcps.model.Sub">[docs]</a>
<span class="k">class</span> <span class="nc">Sub</span><span class="p">(</span><span class="n">BinaryOp</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Subtracts ``op2`` from ``op1``.</span>

<span class="sd">    Examples:</span>

<span class="sd">    - ``Sub(Datacube(&quot;test1&quot;), Datacube(&quot;test2&quot;))``</span>
<span class="sd">    - ``Sub(Datacube(&quot;test1&quot;), 5)``</span>
<span class="sd">    - ``Sub(5, Datacube(&quot;test1&quot;))``</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">op1</span><span class="p">:</span> <span class="n">WCPSExpr</span><span class="p">,</span> <span class="n">op2</span><span class="p">:</span> <span class="n">WCPSExpr</span><span class="p">):</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="n">op1</span><span class="p">,</span> <span class="n">op2</span><span class="p">,</span> <span class="s1">&#39;-&#39;</span><span class="p">)</span></div>



<div class="viewcode-block" id="Mul">
<a class="viewcode-back" href="../../autoapi/wcps/model/index.html#wcps.model.Mul">[docs]</a>
<span class="k">class</span> <span class="nc">Mul</span><span class="p">(</span><span class="n">BinaryOp</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Multiplies ``op1`` by ``op2``.</span>

<span class="sd">    Examples:</span>

<span class="sd">    - ``Mul(Datacube(&quot;test1&quot;), Datacube(&quot;test2&quot;))``</span>
<span class="sd">    - ``Mul(Datacube(&quot;test1&quot;), 5)``</span>
<span class="sd">    - ``Mul(5, Datacube(&quot;test1&quot;))``</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">op1</span><span class="p">:</span> <span class="n">WCPSExpr</span><span class="p">,</span> <span class="n">op2</span><span class="p">:</span> <span class="n">WCPSExpr</span><span class="p">):</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="n">op1</span><span class="p">,</span> <span class="n">op2</span><span class="p">,</span> <span class="s1">&#39;*&#39;</span><span class="p">)</span></div>



<div class="viewcode-block" id="Div">
<a class="viewcode-back" href="../../autoapi/wcps/model/index.html#wcps.model.Div">[docs]</a>
<span class="k">class</span> <span class="nc">Div</span><span class="p">(</span><span class="n">BinaryOp</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Divides ``op1`` by ``op2``.</span>

<span class="sd">    Examples:</span>

<span class="sd">    - ``Div(Datacube(&quot;test1&quot;), Datacube(&quot;test2&quot;))``</span>
<span class="sd">    - ``Div(Datacube(&quot;test1&quot;), 5)``</span>
<span class="sd">    - ``Div(5, Datacube(&quot;test1&quot;))``</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">op1</span><span class="p">:</span> <span class="n">WCPSExpr</span><span class="p">,</span> <span class="n">op2</span><span class="p">:</span> <span class="n">WCPSExpr</span><span class="p">):</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="n">op1</span><span class="p">,</span> <span class="n">op2</span><span class="p">,</span> <span class="s1">&#39;/&#39;</span><span class="p">)</span></div>



<div class="viewcode-block" id="Mod">
<a class="viewcode-back" href="../../autoapi/wcps/model/index.html#wcps.model.Mod">[docs]</a>
<span class="k">class</span> <span class="nc">Mod</span><span class="p">(</span><span class="n">BinaryFunc</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Computes the modulus (remainder of the division) of ``op1`` by ``op2``.</span>

<span class="sd">    Examples:</span>

<span class="sd">    - ``Mod(Datacube(&quot;test1&quot;), Datacube(&quot;test2&quot;))``</span>
<span class="sd">    - ``Mod(Datacube(&quot;test1&quot;), 5)``</span>
<span class="sd">    - ``Mod(5, Datacube(&quot;test1&quot;))``</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">op1</span><span class="p">:</span> <span class="n">WCPSExpr</span><span class="p">,</span> <span class="n">op2</span><span class="p">:</span> <span class="n">WCPSExpr</span><span class="p">):</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="n">op1</span><span class="p">,</span> <span class="n">op2</span><span class="p">,</span> <span class="s1">&#39;mod&#39;</span><span class="p">)</span></div>



<div class="viewcode-block" id="Abs">
<a class="viewcode-back" href="../../autoapi/wcps/model/index.html#wcps.model.Abs">[docs]</a>
<span class="k">class</span> <span class="nc">Abs</span><span class="p">(</span><span class="n">UnaryFunc</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Computes the absolute value of ``op``.</span>

<span class="sd">    Examples:</span>

<span class="sd">    - ``Abs(Datacube(&quot;test1&quot;))``</span>
<span class="sd">    - ``Abs(-5)``</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">op</span><span class="p">:</span> <span class="n">WCPSExpr</span><span class="p">):</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="n">op</span><span class="p">,</span> <span class="s1">&#39;abs&#39;</span><span class="p">)</span></div>



<div class="viewcode-block" id="Round">
<a class="viewcode-back" href="../../autoapi/wcps/model/index.html#wcps.model.Round">[docs]</a>
<span class="k">class</span> <span class="nc">Round</span><span class="p">(</span><span class="n">UnaryFunc</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Rounds ``op`` to the nearest integer.</span>

<span class="sd">    Examples:</span>

<span class="sd">    - ``Round(Datacube(&quot;test1&quot;))``</span>
<span class="sd">    - ``Round(-5.4)``</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">op</span><span class="p">:</span> <span class="n">WCPSExpr</span><span class="p">):</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="n">op</span><span class="p">,</span> <span class="s1">&#39;round&#39;</span><span class="p">)</span></div>



<div class="viewcode-block" id="Floor">
<a class="viewcode-back" href="../../autoapi/wcps/model/index.html#wcps.model.Floor">[docs]</a>
<span class="k">class</span> <span class="nc">Floor</span><span class="p">(</span><span class="n">UnaryFunc</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Computes the floor of ``op`` (rounds down to the nearest integer).</span>

<span class="sd">    Examples:</span>

<span class="sd">    - ``Floor(Datacube(&quot;test1&quot;))``</span>
<span class="sd">    - ``Floor(-5.4)``</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">op</span><span class="p">:</span> <span class="n">WCPSExpr</span><span class="p">):</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="n">op</span><span class="p">,</span> <span class="s1">&#39;floor&#39;</span><span class="p">)</span></div>



<div class="viewcode-block" id="Ceil">
<a class="viewcode-back" href="../../autoapi/wcps/model/index.html#wcps.model.Ceil">[docs]</a>
<span class="k">class</span> <span class="nc">Ceil</span><span class="p">(</span><span class="n">UnaryFunc</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Computes the ceiling of ``op`` (rounds up to the nearest integer).</span>

<span class="sd">    Examples:</span>

<span class="sd">    - ``Ceil(Datacube(&quot;test1&quot;))``</span>
<span class="sd">    - ``Ceil(-5.4)``</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">op</span><span class="p">:</span> <span class="n">WCPSExpr</span><span class="p">):</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="n">op</span><span class="p">,</span> <span class="s1">&#39;ceil&#39;</span><span class="p">)</span></div>



<span class="c1"># ---------------------------------------------------------------------------------</span>
<span class="c1"># exponential</span>

<div class="viewcode-block" id="Exp">
<a class="viewcode-back" href="../../autoapi/wcps/model/index.html#wcps.model.Exp">[docs]</a>
<span class="k">class</span> <span class="nc">Exp</span><span class="p">(</span><span class="n">UnaryFunc</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Computes the exponential (e^x) of ``op``.</span>

<span class="sd">    Examples:</span>

<span class="sd">    - ``Exp(Datacube(&quot;test1&quot;))``</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">op</span><span class="p">:</span> <span class="n">WCPSExpr</span><span class="p">):</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="n">op</span><span class="p">,</span> <span class="s1">&#39;exp&#39;</span><span class="p">)</span></div>



<div class="viewcode-block" id="Log">
<a class="viewcode-back" href="../../autoapi/wcps/model/index.html#wcps.model.Log">[docs]</a>
<span class="k">class</span> <span class="nc">Log</span><span class="p">(</span><span class="n">UnaryFunc</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Computes the logarithm (base 10) of ``op``.</span>

<span class="sd">    Examples:</span>

<span class="sd">    - ``Log(Datacube(&quot;test1&quot;))``</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">op</span><span class="p">:</span> <span class="n">WCPSExpr</span><span class="p">):</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="n">op</span><span class="p">,</span> <span class="s1">&#39;log&#39;</span><span class="p">)</span></div>



<div class="viewcode-block" id="Ln">
<a class="viewcode-back" href="../../autoapi/wcps/model/index.html#wcps.model.Ln">[docs]</a>
<span class="k">class</span> <span class="nc">Ln</span><span class="p">(</span><span class="n">UnaryFunc</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Computes the natural logarithm (base e) of ``op``.</span>

<span class="sd">    Examples:</span>

<span class="sd">    - ``Ln(Datacube(&quot;test1&quot;))``</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">op</span><span class="p">:</span> <span class="n">WCPSExpr</span><span class="p">):</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="n">op</span><span class="p">,</span> <span class="s1">&#39;ln&#39;</span><span class="p">)</span></div>



<div class="viewcode-block" id="Sqrt">
<a class="viewcode-back" href="../../autoapi/wcps/model/index.html#wcps.model.Sqrt">[docs]</a>
<span class="k">class</span> <span class="nc">Sqrt</span><span class="p">(</span><span class="n">UnaryFunc</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Computes the square root of ``op``.</span>

<span class="sd">    Examples:</span>

<span class="sd">    - ``Sqrt(Datacube(&quot;test1&quot;))``</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">op</span><span class="p">:</span> <span class="n">WCPSExpr</span><span class="p">):</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="n">op</span><span class="p">,</span> <span class="s1">&#39;sqrt&#39;</span><span class="p">)</span></div>



<div class="viewcode-block" id="Pow">
<a class="viewcode-back" href="../../autoapi/wcps/model/index.html#wcps.model.Pow">[docs]</a>
<span class="k">class</span> <span class="nc">Pow</span><span class="p">(</span><span class="n">BinaryFunc</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Raises ``op1`` to the power of ``op2``.</span>

<span class="sd">    Examples:</span>

<span class="sd">    - ``Pow(Datacube(&quot;test1&quot;), Datacube(&quot;test2&quot;))``</span>
<span class="sd">    - ``Pow(Datacube(&quot;test1&quot;), 5)``</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">op1</span><span class="p">:</span> <span class="n">WCPSExpr</span><span class="p">,</span> <span class="n">op2</span><span class="p">:</span> <span class="n">WCPSExpr</span><span class="p">):</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="n">op1</span><span class="p">,</span> <span class="n">op2</span><span class="p">,</span> <span class="s1">&#39;pow&#39;</span><span class="p">)</span></div>



<span class="c1"># ---------------------------------------------------------------------------------</span>
<span class="c1"># trigonometric</span>

<div class="viewcode-block" id="Sin">
<a class="viewcode-back" href="../../autoapi/wcps/model/index.html#wcps.model.Sin">[docs]</a>
<span class="k">class</span> <span class="nc">Sin</span><span class="p">(</span><span class="n">UnaryFunc</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Computes the sine of ``op``.</span>

<span class="sd">    Examples:</span>

<span class="sd">    - ``Sin(Datacube(&quot;test1&quot;))``</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">op</span><span class="p">:</span> <span class="n">WCPSExpr</span><span class="p">):</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="n">op</span><span class="p">,</span> <span class="s1">&#39;sin&#39;</span><span class="p">)</span></div>



<div class="viewcode-block" id="Cos">
<a class="viewcode-back" href="../../autoapi/wcps/model/index.html#wcps.model.Cos">[docs]</a>
<span class="k">class</span> <span class="nc">Cos</span><span class="p">(</span><span class="n">UnaryFunc</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Computes the cosine of ``op``.</span>

<span class="sd">    Examples:</span>

<span class="sd">    - ``Cos(Datacube(&quot;test1&quot;))``</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">op</span><span class="p">:</span> <span class="n">WCPSExpr</span><span class="p">):</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="n">op</span><span class="p">,</span> <span class="s1">&#39;cos&#39;</span><span class="p">)</span></div>



<div class="viewcode-block" id="Tan">
<a class="viewcode-back" href="../../autoapi/wcps/model/index.html#wcps.model.Tan">[docs]</a>
<span class="k">class</span> <span class="nc">Tan</span><span class="p">(</span><span class="n">UnaryFunc</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Computes the tangent of ``op``.</span>

<span class="sd">    Examples:</span>

<span class="sd">    - ``Tan(Datacube(&quot;test1&quot;))``</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">op</span><span class="p">:</span> <span class="n">WCPSExpr</span><span class="p">):</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="n">op</span><span class="p">,</span> <span class="s1">&#39;tan&#39;</span><span class="p">)</span></div>



<div class="viewcode-block" id="Sinh">
<a class="viewcode-back" href="../../autoapi/wcps/model/index.html#wcps.model.Sinh">[docs]</a>
<span class="k">class</span> <span class="nc">Sinh</span><span class="p">(</span><span class="n">UnaryFunc</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Computes the hyperbolic sine of ``op``.</span>

<span class="sd">    Examples:</span>

<span class="sd">    - ``Sinh(Datacube(&quot;test1&quot;))``</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">op</span><span class="p">:</span> <span class="n">WCPSExpr</span><span class="p">):</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="n">op</span><span class="p">,</span> <span class="s1">&#39;sinh&#39;</span><span class="p">)</span></div>



<div class="viewcode-block" id="Cosh">
<a class="viewcode-back" href="../../autoapi/wcps/model/index.html#wcps.model.Cosh">[docs]</a>
<span class="k">class</span> <span class="nc">Cosh</span><span class="p">(</span><span class="n">UnaryFunc</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Computes the hyperbolic cosine of ``op``.</span>

<span class="sd">    Examples:</span>

<span class="sd">    - ``Cosh(Datacube(&quot;test1&quot;))``</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">op</span><span class="p">:</span> <span class="n">WCPSExpr</span><span class="p">):</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="n">op</span><span class="p">,</span> <span class="s1">&#39;cosh&#39;</span><span class="p">)</span></div>



<div class="viewcode-block" id="Tanh">
<a class="viewcode-back" href="../../autoapi/wcps/model/index.html#wcps.model.Tanh">[docs]</a>
<span class="k">class</span> <span class="nc">Tanh</span><span class="p">(</span><span class="n">UnaryFunc</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Computes the hyperbolic tangent of ``op``.</span>

<span class="sd">    Examples:</span>

<span class="sd">    - ``Tanh(Datacube(&quot;test1&quot;))``</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">op</span><span class="p">:</span> <span class="n">WCPSExpr</span><span class="p">):</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="n">op</span><span class="p">,</span> <span class="s1">&#39;tanh&#39;</span><span class="p">)</span></div>



<div class="viewcode-block" id="ArcSin">
<a class="viewcode-back" href="../../autoapi/wcps/model/index.html#wcps.model.ArcSin">[docs]</a>
<span class="k">class</span> <span class="nc">ArcSin</span><span class="p">(</span><span class="n">UnaryFunc</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Computes the inverse sine of ``op``.</span>

<span class="sd">    Examples:</span>

<span class="sd">    - ``ArcSin(Datacube(&quot;test1&quot;))``</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">op</span><span class="p">:</span> <span class="n">WCPSExpr</span><span class="p">):</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="n">op</span><span class="p">,</span> <span class="s1">&#39;arcsin&#39;</span><span class="p">)</span></div>



<div class="viewcode-block" id="ArcCos">
<a class="viewcode-back" href="../../autoapi/wcps/model/index.html#wcps.model.ArcCos">[docs]</a>
<span class="k">class</span> <span class="nc">ArcCos</span><span class="p">(</span><span class="n">UnaryFunc</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Computes the inverse cosine of ``op``.</span>

<span class="sd">    Examples:</span>

<span class="sd">    - ``ArcCos(Datacube(&quot;test1&quot;))``</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">op</span><span class="p">:</span> <span class="n">WCPSExpr</span><span class="p">):</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="n">op</span><span class="p">,</span> <span class="s1">&#39;arccos&#39;</span><span class="p">)</span></div>



<div class="viewcode-block" id="ArcTan">
<a class="viewcode-back" href="../../autoapi/wcps/model/index.html#wcps.model.ArcTan">[docs]</a>
<span class="k">class</span> <span class="nc">ArcTan</span><span class="p">(</span><span class="n">UnaryFunc</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Computes the inverse tangent of ``op``.</span>

<span class="sd">    Examples:</span>

<span class="sd">    - ``ArcTan(Datacube(&quot;test1&quot;))``</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">op</span><span class="p">:</span> <span class="n">WCPSExpr</span><span class="p">):</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="n">op</span><span class="p">,</span> <span class="s1">&#39;arctan&#39;</span><span class="p">)</span></div>



<div class="viewcode-block" id="ArcTan2">
<a class="viewcode-back" href="../../autoapi/wcps/model/index.html#wcps.model.ArcTan2">[docs]</a>
<span class="k">class</span> <span class="nc">ArcTan2</span><span class="p">(</span><span class="n">UnaryFunc</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Computes the two-argument inverse tangent of ``op``.</span>

<span class="sd">    Examples:</span>

<span class="sd">    - ``ArcTan2(Datacube(&quot;test1&quot;))``</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">op</span><span class="p">:</span> <span class="n">WCPSExpr</span><span class="p">):</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="n">op</span><span class="p">,</span> <span class="s1">&#39;arctan2&#39;</span><span class="p">)</span></div>



<span class="c1"># ---------------------------------------------------------------------------------</span>
<span class="c1"># comparison</span>

<div class="viewcode-block" id="Gt">
<a class="viewcode-back" href="../../autoapi/wcps/model/index.html#wcps.model.Gt">[docs]</a>
<span class="k">class</span> <span class="nc">Gt</span><span class="p">(</span><span class="n">BinaryOp</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Checks if ``op1`` is greater than ``op2``.</span>

<span class="sd">    Examples:</span>

<span class="sd">    - ``Gt(Datacube(&quot;test1&quot;), Datacube(&quot;test2&quot;))``</span>
<span class="sd">    - ``Gt(Datacube(&quot;test1&quot;), 10)``</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">op1</span><span class="p">:</span> <span class="n">WCPSExpr</span><span class="p">,</span> <span class="n">op2</span><span class="p">:</span> <span class="n">WCPSExpr</span><span class="p">):</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="n">op1</span><span class="p">,</span> <span class="n">op2</span><span class="p">,</span> <span class="s1">&#39;&gt;&#39;</span><span class="p">)</span></div>



<div class="viewcode-block" id="Lt">
<a class="viewcode-back" href="../../autoapi/wcps/model/index.html#wcps.model.Lt">[docs]</a>
<span class="k">class</span> <span class="nc">Lt</span><span class="p">(</span><span class="n">BinaryOp</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Checks if ``op1`` is less than ``op2``.</span>

<span class="sd">    Examples:</span>

<span class="sd">    - ``Lt(Datacube(&quot;test1&quot;), Datacube(&quot;test2&quot;))``</span>
<span class="sd">    - ``Lt(Datacube(&quot;test1&quot;), 10)``</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">op1</span><span class="p">:</span> <span class="n">WCPSExpr</span><span class="p">,</span> <span class="n">op2</span><span class="p">:</span> <span class="n">WCPSExpr</span><span class="p">):</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="n">op1</span><span class="p">,</span> <span class="n">op2</span><span class="p">,</span> <span class="s1">&#39;&lt;&#39;</span><span class="p">)</span></div>



<div class="viewcode-block" id="Ge">
<a class="viewcode-back" href="../../autoapi/wcps/model/index.html#wcps.model.Ge">[docs]</a>
<span class="k">class</span> <span class="nc">Ge</span><span class="p">(</span><span class="n">BinaryOp</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Checks if ``op1`` is greater than or equal to ``op2``.</span>

<span class="sd">    Examples:</span>

<span class="sd">    - ``Ge(Datacube(&quot;test1&quot;), Datacube(&quot;test2&quot;))``</span>
<span class="sd">    - ``Ge(Datacube(&quot;test1&quot;), 10)``</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">op1</span><span class="p">:</span> <span class="n">WCPSExpr</span><span class="p">,</span> <span class="n">op2</span><span class="p">:</span> <span class="n">WCPSExpr</span><span class="p">):</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="n">op1</span><span class="p">,</span> <span class="n">op2</span><span class="p">,</span> <span class="s1">&#39;&gt;=&#39;</span><span class="p">)</span></div>



<div class="viewcode-block" id="Le">
<a class="viewcode-back" href="../../autoapi/wcps/model/index.html#wcps.model.Le">[docs]</a>
<span class="k">class</span> <span class="nc">Le</span><span class="p">(</span><span class="n">BinaryOp</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Checks if ``op1`` is less than or equal to ``op2``.</span>

<span class="sd">    Examples:</span>

<span class="sd">    - ``Le(Datacube(&quot;test1&quot;), Datacube(&quot;test2&quot;))``</span>
<span class="sd">    - ``Le(Datacube(&quot;test1&quot;), 10)``</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">op1</span><span class="p">:</span> <span class="n">WCPSExpr</span><span class="p">,</span> <span class="n">op2</span><span class="p">:</span> <span class="n">WCPSExpr</span><span class="p">):</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="n">op1</span><span class="p">,</span> <span class="n">op2</span><span class="p">,</span> <span class="s1">&#39;&lt;=&#39;</span><span class="p">)</span></div>



<div class="viewcode-block" id="Eq">
<a class="viewcode-back" href="../../autoapi/wcps/model/index.html#wcps.model.Eq">[docs]</a>
<span class="k">class</span> <span class="nc">Eq</span><span class="p">(</span><span class="n">BinaryOp</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Checks if ``op1`` is equal to ``op2``.</span>

<span class="sd">    Examples:</span>

<span class="sd">    - ``Eq(Datacube(&quot;test1&quot;), Datacube(&quot;test2&quot;))``</span>
<span class="sd">    - ``Eq(Datacube(&quot;test1&quot;), 10)``</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">op1</span><span class="p">:</span> <span class="n">WCPSExpr</span><span class="p">,</span> <span class="n">op2</span><span class="p">:</span> <span class="n">WCPSExpr</span><span class="p">):</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="n">op1</span><span class="p">,</span> <span class="n">op2</span><span class="p">,</span> <span class="s1">&#39;=&#39;</span><span class="p">)</span></div>



<div class="viewcode-block" id="Ne">
<a class="viewcode-back" href="../../autoapi/wcps/model/index.html#wcps.model.Ne">[docs]</a>
<span class="k">class</span> <span class="nc">Ne</span><span class="p">(</span><span class="n">BinaryOp</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Checks if ``op1`` is not equal to ``op2``.</span>

<span class="sd">    Examples:</span>

<span class="sd">    - ``Ne(Datacube(&quot;test1&quot;), Datacube(&quot;test2&quot;))``</span>
<span class="sd">    - ``Ne(Datacube(&quot;test1&quot;), 10)``</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">op1</span><span class="p">:</span> <span class="n">WCPSExpr</span><span class="p">,</span> <span class="n">op2</span><span class="p">:</span> <span class="n">WCPSExpr</span><span class="p">):</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="n">op1</span><span class="p">,</span> <span class="n">op2</span><span class="p">,</span> <span class="s1">&#39;!=&#39;</span><span class="p">)</span></div>



<span class="c1"># ---------------------------------------------------------------------------------</span>
<span class="c1"># logical</span>

<div class="viewcode-block" id="And">
<a class="viewcode-back" href="../../autoapi/wcps/model/index.html#wcps.model.And">[docs]</a>
<span class="k">class</span> <span class="nc">And</span><span class="p">(</span><span class="n">BinaryOp</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Performs a logical AND operation between ``op1`` and ``op2``.</span>

<span class="sd">    Examples:</span>

<span class="sd">    - ``And(Datacube(&quot;test1&quot;), Datacube(&quot;test2&quot;))``</span>
<span class="sd">    - ``And(Datacube(&quot;test1&quot;), True)``</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">op1</span><span class="p">:</span> <span class="n">WCPSExpr</span><span class="p">,</span> <span class="n">op2</span><span class="p">:</span> <span class="n">WCPSExpr</span><span class="p">):</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="n">op1</span><span class="p">,</span> <span class="n">op2</span><span class="p">,</span> <span class="s1">&#39;and&#39;</span><span class="p">)</span></div>



<div class="viewcode-block" id="Or">
<a class="viewcode-back" href="../../autoapi/wcps/model/index.html#wcps.model.Or">[docs]</a>
<span class="k">class</span> <span class="nc">Or</span><span class="p">(</span><span class="n">BinaryOp</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Performs a logical OR operation between ``op1`` and ``op2``.</span>

<span class="sd">    Examples:</span>

<span class="sd">    - ``Or(Datacube(&quot;test1&quot;), Datacube(&quot;test2&quot;))``</span>
<span class="sd">    - ``Or(Datacube(&quot;test1&quot;), False)``</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">op1</span><span class="p">:</span> <span class="n">WCPSExpr</span><span class="p">,</span> <span class="n">op2</span><span class="p">:</span> <span class="n">WCPSExpr</span><span class="p">):</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="n">op1</span><span class="p">,</span> <span class="n">op2</span><span class="p">,</span> <span class="s1">&#39;or&#39;</span><span class="p">)</span></div>



<div class="viewcode-block" id="Xor">
<a class="viewcode-back" href="../../autoapi/wcps/model/index.html#wcps.model.Xor">[docs]</a>
<span class="k">class</span> <span class="nc">Xor</span><span class="p">(</span><span class="n">BinaryOp</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Performs a logical XOR operation between ``op1`` and ``op2``.</span>

<span class="sd">    Examples:</span>

<span class="sd">    - ``Xor(Datacube(&quot;test1&quot;), Datacube(&quot;test2&quot;))``</span>
<span class="sd">    - ``Xor(Datacube(&quot;test1&quot;), True)``</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">op1</span><span class="p">:</span> <span class="n">WCPSExpr</span><span class="p">,</span> <span class="n">op2</span><span class="p">:</span> <span class="n">WCPSExpr</span><span class="p">):</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="n">op1</span><span class="p">,</span> <span class="n">op2</span><span class="p">,</span> <span class="s1">&#39;xor&#39;</span><span class="p">)</span></div>



<div class="viewcode-block" id="Not">
<a class="viewcode-back" href="../../autoapi/wcps/model/index.html#wcps.model.Not">[docs]</a>
<span class="k">class</span> <span class="nc">Not</span><span class="p">(</span><span class="n">UnaryOp</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Performs a logical Not operation on ``op``.</span>

<span class="sd">    Examples:</span>

<span class="sd">    - ``Not(Datacube(&quot;test1&quot;))``</span>
<span class="sd">    - ``Not(True)``</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">op</span><span class="p">:</span> <span class="n">WCPSExpr</span><span class="p">):</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="n">op</span><span class="p">,</span> <span class="s1">&#39;not&#39;</span><span class="p">)</span></div>



<div class="viewcode-block" id="Overlay">
<a class="viewcode-back" href="../../autoapi/wcps/model/index.html#wcps.model.Overlay">[docs]</a>
<span class="k">class</span> <span class="nc">Overlay</span><span class="p">(</span><span class="n">BinaryOp</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Performs an overlay operation, placing ``op2`` &quot;on top&quot; of ``op1``:</span>

<span class="sd">    - wherever the cell value of ``op2`` is not zero and not null, the result value will be this value.</span>
<span class="sd">    - wherever the cell value of ``op2`` is zero or null, the cell value of ``op1`` will be taken.</span>

<span class="sd">    Examples:</span>

<span class="sd">    - ``Overlay(Datacube(&quot;test1&quot;), Datacube(&quot;test2&quot;))``</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">op1</span><span class="p">:</span> <span class="n">WCPSExpr</span><span class="p">,</span> <span class="n">op2</span><span class="p">:</span> <span class="n">WCPSExpr</span><span class="p">):</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="n">op1</span><span class="p">,</span> <span class="n">op2</span><span class="p">,</span> <span class="s1">&#39;overlay&#39;</span><span class="p">)</span></div>



<div class="viewcode-block" id="Bit">
<a class="viewcode-back" href="../../autoapi/wcps/model/index.html#wcps.model.Bit">[docs]</a>
<span class="k">class</span> <span class="nc">Bit</span><span class="p">(</span><span class="n">BinaryFunc</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Take the bit in the cell values of ``op`` at nonnegative position number ``pos``,</span>
<span class="sd">    and put it as a Boolean value into a byte. Position counting starts with 0 and</span>
<span class="sd">    runs from least to most significant bit.</span>

<span class="sd">    :param pos: The position at which the bit value should be extracted</span>

<span class="sd">    Examples:</span>

<span class="sd">    - ``Bit(Datacube(&quot;test1&quot;, 5)``</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">op</span><span class="p">:</span> <span class="n">WCPSExpr</span><span class="p">,</span> <span class="n">pos</span><span class="p">:</span> <span class="n">WCPSExpr</span><span class="p">):</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="n">op</span><span class="p">,</span> <span class="n">pos</span><span class="p">,</span> <span class="s1">&#39;bit&#39;</span><span class="p">)</span></div>



<span class="c1"># ---------------------------------------------------------------------------------</span>
<span class="c1"># multiband</span>

<div class="viewcode-block" id="Band">
<a class="viewcode-back" href="../../autoapi/wcps/model/index.html#wcps.model.Band">[docs]</a>
<span class="k">class</span> <span class="nc">Band</span><span class="p">(</span><span class="n">WCPSExpr</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Select a field (band, channel) from a multiband operand.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">op</span><span class="p">:</span> <span class="n">WCPSExpr</span><span class="p">,</span> <span class="n">field</span><span class="p">:</span> <span class="p">[</span><span class="nb">str</span> <span class="o">|</span> <span class="nb">int</span><span class="p">]):</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="n">operands</span><span class="o">=</span><span class="p">[</span><span class="n">op</span><span class="p">])</span>
<div class="viewcode-block" id="Band.field">
<a class="viewcode-back" href="../../autoapi/wcps/model/index.html#wcps.model.Band.field">[docs]</a>
        <span class="bp">self</span><span class="o">.</span><span class="n">field</span> <span class="o">=</span> <span class="n">field</span></div>


    <span class="k">def</span> <span class="fm">__str__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="sa">f</span><span class="s1">&#39;</span><span class="si">{</span><span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__str__</span><span class="p">()</span><span class="si">}{</span><span class="bp">self</span><span class="o">.</span><span class="n">operands</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="si">}</span><span class="s1">.</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">field</span><span class="si">}</span><span class="s1">&#39;</span></div>



<div class="viewcode-block" id="MultiBand">
<a class="viewcode-back" href="../../autoapi/wcps/model/index.html#wcps.model.MultiBand">[docs]</a>
<span class="k">class</span> <span class="nc">MultiBand</span><span class="p">(</span><span class="n">WCPSExpr</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Create a multiband value.</span>
<span class="sd">    :param bands: a dictionary of (band name, value), e.g. {&quot;red&quot;: cov1, &quot;blue&quot;: 2}</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">bands</span><span class="p">:</span> <span class="nb">dict</span><span class="p">):</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="n">operands</span><span class="o">=</span><span class="nb">list</span><span class="p">(</span><span class="n">bands</span><span class="o">.</span><span class="n">values</span><span class="p">()))</span>
<div class="viewcode-block" id="MultiBand.bands">
<a class="viewcode-back" href="../../autoapi/wcps/model/index.html#wcps.model.MultiBand.bands">[docs]</a>
        <span class="bp">self</span><span class="o">.</span><span class="n">bands</span> <span class="o">=</span> <span class="n">bands</span></div>


    <span class="k">def</span> <span class="fm">__str__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">bands</span> <span class="o">=</span> <span class="p">[</span><span class="sa">f</span><span class="s1">&#39;</span><span class="si">{</span><span class="n">k</span><span class="si">}</span><span class="s1">: </span><span class="si">{</span><span class="n">v</span><span class="si">}</span><span class="s1">&#39;</span> <span class="k">for</span> <span class="n">k</span><span class="p">,</span> <span class="n">v</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">bands</span><span class="o">.</span><span class="n">items</span><span class="p">()]</span>
        <span class="k">return</span> <span class="sa">f</span><span class="s1">&#39;</span><span class="si">{</span><span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__str__</span><span class="p">()</span><span class="si">}</span><span class="se">{{</span><span class="si">{</span><span class="s2">&quot;; &quot;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">bands</span><span class="p">)</span><span class="si">}</span><span class="se">}}</span><span class="s1">&#39;</span></div>



<div class="viewcode-block" id="rgb">
<a class="viewcode-back" href="../../autoapi/wcps/model/index.html#wcps.model.rgb">[docs]</a>
<span class="k">def</span> <span class="nf">rgb</span><span class="p">(</span><span class="n">r</span><span class="p">:</span> <span class="n">OperandType</span><span class="p">,</span> <span class="n">g</span><span class="p">:</span> <span class="n">OperandType</span><span class="p">,</span> <span class="n">b</span><span class="p">:</span> <span class="n">OperandType</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">MultiBand</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Utility method for conveniently specifying RGB (red, green, blue) multiband values.</span>
<span class="sd">    Examples:</span>

<span class="sd">    - ``rgb(255,255,255)``</span>
<span class="sd">    - ``rgb(red_cov, blue_cov, 0)``</span>

<span class="sd">    :param r: red band</span>
<span class="sd">    :param g: green band</span>
<span class="sd">    :param b: blue band</span>
<span class="sd">    :return: a MultiBand object with red, green and blue bands correspondingly.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="n">MultiBand</span><span class="p">({</span><span class="s1">&#39;red&#39;</span><span class="p">:</span> <span class="n">r</span><span class="p">,</span> <span class="s1">&#39;green&#39;</span><span class="p">:</span> <span class="n">g</span><span class="p">,</span> <span class="s1">&#39;blue&#39;</span><span class="p">:</span> <span class="n">b</span><span class="p">})</span></div>



<div class="viewcode-block" id="rgba">
<a class="viewcode-back" href="../../autoapi/wcps/model/index.html#wcps.model.rgba">[docs]</a>
<span class="k">def</span> <span class="nf">rgba</span><span class="p">(</span><span class="n">r</span><span class="p">:</span> <span class="n">OperandType</span><span class="p">,</span> <span class="n">g</span><span class="p">:</span> <span class="n">OperandType</span><span class="p">,</span> <span class="n">b</span><span class="p">:</span> <span class="n">OperandType</span><span class="p">,</span> <span class="n">a</span><span class="p">:</span> <span class="n">OperandType</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">MultiBand</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Utility method for conveniently specifying RGBA (red, green, blue, alpha) multiband values.</span>
<span class="sd">    Examples:</span>

<span class="sd">    - ``rgb(255,255,255,255)``</span>
<span class="sd">    - ``rgb(red_cov, blue_cov, 0, 255)``</span>

<span class="sd">    :param r: red band</span>
<span class="sd">    :param g: green band</span>
<span class="sd">    :param b: blue band</span>
<span class="sd">    :param a: alpha band</span>
<span class="sd">    :return: a MultiBand object with red, green, blue and alpha bands correspondingly.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="n">MultiBand</span><span class="p">({</span><span class="s1">&#39;red&#39;</span><span class="p">:</span> <span class="n">r</span><span class="p">,</span> <span class="s1">&#39;green&#39;</span><span class="p">:</span> <span class="n">g</span><span class="p">,</span> <span class="s1">&#39;blue&#39;</span><span class="p">:</span> <span class="n">b</span><span class="p">,</span> <span class="s1">&#39;alpha&#39;</span><span class="p">:</span> <span class="n">a</span><span class="p">})</span></div>



<span class="c1"># ---------------------------------------------------------------------------------</span>
<span class="c1"># subsetting, extend, scale</span>

<div class="viewcode-block" id="Axis">
<a class="viewcode-back" href="../../autoapi/wcps/model/index.html#wcps.model.Axis">[docs]</a>
<span class="k">class</span> <span class="nc">Axis</span><span class="p">(</span><span class="n">WCPSExpr</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Represents an axis interval for defining spatial, temporal, or other dimensional subsets</span>
<span class="sd">    in WCPS queries. An axis subset specifies a trim (or slice) along a specific axis,</span>
<span class="sd">    optionally with a Coordinate Reference System (CRS) if the low/high are not in the</span>
<span class="sd">    native CRS.</span>

<span class="sd">    This object can be used in operations like subsetting, extending, or scaling</span>
<span class="sd">    coverages. It supports both single values (slicing) and ranges (trimming).</span>

<span class="sd">    :param axis_name: The name of the axis (e.g., &quot;X&quot;, &quot;Y&quot;, &quot;time&quot;).</span>
<span class="sd">    :param low: The lower bound of a subset trim, or a slice value if ``high`` is not given.</span>
<span class="sd">    :param high: The upper bound of a subset trim.</span>
<span class="sd">    :param crs: The CRS associated with the axis (e.g., &quot;EPSG:4326&quot;), usually set if</span>
<span class="sd">        the low/high values are not in the native CRS.</span>

<span class="sd">    Constants:</span>
<span class="sd">        MIN (&#39;*&#39;): Can be used for the minimum bound of an axis.</span>
<span class="sd">        MAX (&#39;*&#39;): Can be used for the maximum bound of an axis.</span>

<span class="sd">    Examples:</span>

<span class="sd">    .. code:: python</span>

<span class="sd">        # Define a spatial axis subset from 15.0 to 20.0 with CRS &quot;EPSG:4326&quot;</span>
<span class="sd">        axis = Axis(&quot;X&quot;, 15.0, 20.0, &quot;EPSG:4326&quot;)</span>

<span class="sd">        # Define slicing on the temporal axis time</span>
<span class="sd">        axis = Axis(&quot;time&quot;, &quot;2025-01-01&quot;)</span>

<span class="sd">    :raises WCPSClientException: If the axis name is empty.</span>
<span class="sd">    &quot;&quot;&quot;</span>

<div class="viewcode-block" id="Axis.MIN">
<a class="viewcode-back" href="../../autoapi/wcps/model/index.html#wcps.model.Axis.MIN">[docs]</a>
    <span class="n">MIN</span> <span class="o">=</span> <span class="s1">&#39;*&#39;</span></div>

<div class="viewcode-block" id="Axis.MAX">
<a class="viewcode-back" href="../../autoapi/wcps/model/index.html#wcps.model.Axis.MAX">[docs]</a>
    <span class="n">MAX</span> <span class="o">=</span> <span class="s1">&#39;*&#39;</span></div>


    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">axis_name</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">low</span><span class="p">:</span> <span class="n">BoundType</span><span class="p">,</span> <span class="n">high</span><span class="p">:</span> <span class="n">BoundType</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="n">crs</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="kc">None</span><span class="p">):</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="n">operands</span><span class="o">=</span><span class="p">[</span><span class="n">low</span><span class="p">,</span> <span class="n">high</span><span class="p">])</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">axis_name</span><span class="p">:</span>
            <span class="k">raise</span> <span class="n">WCPSClientException</span><span class="p">(</span><span class="s2">&quot;Axis name must not be empty.&quot;</span><span class="p">)</span>
<div class="viewcode-block" id="Axis.axis_name">
<a class="viewcode-back" href="../../autoapi/wcps/model/index.html#wcps.model.Axis.axis_name">[docs]</a>
        <span class="bp">self</span><span class="o">.</span><span class="n">axis_name</span> <span class="o">=</span> <span class="n">axis_name</span></div>

<div class="viewcode-block" id="Axis.low">
<a class="viewcode-back" href="../../autoapi/wcps/model/index.html#wcps.model.Axis.low">[docs]</a>
        <span class="bp">self</span><span class="o">.</span><span class="n">low</span> <span class="o">=</span> <span class="n">low</span></div>

<div class="viewcode-block" id="Axis.high">
<a class="viewcode-back" href="../../autoapi/wcps/model/index.html#wcps.model.Axis.high">[docs]</a>
        <span class="bp">self</span><span class="o">.</span><span class="n">high</span> <span class="o">=</span> <span class="n">high</span></div>

<div class="viewcode-block" id="Axis.crs">
<a class="viewcode-back" href="../../autoapi/wcps/model/index.html#wcps.model.Axis.crs">[docs]</a>
        <span class="bp">self</span><span class="o">.</span><span class="n">crs</span> <span class="o">=</span> <span class="n">crs</span></div>


    <span class="k">def</span> <span class="fm">__str__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">ret</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">axis_name</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">crs</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">ret</span> <span class="o">+=</span> <span class="sa">f</span><span class="s1">&#39;:&quot;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">crs</span><span class="si">}</span><span class="s1">&quot;&#39;</span>
        <span class="n">operands</span> <span class="o">=</span> <span class="p">[</span><span class="nb">str</span><span class="p">(</span><span class="n">op</span><span class="p">)</span> <span class="k">for</span> <span class="n">op</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">operands</span><span class="p">]</span>
        <span class="n">operands</span> <span class="o">=</span> <span class="p">[</span><span class="n">op</span> <span class="k">if</span> <span class="n">op</span> <span class="o">!=</span> <span class="s1">&#39;&quot;*&quot;&#39;</span> <span class="k">else</span> <span class="s1">&#39;*&#39;</span> <span class="k">for</span> <span class="n">op</span> <span class="ow">in</span> <span class="n">operands</span><span class="p">]</span>
        <span class="n">ret</span> <span class="o">+=</span> <span class="sa">f</span><span class="s1">&#39;(</span><span class="si">{</span><span class="s2">&quot;:&quot;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">operands</span><span class="p">)</span><span class="si">}</span><span class="s1">)&#39;</span>
        <span class="k">return</span> <span class="n">ret</span>

    <span class="nd">@staticmethod</span>
<div class="viewcode-block" id="Axis.get_axis_list">
<a class="viewcode-back" href="../../autoapi/wcps/model/index.html#wcps.model.Axis.get_axis_list">[docs]</a>
    <span class="k">def</span> <span class="nf">get_axis_list</span><span class="p">(</span><span class="n">axes</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="n">Axis</span><span class="p">,</span> <span class="nb">slice</span><span class="p">,</span> <span class="nb">tuple</span><span class="p">[</span><span class="n">Axis</span><span class="p">],</span> <span class="n">AxisTuple</span><span class="p">,</span> <span class="nb">tuple</span><span class="p">[</span><span class="n">AxisTuple</span><span class="p">],</span>
    <span class="nb">tuple</span><span class="p">[</span><span class="nb">slice</span><span class="p">],</span> <span class="nb">list</span><span class="p">[</span><span class="n">Axis</span><span class="p">],</span> <span class="nb">list</span><span class="p">[</span><span class="n">AxisTuple</span><span class="p">]])</span> <span class="o">-&gt;</span> <span class="nb">list</span><span class="p">[</span><span class="n">Axis</span><span class="p">]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Normalizes ``axes`` into a list of Axis objects.</span>
<span class="sd">        :param axes: may be:</span>

<span class="sd">            - a single Axis, e.g. ``Axis(&quot;X&quot;, 0, 100.5, &quot;EPSG:4326&quot;)``</span>
<span class="sd">            - a single slice, e.g. ``&quot;X&quot;:1``, or ``&quot;X&quot;:1:15.3``</span>
<span class="sd">            - a tuple of Axis objects, e.g. ``(Axis(...), Axis(...), ...)``</span>
<span class="sd">            - a single in-place axis tuple, e.g. ``(&quot;X&quot;, 0, 100.5, &quot;EPSG:4326&quot;)``</span>
<span class="sd">            - a tuple of axis tuples, e.g. ``((&quot;X&quot;, 0, 100.5), (...), ...)``</span>
<span class="sd">            - a tuple of slices, e.g. ``(&quot;X&quot;:1, &quot;Y&quot;:0:100.5)``</span>
<span class="sd">            - a list of Axis objects, e.g. ``[Axis(...), Axis(...), ...]``</span>
<span class="sd">            - a list of axis tuples, e.g. ``[(&quot;X&quot;, 0, 100.5), (...), ...]``</span>

<span class="sd">        :raise: a :class:`WCPSClientException` in case ``axes`` is in invalid shape.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">axes</span><span class="p">,</span> <span class="n">Axis</span><span class="p">):</span>
            <span class="c1"># $c[Axis(..)]</span>
            <span class="k">return</span> <span class="p">[</span><span class="n">axes</span><span class="p">]</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">axes</span><span class="p">,</span> <span class="nb">slice</span><span class="p">):</span>
            <span class="k">return</span> <span class="p">[</span><span class="n">Axis</span><span class="p">(</span><span class="n">axis_name</span><span class="o">=</span><span class="n">axes</span><span class="o">.</span><span class="n">start</span><span class="p">,</span> <span class="n">low</span><span class="o">=</span><span class="n">axes</span><span class="o">.</span><span class="n">stop</span><span class="p">,</span> <span class="n">high</span><span class="o">=</span><span class="n">axes</span><span class="o">.</span><span class="n">step</span><span class="p">)]</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">axes</span><span class="p">,</span> <span class="nb">tuple</span><span class="p">):</span>
            <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">axes</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">Axis</span><span class="p">):</span>
                <span class="c1"># $c[Axis(..), Axis(..), ..]</span>
                <span class="n">Axis</span><span class="o">.</span><span class="n">_validate_all_same_type</span><span class="p">(</span><span class="n">axes</span><span class="p">,</span> <span class="n">Axis</span><span class="p">,</span> <span class="s2">&quot;Axis&quot;</span><span class="p">)</span>
                <span class="k">return</span> <span class="nb">list</span><span class="p">(</span><span class="n">axes</span><span class="p">)</span>
            <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">axes</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="nb">str</span><span class="p">):</span>
                <span class="c1"># $c[(&quot;X&quot;, ..)]</span>
                <span class="k">return</span> <span class="p">[</span><span class="n">Axis</span><span class="p">(</span><span class="o">*</span><span class="n">axes</span><span class="p">)]</span>
            <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">axes</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="nb">tuple</span><span class="p">):</span>
                <span class="c1"># $c[(&quot;X&quot;, ..), (&quot;Y&quot;, ..), ..]</span>
                <span class="n">Axis</span><span class="o">.</span><span class="n">_validate_all_same_type</span><span class="p">(</span><span class="n">axes</span><span class="p">,</span> <span class="nb">tuple</span><span class="p">,</span> <span class="s2">&quot;tuple&quot;</span><span class="p">)</span>
                <span class="k">return</span> <span class="p">[</span><span class="n">Axis</span><span class="p">(</span><span class="o">*</span><span class="n">axis</span><span class="p">)</span> <span class="k">for</span> <span class="n">axis</span> <span class="ow">in</span> <span class="n">axes</span><span class="p">]</span>
            <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">axes</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="nb">slice</span><span class="p">):</span>
                <span class="n">Axis</span><span class="o">.</span><span class="n">_validate_all_same_type</span><span class="p">(</span><span class="n">axes</span><span class="p">,</span> <span class="nb">slice</span><span class="p">,</span> <span class="s2">&quot;slice&quot;</span><span class="p">)</span>
                <span class="k">return</span> <span class="p">[</span><span class="n">Axis</span><span class="p">(</span><span class="n">axis_name</span><span class="o">=</span><span class="n">s</span><span class="o">.</span><span class="n">start</span><span class="p">,</span> <span class="n">low</span><span class="o">=</span><span class="n">s</span><span class="o">.</span><span class="n">stop</span><span class="p">,</span> <span class="n">high</span><span class="o">=</span><span class="n">s</span><span class="o">.</span><span class="n">step</span><span class="p">)</span> <span class="k">for</span> <span class="n">s</span> <span class="ow">in</span> <span class="n">axes</span><span class="p">]</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">axes</span><span class="p">,</span> <span class="nb">list</span><span class="p">):</span>
            <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">axes</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">Axis</span><span class="p">):</span>
                <span class="c1"># $c[Axis(..), Axis(..), ..]</span>
                <span class="n">Axis</span><span class="o">.</span><span class="n">_validate_all_same_type</span><span class="p">(</span><span class="n">axes</span><span class="p">,</span> <span class="n">Axis</span><span class="p">,</span> <span class="s2">&quot;Axis&quot;</span><span class="p">)</span>
                <span class="k">return</span> <span class="n">axes</span>
            <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">axes</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="nb">tuple</span><span class="p">):</span>
                <span class="c1"># $c[(&quot;X&quot;, ..), (&quot;Y&quot;, ..), ..]</span>
                <span class="n">Axis</span><span class="o">.</span><span class="n">_validate_all_same_type</span><span class="p">(</span><span class="n">axes</span><span class="p">,</span> <span class="nb">tuple</span><span class="p">,</span> <span class="s2">&quot;tuple&quot;</span><span class="p">)</span>
                <span class="k">return</span> <span class="p">[</span><span class="n">Axis</span><span class="p">(</span><span class="o">*</span><span class="n">axis</span><span class="p">)</span> <span class="k">for</span> <span class="n">axis</span> <span class="ow">in</span> <span class="n">axes</span><span class="p">]</span>

        <span class="k">raise</span> <span class="n">WCPSClientException</span><span class="p">(</span><span class="s2">&quot;Invalid subsetting operation, expected one or more Axis objects, &quot;</span>
                                  <span class="s2">&quot;or tuples of the shape: (axis_name, low, high, crs)&quot;</span><span class="p">)</span></div>


    <span class="nd">@staticmethod</span>
    <span class="k">def</span> <span class="nf">_validate_all_same_type</span><span class="p">(</span><span class="n">axes</span><span class="p">,</span> <span class="n">axis_type</span><span class="p">,</span> <span class="n">axis_type_str</span><span class="p">):</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="nb">all</span><span class="p">(</span><span class="nb">isinstance</span><span class="p">(</span><span class="n">a</span><span class="p">,</span> <span class="n">axis_type</span><span class="p">)</span> <span class="k">for</span> <span class="n">a</span> <span class="ow">in</span> <span class="n">axes</span><span class="p">):</span>
            <span class="k">raise</span> <span class="n">WCPSClientException</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Mixed types of axis specifications provided,&quot;</span>
                                      <span class="sa">f</span><span class="s2">&quot;expected all objects to be of type </span><span class="si">{</span><span class="n">axis_type_str</span><span class="si">}</span><span class="s2">.&quot;</span><span class="p">)</span></div>



<div class="viewcode-block" id="Subset">
<a class="viewcode-back" href="../../autoapi/wcps/model/index.html#wcps.model.Subset">[docs]</a>
<span class="k">class</span> <span class="nc">Subset</span><span class="p">(</span><span class="n">WCPSExpr</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Select a spatio-temporal area from a coverage operand.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">op</span><span class="p">:</span> <span class="n">WCPSExpr</span><span class="p">,</span> <span class="n">axes</span><span class="p">):</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="n">operands</span><span class="o">=</span><span class="p">[</span><span class="n">op</span><span class="p">]</span> <span class="o">+</span> <span class="n">Axis</span><span class="o">.</span><span class="n">get_axis_list</span><span class="p">(</span><span class="n">axes</span><span class="p">))</span>

    <span class="k">def</span> <span class="fm">__str__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">axis_subsets_str</span> <span class="o">=</span> <span class="n">_list_to_str</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">operands</span><span class="p">[</span><span class="mi">1</span><span class="p">:],</span> <span class="s1">&#39;, &#39;</span><span class="p">)</span>
        <span class="k">return</span> <span class="sa">f</span><span class="s1">&#39;</span><span class="si">{</span><span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__str__</span><span class="p">()</span><span class="si">}{</span><span class="bp">self</span><span class="o">.</span><span class="n">operands</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="si">}</span><span class="s1">[</span><span class="si">{</span><span class="n">axis_subsets_str</span><span class="si">}</span><span class="s1">]&#39;</span></div>



<div class="viewcode-block" id="Extend">
<a class="viewcode-back" href="../../autoapi/wcps/model/index.html#wcps.model.Extend">[docs]</a>
<span class="k">class</span> <span class="nc">Extend</span><span class="p">(</span><span class="n">WCPSExpr</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Enlarge a coverage with new areas set to null values.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">op</span><span class="p">:</span> <span class="n">WCPSExpr</span><span class="p">,</span> <span class="n">axes</span><span class="p">):</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="n">operands</span><span class="o">=</span><span class="p">[</span><span class="n">op</span><span class="p">]</span> <span class="o">+</span> <span class="n">Axis</span><span class="o">.</span><span class="n">get_axis_list</span><span class="p">(</span><span class="n">axes</span><span class="p">))</span>

    <span class="k">def</span> <span class="fm">__str__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">axis_subsets_str</span> <span class="o">=</span> <span class="n">_list_to_str</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">operands</span><span class="p">[</span><span class="mi">1</span><span class="p">:],</span> <span class="s1">&#39;, &#39;</span><span class="p">)</span>
        <span class="k">return</span> <span class="sa">f</span><span class="s1">&#39;</span><span class="si">{</span><span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__str__</span><span class="p">()</span><span class="si">}</span><span class="s1">extend(</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">operands</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="si">}</span><span class="s1">, </span><span class="se">{{</span><span class="s1"> </span><span class="si">{</span><span class="n">axis_subsets_str</span><span class="si">}</span><span class="s1"> </span><span class="se">}}</span><span class="s1">)&#39;</span></div>



<div class="viewcode-block" id="Scale">
<a class="viewcode-back" href="../../autoapi/wcps/model/index.html#wcps.model.Scale">[docs]</a>
<span class="k">class</span> <span class="nc">Scale</span><span class="p">(</span><span class="n">WCPSExpr</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Resamples the coverage values to fit a new domain. The target domain can be:</span>

<span class="sd">    1. An explicit grid domain for each axis with :meth:`to_explicit_grid_domain`: ::</span>

<span class="sd">            Scale(cov).to_explicit_grid_domain(</span>
<span class="sd">                [(&quot;X&quot;, 15, 30), (&quot;Y&quot;, 20, 40)])</span>

<span class="sd">    2. A grid domain matching another coverage with :meth:`to_grid_domain_of`: ::</span>

<span class="sd">            Scale(cov).to_grid_domain_of(cov2)</span>

<span class="sd">    3. A scale factor equally applied to all axes with :meth:`by_factor`: ::</span>

<span class="sd">            Scale(cov).by_factor(0.5)</span>

<span class="sd">    3. A scale factor per axis with :meth:`by_factor_per_axis`: ::</span>

<span class="sd">            Scale(cov).by_factor_per_axis([0.5, 2])</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">op</span><span class="p">:</span> <span class="n">WCPSExpr</span><span class="p">):</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="n">operands</span><span class="o">=</span><span class="p">[</span><span class="n">op</span><span class="p">])</span>
<div class="viewcode-block" id="Scale.axis_subsets">
<a class="viewcode-back" href="../../autoapi/wcps/model/index.html#wcps.model.Scale.axis_subsets">[docs]</a>
        <span class="bp">self</span><span class="o">.</span><span class="n">axis_subsets</span> <span class="o">=</span> <span class="kc">None</span></div>

<div class="viewcode-block" id="Scale.another_coverage">
<a class="viewcode-back" href="../../autoapi/wcps/model/index.html#wcps.model.Scale.another_coverage">[docs]</a>
        <span class="bp">self</span><span class="o">.</span><span class="n">another_coverage</span> <span class="o">=</span> <span class="kc">None</span></div>

<div class="viewcode-block" id="Scale.scale_factor">
<a class="viewcode-back" href="../../autoapi/wcps/model/index.html#wcps.model.Scale.scale_factor">[docs]</a>
        <span class="bp">self</span><span class="o">.</span><span class="n">scale_factor</span> <span class="o">=</span> <span class="kc">None</span></div>

<div class="viewcode-block" id="Scale.scale_factors">
<a class="viewcode-back" href="../../autoapi/wcps/model/index.html#wcps.model.Scale.scale_factors">[docs]</a>
        <span class="bp">self</span><span class="o">.</span><span class="n">scale_factors</span> <span class="o">=</span> <span class="kc">None</span></div>


    <span class="k">def</span> <span class="fm">__str__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">ret</span> <span class="o">=</span> <span class="sa">f</span><span class="s1">&#39;</span><span class="si">{</span><span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__str__</span><span class="p">()</span><span class="si">}</span><span class="s1">scale(</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">operands</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="si">}</span><span class="s1">, </span><span class="se">{{</span><span class="s1"> &#39;</span>

        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">axis_subsets</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">ret</span> <span class="o">+=</span> <span class="n">_list_to_str</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">operands</span><span class="p">[</span><span class="mi">1</span><span class="p">:],</span> <span class="s1">&#39;, &#39;</span><span class="p">)</span>
        <span class="k">elif</span> <span class="bp">self</span><span class="o">.</span><span class="n">another_coverage</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">ret</span> <span class="o">+=</span> <span class="sa">f</span><span class="s1">&#39;imageCrsDomain(</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">another_coverage</span><span class="si">}</span><span class="s1">)&#39;</span>
        <span class="k">elif</span> <span class="bp">self</span><span class="o">.</span><span class="n">scale_factor</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">return</span> <span class="sa">f</span><span class="s1">&#39;</span><span class="si">{</span><span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__str__</span><span class="p">()</span><span class="si">}</span><span class="s1">scale(</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">operands</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="si">}</span><span class="s1">, </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">scale_factor</span><span class="si">}</span><span class="s1">)&#39;</span>
        <span class="k">elif</span> <span class="bp">self</span><span class="o">.</span><span class="n">scale_factors</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">ret</span> <span class="o">+=</span> <span class="n">_list_to_str</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">operands</span><span class="p">[</span><span class="mi">1</span><span class="p">:],</span> <span class="s1">&#39;, &#39;</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">raise</span> <span class="n">WCPSClientException</span><span class="p">(</span><span class="s2">&quot;No scale target specified, exactly one of to_explicit_grid_domain, &quot;</span>
                                      <span class="s2">&quot;to_grid_domain_of, by_factor, or by_factor_per_axis must be executed.&quot;</span><span class="p">)</span>

        <span class="n">ret</span> <span class="o">+=</span> <span class="s1">&#39; })&#39;</span>
        <span class="k">return</span> <span class="n">ret</span>

<div class="viewcode-block" id="Scale.to_explicit_grid_domain">
<a class="viewcode-back" href="../../autoapi/wcps/model/index.html#wcps.model.Scale.to_explicit_grid_domain">[docs]</a>
    <span class="k">def</span> <span class="nf">to_explicit_grid_domain</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">grid_axes</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Scale to fit the grid domain specified by the ``grid_axes``.</span>

<span class="sd">        :param grid_axes: a list of :class:`Axis`</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">axis_subsets</span> <span class="o">=</span> <span class="n">Axis</span><span class="o">.</span><span class="n">get_axis_list</span><span class="p">(</span><span class="n">grid_axes</span><span class="p">)</span>
        <span class="k">for</span> <span class="n">axis</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">axis_subsets</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">add_operand</span><span class="p">(</span><span class="n">axis</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_validate_exclusive</span><span class="p">()</span>
        <span class="k">return</span> <span class="bp">self</span></div>


<div class="viewcode-block" id="Scale.to_grid_domain_of">
<a class="viewcode-back" href="../../autoapi/wcps/model/index.html#wcps.model.Scale.to_grid_domain_of">[docs]</a>
    <span class="k">def</span> <span class="nf">to_grid_domain_of</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">another_coverage</span><span class="p">:</span> <span class="n">WCPSExpr</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Scale to fit the grid domain of ``another_coverage``.</span>

<span class="sd">        :param another_coverage: a coverage expression</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">another_coverage</span> <span class="o">=</span> <span class="n">another_coverage</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">add_operand</span><span class="p">(</span><span class="n">another_coverage</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_validate_exclusive</span><span class="p">()</span>
        <span class="k">return</span> <span class="bp">self</span></div>


<div class="viewcode-block" id="Scale.by_factor">
<a class="viewcode-back" href="../../autoapi/wcps/model/index.html#wcps.model.Scale.by_factor">[docs]</a>
    <span class="k">def</span> <span class="nf">by_factor</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">scale_factor</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="nb">float</span><span class="p">]):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        :param scale_factor: factor &gt; 1 for scaling up, 0 &lt; factor &lt; 1 for scaling down</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_validate_scale_factor</span><span class="p">(</span><span class="n">scale_factor</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">scale_factor</span> <span class="o">=</span> <span class="n">scale_factor</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">add_operand</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">scale_factor</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_validate_exclusive</span><span class="p">()</span>
        <span class="k">return</span> <span class="bp">self</span></div>


<div class="viewcode-block" id="Scale.by_factor_per_axis">
<a class="viewcode-back" href="../../autoapi/wcps/model/index.html#wcps.model.Scale.by_factor_per_axis">[docs]</a>
    <span class="k">def</span> <span class="nf">by_factor_per_axis</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">scale_factors</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        :param scale_factors: a list of Axis(name, factor)</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">scale_factors</span> <span class="o">=</span> <span class="n">Axis</span><span class="o">.</span><span class="n">get_axis_list</span><span class="p">(</span><span class="n">scale_factors</span><span class="p">)</span>
        <span class="k">for</span> <span class="n">axis</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">scale_factors</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">add_operand</span><span class="p">(</span><span class="n">axis</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">axis</span><span class="o">.</span><span class="n">high</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
                <span class="k">raise</span> <span class="n">WCPSClientException</span><span class="p">(</span><span class="s2">&quot;When scaling by axis factors only a single factor &quot;</span>
                                          <span class="s2">&quot;per axis should be specified.&quot;</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">axis</span><span class="o">.</span><span class="n">crs</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
                <span class="k">raise</span> <span class="n">WCPSClientException</span><span class="p">(</span><span class="s2">&quot;When scaling by axis factors a CRS must not be specified.&quot;</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_validate_scale_factor</span><span class="p">(</span><span class="n">axis</span><span class="o">.</span><span class="n">low</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_validate_exclusive</span><span class="p">()</span>
        <span class="k">return</span> <span class="bp">self</span></div>


    <span class="k">def</span> <span class="nf">_validate_scale_factor</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">scale_factor</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Validate that a scale factor is correct type and value.</span>
<span class="sd">        :param scale_factor: the scaling factor to check</span>
<span class="sd">        :raises WCPSClientException: if the scale factor is invalid type of &lt;= 0.</span>
<span class="sd">        :meta private:</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">scale_factor</span><span class="p">,</span> <span class="p">(</span><span class="nb">float</span><span class="p">,</span> <span class="nb">int</span><span class="p">)):</span>
            <span class="k">raise</span> <span class="n">WCPSClientException</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Expected a number scale factor, got </span><span class="si">{</span><span class="nb">type</span><span class="p">(</span><span class="n">scale_factor</span><span class="p">)</span><span class="si">}</span><span class="s2">.&quot;</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">scale_factor</span> <span class="o">&lt;=</span> <span class="mi">0</span><span class="p">:</span>
            <span class="k">raise</span> <span class="n">WCPSClientException</span><span class="p">(</span><span class="s2">&quot;Scale factor must be greater than zero.&quot;</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">_validate_exclusive</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Check that only one scale target is specified.</span>
<span class="sd">        :raises WCPSClientException: if multiple scale targets were specified.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">values</span> <span class="o">=</span> <span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">axis_subsets</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">another_coverage</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">scale_factor</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">scale_factors</span><span class="p">]</span>
        <span class="k">if</span> <span class="nb">sum</span><span class="p">(</span><span class="mi">1</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">values</span> <span class="k">if</span> <span class="n">x</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">1</span><span class="p">:</span>
            <span class="k">raise</span> <span class="n">WCPSClientException</span><span class="p">(</span><span class="s2">&quot;Cannot set multiple scale specifications, exactly one of &quot;</span>
                                      <span class="s2">&quot;to_explicit_grid_domain, to_grid_domain_of, by_factor, or &quot;</span>
                                      <span class="s2">&quot;by_factor_per_axis must be executed.&quot;</span><span class="p">)</span></div>


<span class="c1"># ---------------------------------------------------------------------------------</span>
<span class="c1"># reprojection</span>

<div class="viewcode-block" id="ResampleAlg">
<a class="viewcode-back" href="../../autoapi/wcps/model/index.html#wcps.model.ResampleAlg">[docs]</a>
<span class="k">class</span> <span class="nc">ResampleAlg</span><span class="p">(</span><span class="n">StrEnum</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Possible interpolation methods for :class:`Reproject`.</span>
<span class="sd">    &quot;&quot;&quot;</span>
<div class="viewcode-block" id="ResampleAlg.NEAR">
<a class="viewcode-back" href="../../autoapi/wcps/model/index.html#wcps.model.ResampleAlg.NEAR">[docs]</a>
    <span class="n">NEAR</span> <span class="o">=</span> <span class="s1">&#39;near&#39;</span></div>

<div class="viewcode-block" id="ResampleAlg.BILINEAR">
<a class="viewcode-back" href="../../autoapi/wcps/model/index.html#wcps.model.ResampleAlg.BILINEAR">[docs]</a>
    <span class="n">BILINEAR</span> <span class="o">=</span> <span class="s1">&#39;bilinear&#39;</span></div>

<div class="viewcode-block" id="ResampleAlg.CUBIC">
<a class="viewcode-back" href="../../autoapi/wcps/model/index.html#wcps.model.ResampleAlg.CUBIC">[docs]</a>
    <span class="n">CUBIC</span> <span class="o">=</span> <span class="s1">&#39;cubic&#39;</span></div>

<div class="viewcode-block" id="ResampleAlg.CUBICSPLINE">
<a class="viewcode-back" href="../../autoapi/wcps/model/index.html#wcps.model.ResampleAlg.CUBICSPLINE">[docs]</a>
    <span class="n">CUBICSPLINE</span> <span class="o">=</span> <span class="s1">&#39;cubicspline&#39;</span></div>

<div class="viewcode-block" id="ResampleAlg.LANCZOS">
<a class="viewcode-back" href="../../autoapi/wcps/model/index.html#wcps.model.ResampleAlg.LANCZOS">[docs]</a>
    <span class="n">LANCZOS</span> <span class="o">=</span> <span class="s1">&#39;lanczos&#39;</span></div>

<div class="viewcode-block" id="ResampleAlg.AVERAGE">
<a class="viewcode-back" href="../../autoapi/wcps/model/index.html#wcps.model.ResampleAlg.AVERAGE">[docs]</a>
    <span class="n">AVERAGE</span> <span class="o">=</span> <span class="s1">&#39;average&#39;</span></div>

<div class="viewcode-block" id="ResampleAlg.MODE">
<a class="viewcode-back" href="../../autoapi/wcps/model/index.html#wcps.model.ResampleAlg.MODE">[docs]</a>
    <span class="n">MODE</span> <span class="o">=</span> <span class="s1">&#39;mode&#39;</span></div>

<div class="viewcode-block" id="ResampleAlg.MAX">
<a class="viewcode-back" href="../../autoapi/wcps/model/index.html#wcps.model.ResampleAlg.MAX">[docs]</a>
    <span class="n">MAX</span> <span class="o">=</span> <span class="s1">&#39;max&#39;</span></div>

<div class="viewcode-block" id="ResampleAlg.MIN">
<a class="viewcode-back" href="../../autoapi/wcps/model/index.html#wcps.model.ResampleAlg.MIN">[docs]</a>
    <span class="n">MIN</span> <span class="o">=</span> <span class="s1">&#39;min&#39;</span></div>

<div class="viewcode-block" id="ResampleAlg.MED">
<a class="viewcode-back" href="../../autoapi/wcps/model/index.html#wcps.model.ResampleAlg.MED">[docs]</a>
    <span class="n">MED</span> <span class="o">=</span> <span class="s1">&#39;med&#39;</span></div>

<div class="viewcode-block" id="ResampleAlg.Q1">
<a class="viewcode-back" href="../../autoapi/wcps/model/index.html#wcps.model.ResampleAlg.Q1">[docs]</a>
    <span class="n">Q1</span> <span class="o">=</span> <span class="s1">&#39;q1&#39;</span></div>

<div class="viewcode-block" id="ResampleAlg.Q3">
<a class="viewcode-back" href="../../autoapi/wcps/model/index.html#wcps.model.ResampleAlg.Q3">[docs]</a>
    <span class="n">Q3</span> <span class="o">=</span> <span class="s1">&#39;q3&#39;</span></div>


    <span class="nd">@classmethod</span>
<div class="viewcode-block" id="ResampleAlg.list">
<a class="viewcode-back" href="../../autoapi/wcps/model/index.html#wcps.model.ResampleAlg.list">[docs]</a>
    <span class="k">def</span> <span class="nf">list</span><span class="p">(</span><span class="bp">cls</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;:return: a list of the Enum values.&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="nb">list</span><span class="p">(</span><span class="nb">map</span><span class="p">(</span><span class="k">lambda</span> <span class="n">c</span><span class="p">:</span> <span class="n">c</span><span class="o">.</span><span class="n">value</span><span class="p">,</span> <span class="bp">cls</span><span class="p">))</span></div>
</div>



<div class="viewcode-block" id="Reproject">
<a class="viewcode-back" href="../../autoapi/wcps/model/index.html#wcps.model.Reproject">[docs]</a>
<span class="k">class</span> <span class="nc">Reproject</span><span class="p">(</span><span class="n">WCPSExpr</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Reproject a coverage to a different CRS.</span>

<span class="sd">    :param op: the coverage value to be reprojected.</span>
<span class="sd">    :param target_crs: the CRS to which ``op`` should be reprojected. It can be in one of these formats:</span>

<span class="sd">        - Full CRS URL, e.g. ``http://localhost:8080/rasdaman/def/crs/EPSG/0/4326`` (OGC standard format)</span>
<span class="sd">        - Shorthand CRS with authority, version and code, e.g. ``EPSG/0/4326``</span>
<span class="sd">        - Shorthand CRS with authority and code, e.g. ``EPSG:4326``</span>

<span class="sd">    :param interpolation_method: one of the :class:`ResampleAlg` constants,</span>
<span class="sd">        e.g. :const:`ResampleAlg.BILINEAR`.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">op</span><span class="p">:</span> <span class="n">WCPSExpr</span><span class="p">,</span> <span class="n">target_crs</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
                 <span class="n">interpolation_method</span><span class="p">:</span> <span class="n">ResampleAlg</span> <span class="o">=</span> <span class="kc">None</span><span class="p">):</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="n">operands</span><span class="o">=</span><span class="p">[</span><span class="n">op</span><span class="p">])</span>
<div class="viewcode-block" id="Reproject.target_crs">
<a class="viewcode-back" href="../../autoapi/wcps/model/index.html#wcps.model.Reproject.target_crs">[docs]</a>
        <span class="bp">self</span><span class="o">.</span><span class="n">target_crs</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_validate_crs</span><span class="p">(</span><span class="n">target_crs</span><span class="p">)</span></div>

<div class="viewcode-block" id="Reproject.interpolation_method">
<a class="viewcode-back" href="../../autoapi/wcps/model/index.html#wcps.model.Reproject.interpolation_method">[docs]</a>
        <span class="bp">self</span><span class="o">.</span><span class="n">interpolation_method</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_validate_interpolation_method</span><span class="p">(</span><span class="n">interpolation_method</span><span class="p">)</span></div>

<div class="viewcode-block" id="Reproject.axis_resolutions">
<a class="viewcode-back" href="../../autoapi/wcps/model/index.html#wcps.model.Reproject.axis_resolutions">[docs]</a>
        <span class="bp">self</span><span class="o">.</span><span class="n">axis_resolutions</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">list</span><span class="p">[</span><span class="n">Axis</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span></div>

<div class="viewcode-block" id="Reproject.axis_subsets">
<a class="viewcode-back" href="../../autoapi/wcps/model/index.html#wcps.model.Reproject.axis_subsets">[docs]</a>
        <span class="bp">self</span><span class="o">.</span><span class="n">axis_subsets</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">list</span><span class="p">[</span><span class="n">Axis</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span></div>

<div class="viewcode-block" id="Reproject.subset_domain">
<a class="viewcode-back" href="../../autoapi/wcps/model/index.html#wcps.model.Reproject.subset_domain">[docs]</a>
        <span class="bp">self</span><span class="o">.</span><span class="n">subset_domain</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">WCPSExpr</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span></div>


    <span class="k">def</span> <span class="fm">__str__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">ret</span> <span class="o">=</span> <span class="sa">f</span><span class="s1">&#39;</span><span class="si">{</span><span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__str__</span><span class="p">()</span><span class="si">}</span><span class="s1">crsTransform(</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">operands</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="si">}</span><span class="s1">, &quot;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">target_crs</span><span class="si">}</span><span class="s1">&quot;&#39;</span>

        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">interpolation_method</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">ret</span> <span class="o">+=</span> <span class="s1">&#39;, { &#39;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">interpolation_method</span><span class="p">)</span> <span class="o">+</span> <span class="s1">&#39; }&#39;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">axis_resolutions</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">axis_subsets</span> <span class="o">=</span> <span class="p">[</span><span class="sa">f</span><span class="s1">&#39;</span><span class="si">{</span><span class="n">axis</span><span class="o">.</span><span class="n">axis_name</span><span class="si">}</span><span class="s1">:</span><span class="si">{</span><span class="n">axis</span><span class="o">.</span><span class="n">low</span><span class="si">}</span><span class="s1">&#39;</span> <span class="k">for</span> <span class="n">axis</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">axis_resolutions</span><span class="p">]</span>
            <span class="n">axis_subsets_str</span> <span class="o">=</span> <span class="s1">&#39;, &#39;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">axis_subsets</span><span class="p">)</span>
            <span class="n">ret</span> <span class="o">+=</span> <span class="sa">f</span><span class="s1">&#39;, </span><span class="se">{{</span><span class="s1"> </span><span class="si">{</span><span class="n">axis_subsets_str</span><span class="si">}</span><span class="s1"> </span><span class="se">}}</span><span class="s1">&#39;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">axis_subsets</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">axis_subsets_str</span> <span class="o">=</span> <span class="n">_list_to_str</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">axis_subsets</span><span class="p">,</span> <span class="s1">&#39;, &#39;</span><span class="p">)</span>
            <span class="n">ret</span> <span class="o">+=</span> <span class="sa">f</span><span class="s1">&#39;, </span><span class="se">{{</span><span class="s1"> </span><span class="si">{</span><span class="n">axis_subsets_str</span><span class="si">}</span><span class="s1"> </span><span class="se">}}</span><span class="s1">&#39;</span>
        <span class="k">elif</span> <span class="bp">self</span><span class="o">.</span><span class="n">subset_domain</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">ret</span> <span class="o">+=</span> <span class="sa">f</span><span class="s1">&#39;, </span><span class="se">{{</span><span class="s1"> domain(</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">subset_domain</span><span class="si">}</span><span class="s1">) </span><span class="se">}}</span><span class="s1">&#39;</span>

        <span class="n">ret</span> <span class="o">+=</span> <span class="s1">&#39;)&#39;</span>
        <span class="k">return</span> <span class="n">ret</span>

<div class="viewcode-block" id="Reproject.to_axis_resolutions">
<a class="viewcode-back" href="../../autoapi/wcps/model/index.html#wcps.model.Reproject.to_axis_resolutions">[docs]</a>
    <span class="k">def</span> <span class="nf">to_axis_resolutions</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">axis_resolutions</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Reproject</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        The reprojected result will be resampled to these resolutions.</span>

<span class="sd">        :param axis_resolutions: a list of :class:`Axis` objects with only</span>
<span class="sd">            the axis name and low bound (corresponding to a resolution) specified.</span>

<span class="sd">        :raise: :class:`WCPSClientException` if an axis object has the :attr:`Axis.high` or :attr:`Axis.crs` set.</span>

<span class="sd">        Example: ::</span>

<span class="sd">            cov1 = Datacube(&quot;cov1&quot;)</span>
<span class="sd">            Reproject(cov1, &quot;EPSG:4326&quot;, ResampleAlg.AVERAGE)</span>
<span class="sd">                .to_axis_resolutions([(&quot;X&quot;, 1.5), (&quot;Y&quot;, 2)])</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">axis_resolutions</span> <span class="o">=</span> <span class="n">Axis</span><span class="o">.</span><span class="n">get_axis_list</span><span class="p">(</span><span class="n">axis_resolutions</span><span class="p">)</span>
        <span class="k">for</span> <span class="n">axis</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">axis_resolutions</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">add_operand</span><span class="p">(</span><span class="n">axis</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">axis</span><span class="o">.</span><span class="n">high</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
                <span class="k">raise</span> <span class="n">WCPSClientException</span><span class="p">(</span><span class="s2">&quot;When reprojecting to axis resolutions only a single &quot;</span>
                                          <span class="s2">&quot;resolution per axis should be specified.&quot;</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">axis</span><span class="o">.</span><span class="n">crs</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
                <span class="k">raise</span> <span class="n">WCPSClientException</span><span class="p">(</span><span class="s2">&quot;When reprojecting to axis resolutions a CRS must not be specified.&quot;</span><span class="p">)</span>
        <span class="k">return</span> <span class="bp">self</span></div>


<div class="viewcode-block" id="Reproject.subset_by_axes">
<a class="viewcode-back" href="../../autoapi/wcps/model/index.html#wcps.model.Reproject.subset_by_axes">[docs]</a>
    <span class="k">def</span> <span class="nf">subset_by_axes</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">axis_subsets</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Reproject</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        The reprojected result will be cropped to the specified axis subsets.</span>

<span class="sd">        :param axis_subsets: a list of :class:`Axis` objects.</span>

<span class="sd">        :raise: :class:`WCPSClientException` if an axis object does not have the :attr:`Axis.high` set,</span>
<span class="sd">            or it has the :attr:`Axis.crs` set.</span>

<span class="sd">        Example: ::</span>

<span class="sd">            cov1 = Datacube(&quot;cov1&quot;)</span>
<span class="sd">            Reproject(cov1, &quot;EPSG:4326&quot;)</span>
<span class="sd">                .subset_by_axes([(&quot;X&quot;, 1.5, 2.5), (&quot;Y&quot;, 2, 4)])</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">axis_subsets</span> <span class="o">=</span> <span class="n">Axis</span><span class="o">.</span><span class="n">get_axis_list</span><span class="p">(</span><span class="n">axis_subsets</span><span class="p">)</span>
        <span class="k">for</span> <span class="n">axis</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">axis_subsets</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">add_operand</span><span class="p">(</span><span class="n">axis</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">axis</span><span class="o">.</span><span class="n">high</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
                <span class="k">raise</span> <span class="n">WCPSClientException</span><span class="p">(</span><span class="s2">&quot;When reprojecting, an axis subset must include &quot;</span>
                                          <span class="s2">&quot;both lower and upper bounds.&quot;</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">axis</span><span class="o">.</span><span class="n">crs</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
                <span class="k">raise</span> <span class="n">WCPSClientException</span><span class="p">(</span><span class="s2">&quot;When reprojecting, an axis subset must not include a CRS.&quot;</span><span class="p">)</span>
        <span class="k">return</span> <span class="bp">self</span></div>


<div class="viewcode-block" id="Reproject.subset_by_coverage_domain">
<a class="viewcode-back" href="../../autoapi/wcps/model/index.html#wcps.model.Reproject.subset_by_coverage_domain">[docs]</a>
    <span class="k">def</span> <span class="nf">subset_by_coverage_domain</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">subset_domain</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Reproject</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        The reprojected result will be cropped to the domain of a coverage expression ``subset_domain``.</span>

<span class="sd">        :param subset_domain: a coverage expression</span>

<span class="sd">        Example: ::</span>

<span class="sd">            cov1 = Datacube(&quot;cov1&quot;)</span>
<span class="sd">            cov2 = Datacube(&quot;cov2&quot;)</span>
<span class="sd">            Reproject(cov1, &quot;EPSG:4326&quot;)</span>
<span class="sd">                .subset_by_coverage_domain(cov2)</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">subset_domain</span><span class="p">,</span> <span class="n">WCPSExpr</span><span class="p">):</span>
            <span class="k">raise</span> <span class="n">WCPSClientException</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Reproject subset_domain must be a WCPSExpr object, &quot;</span>
                                      <span class="sa">f</span><span class="s2">&quot;got </span><span class="si">{</span><span class="nb">type</span><span class="p">(</span><span class="n">subset_domain</span><span class="p">)</span><span class="si">}</span><span class="s2"> instead.&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">subset_domain</span> <span class="o">=</span> <span class="n">subset_domain</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">add_operand</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">subset_domain</span><span class="p">)</span>
        <span class="k">return</span> <span class="bp">self</span></div>


    <span class="k">def</span> <span class="nf">_validate_crs</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">crs</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Validate the CRS string format.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">crs</span><span class="p">:</span>
            <span class="k">raise</span> <span class="n">WCPSClientException</span><span class="p">(</span><span class="s2">&quot;Reproject target_crs cannot be empty.&quot;</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">crs</span>

    <span class="k">def</span> <span class="nf">_validate_interpolation_method</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">method</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="n">ResampleAlg</span><span class="p">,</span> <span class="nb">str</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="n">Union</span><span class="p">[</span><span class="n">ResampleAlg</span><span class="p">,</span> <span class="nb">str</span><span class="p">,</span> <span class="kc">None</span><span class="p">]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Validate and convert the interpolation method to a ResampleAlg enum.</span>
<span class="sd">        :param method: The interpolation method to validate.</span>
<span class="sd">        :return: The validated ResampleAlg enum or None if validation fails.</span>
<span class="sd">        :raise: :class:`WCPSClientException` if the interpolation method is invalid.</span>
<span class="sd">        :meta private:</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="n">method</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">return</span> <span class="kc">None</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">method</span><span class="p">,</span> <span class="nb">str</span><span class="p">):</span>
            <span class="n">method</span> <span class="o">=</span> <span class="n">method</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span>
            <span class="n">allowed_methods</span> <span class="o">=</span> <span class="n">ResampleAlg</span><span class="o">.</span><span class="n">list</span><span class="p">()</span>
            <span class="k">if</span> <span class="n">method</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">allowed_methods</span><span class="p">:</span>
                <span class="k">raise</span> <span class="n">WCPSClientException</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Invalid interpolation method &#39;</span><span class="si">{</span><span class="n">method</span><span class="si">}</span><span class="s2">&#39;, &quot;</span>
                                          <span class="sa">f</span><span class="s2">&quot;expected one of: </span><span class="si">{</span><span class="s1">&#39;, &#39;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">allowed_methods</span><span class="p">)</span><span class="si">}</span><span class="s2">.&quot;</span><span class="p">)</span>
            <span class="k">return</span> <span class="n">method</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">method</span><span class="p">,</span> <span class="n">ResampleAlg</span><span class="p">):</span>
            <span class="k">return</span> <span class="n">method</span>
        <span class="k">raise</span> <span class="n">WCPSClientException</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Invalid interpolation method type &#39;</span><span class="si">{</span><span class="nb">type</span><span class="p">(</span><span class="n">method</span><span class="p">)</span><span class="si">}</span><span class="s2">&#39;, &quot;</span>
                                  <span class="sa">f</span><span class="s2">&quot;expected a ResampleAlg or a string.&quot;</span><span class="p">)</span></div>



<span class="c1"># ---------------------------------------------------------------------------------</span>
<span class="c1"># casting</span>

<div class="viewcode-block" id="CastType">
<a class="viewcode-back" href="../../autoapi/wcps/model/index.html#wcps.model.CastType">[docs]</a>
<span class="k">class</span> <span class="nc">CastType</span><span class="p">(</span><span class="n">StrEnum</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Possible cell types to which a value can be casted.</span>
<span class="sd">    &quot;&quot;&quot;</span>
<div class="viewcode-block" id="CastType.BOOLEAN">
<a class="viewcode-back" href="../../autoapi/wcps/model/index.html#wcps.model.CastType.BOOLEAN">[docs]</a>
    <span class="n">BOOLEAN</span> <span class="o">=</span> <span class="s2">&quot;boolean&quot;</span></div>

<div class="viewcode-block" id="CastType.CHAR">
<a class="viewcode-back" href="../../autoapi/wcps/model/index.html#wcps.model.CastType.CHAR">[docs]</a>
    <span class="n">CHAR</span> <span class="o">=</span> <span class="s2">&quot;char&quot;</span></div>

<div class="viewcode-block" id="CastType.UNSIGNED_CHAR">
<a class="viewcode-back" href="../../autoapi/wcps/model/index.html#wcps.model.CastType.UNSIGNED_CHAR">[docs]</a>
    <span class="n">UNSIGNED_CHAR</span> <span class="o">=</span> <span class="s2">&quot;unsigned char&quot;</span></div>

<div class="viewcode-block" id="CastType.SHORT">
<a class="viewcode-back" href="../../autoapi/wcps/model/index.html#wcps.model.CastType.SHORT">[docs]</a>
    <span class="n">SHORT</span> <span class="o">=</span> <span class="s2">&quot;short&quot;</span></div>

<div class="viewcode-block" id="CastType.UNSIGNED_SHORT">
<a class="viewcode-back" href="../../autoapi/wcps/model/index.html#wcps.model.CastType.UNSIGNED_SHORT">[docs]</a>
    <span class="n">UNSIGNED_SHORT</span> <span class="o">=</span> <span class="s2">&quot;unsigned short&quot;</span></div>

<div class="viewcode-block" id="CastType.INT">
<a class="viewcode-back" href="../../autoapi/wcps/model/index.html#wcps.model.CastType.INT">[docs]</a>
    <span class="n">INT</span> <span class="o">=</span> <span class="s2">&quot;int&quot;</span></div>

<div class="viewcode-block" id="CastType.UNSIGNED_INT">
<a class="viewcode-back" href="../../autoapi/wcps/model/index.html#wcps.model.CastType.UNSIGNED_INT">[docs]</a>
    <span class="n">UNSIGNED_INT</span> <span class="o">=</span> <span class="s2">&quot;unsigned int&quot;</span></div>

<div class="viewcode-block" id="CastType.LONG">
<a class="viewcode-back" href="../../autoapi/wcps/model/index.html#wcps.model.CastType.LONG">[docs]</a>
    <span class="n">LONG</span> <span class="o">=</span> <span class="s2">&quot;long&quot;</span></div>

<div class="viewcode-block" id="CastType.UNSIGNED_LONG">
<a class="viewcode-back" href="../../autoapi/wcps/model/index.html#wcps.model.CastType.UNSIGNED_LONG">[docs]</a>
    <span class="n">UNSIGNED_LONG</span> <span class="o">=</span> <span class="s2">&quot;unsigned long&quot;</span></div>

<div class="viewcode-block" id="CastType.FLOAT">
<a class="viewcode-back" href="../../autoapi/wcps/model/index.html#wcps.model.CastType.FLOAT">[docs]</a>
    <span class="n">FLOAT</span> <span class="o">=</span> <span class="s2">&quot;float&quot;</span></div>

<div class="viewcode-block" id="CastType.DOUBLE">
<a class="viewcode-back" href="../../autoapi/wcps/model/index.html#wcps.model.CastType.DOUBLE">[docs]</a>
    <span class="n">DOUBLE</span> <span class="o">=</span> <span class="s2">&quot;double&quot;</span></div>

<div class="viewcode-block" id="CastType.CINT16">
<a class="viewcode-back" href="../../autoapi/wcps/model/index.html#wcps.model.CastType.CINT16">[docs]</a>
    <span class="n">CINT16</span> <span class="o">=</span> <span class="s2">&quot;cint16&quot;</span></div>

<div class="viewcode-block" id="CastType.CINT32">
<a class="viewcode-back" href="../../autoapi/wcps/model/index.html#wcps.model.CastType.CINT32">[docs]</a>
    <span class="n">CINT32</span> <span class="o">=</span> <span class="s2">&quot;cint32&quot;</span></div>

<div class="viewcode-block" id="CastType.COMPLEX">
<a class="viewcode-back" href="../../autoapi/wcps/model/index.html#wcps.model.CastType.COMPLEX">[docs]</a>
    <span class="n">COMPLEX</span> <span class="o">=</span> <span class="s2">&quot;complex&quot;</span></div>

<div class="viewcode-block" id="CastType.COMPLEX2">
<a class="viewcode-back" href="../../autoapi/wcps/model/index.html#wcps.model.CastType.COMPLEX2">[docs]</a>
    <span class="n">COMPLEX2</span> <span class="o">=</span> <span class="s2">&quot;complex2&quot;</span></div>


    <span class="nd">@classmethod</span>
<div class="viewcode-block" id="CastType.list">
<a class="viewcode-back" href="../../autoapi/wcps/model/index.html#wcps.model.CastType.list">[docs]</a>
    <span class="k">def</span> <span class="nf">list</span><span class="p">(</span><span class="bp">cls</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;:return: a list of the Enum values.&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="nb">list</span><span class="p">(</span><span class="nb">map</span><span class="p">(</span><span class="k">lambda</span> <span class="n">c</span><span class="p">:</span> <span class="n">c</span><span class="o">.</span><span class="n">value</span><span class="p">,</span> <span class="bp">cls</span><span class="p">))</span></div>
</div>



<div class="viewcode-block" id="Cast">
<a class="viewcode-back" href="../../autoapi/wcps/model/index.html#wcps.model.Cast">[docs]</a>
<span class="k">class</span> <span class="nc">Cast</span><span class="p">(</span><span class="n">WCPSExpr</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Cast a value to a new type. The type can be specified with the :meth:`to` method.</span>

<span class="sd">    :param op: the operand to be casted.</span>
<span class="sd">    :param target_type: must be one of the :class:`CastType` constants, e.g. :const:`CastType.CHAR`.</span>

<span class="sd">    Examples:</span>

<span class="sd">    - ``Cast(Datacube(&quot;test&quot;), CastType.CHAR)``</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">op</span><span class="p">:</span> <span class="n">OperandType</span><span class="p">,</span> <span class="n">target_type</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="n">CastType</span><span class="p">,</span> <span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">):</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="n">operands</span><span class="o">=</span><span class="p">[</span><span class="n">op</span><span class="p">])</span>
<div class="viewcode-block" id="Cast.target_type">
<a class="viewcode-back" href="../../autoapi/wcps/model/index.html#wcps.model.Cast.target_type">[docs]</a>
        <span class="bp">self</span><span class="o">.</span><span class="n">target_type</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_validate_target_type</span><span class="p">(</span><span class="n">target_type</span><span class="p">)</span></div>


    <span class="k">def</span> <span class="fm">__str__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        :return: A WCPS query string corresponding to this expression.</span>
<span class="sd">        :raise: :class:`WCPSClientException` if no :attr:`target_type` has been set.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">target_type</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">raise</span> <span class="n">WCPSClientException</span><span class="p">(</span><span class="s2">&quot;No target type to which to cast the operand was provided.&quot;</span><span class="p">)</span>
        <span class="k">return</span> <span class="sa">f</span><span class="s1">&#39;</span><span class="si">{</span><span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__str__</span><span class="p">()</span><span class="si">}</span><span class="s1">((</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">target_type</span><span class="si">}</span><span class="s1">) </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">operands</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="si">}</span><span class="s1">)&#39;</span>

<div class="viewcode-block" id="Cast.to">
<a class="viewcode-back" href="../../autoapi/wcps/model/index.html#wcps.model.Cast.to">[docs]</a>
    <span class="k">def</span> <span class="nf">to</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">target_type</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="n">CastType</span><span class="p">,</span> <span class="nb">str</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="n">Cast</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Specify the type to which to cast this operand.</span>
<span class="sd">        :param target_type: must be one of the :class:`CastType` constants, e.g. :const:`CastType.CHAR`.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">target_type</span> <span class="o">=</span> <span class="n">target_type</span>
        <span class="k">return</span> <span class="bp">self</span></div>


    <span class="k">def</span> <span class="nf">_validate_target_type</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">target_type</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="n">CastType</span><span class="p">,</span> <span class="nb">str</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="n">Union</span><span class="p">[</span><span class="n">CastType</span><span class="p">,</span> <span class="nb">str</span><span class="p">,</span> <span class="kc">None</span><span class="p">]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Validates and converts the target type to a CastType enum.</span>
<span class="sd">        :param target_type: The target type to be validated.</span>
<span class="sd">        :return: The validated CastType enum or None if validation fails.</span>
<span class="sd">        :raise: :class:`WCPSClientException` if the target type is invalid.</span>
<span class="sd">        :meta private:</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="n">target_type</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">return</span> <span class="kc">None</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">target_type</span><span class="p">,</span> <span class="nb">str</span><span class="p">):</span>
            <span class="n">target_type</span> <span class="o">=</span> <span class="n">target_type</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span>
            <span class="n">allowed_types</span> <span class="o">=</span> <span class="n">CastType</span><span class="o">.</span><span class="n">list</span><span class="p">()</span>
            <span class="k">if</span> <span class="n">target_type</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">allowed_types</span><span class="p">:</span>
                <span class="k">raise</span> <span class="n">WCPSClientException</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Invalid target cast type &#39;</span><span class="si">{</span><span class="n">target_type</span><span class="si">}</span><span class="s2">&#39;, &quot;</span>
                                          <span class="sa">f</span><span class="s2">&quot;expected one of: </span><span class="si">{</span><span class="s1">&#39;, &#39;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">allowed_types</span><span class="p">)</span><span class="si">}</span><span class="s2">.&quot;</span><span class="p">)</span>
            <span class="k">return</span> <span class="n">target_type</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">target_type</span><span class="p">,</span> <span class="n">CastType</span><span class="p">):</span>
            <span class="k">return</span> <span class="n">target_type</span>
        <span class="k">raise</span> <span class="n">WCPSClientException</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Invalid target type type &#39;</span><span class="si">{</span><span class="nb">type</span><span class="p">(</span><span class="n">target_type</span><span class="p">)</span><span class="si">}</span><span class="s2">&#39;, &quot;</span>
                                  <span class="sa">f</span><span class="s2">&quot;expected a CastType or a string.&quot;</span><span class="p">)</span></div>


<span class="c1"># ---------------------------------------------------------------------------------</span>
<span class="c1"># aggregation</span>

<div class="viewcode-block" id="Sum">
<a class="viewcode-back" href="../../autoapi/wcps/model/index.html#wcps.model.Sum">[docs]</a>
<span class="k">class</span> <span class="nc">Sum</span><span class="p">(</span><span class="n">UnaryFunc</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Computes the sum of the cell values of the operand ``op``.</span>

<span class="sd">    Examples:</span>

<span class="sd">    - ``Sum(Datacube(&quot;test1&quot;))``</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">op</span><span class="p">:</span> <span class="n">WCPSExpr</span><span class="p">):</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="n">op</span><span class="p">,</span> <span class="s1">&#39;sum&#39;</span><span class="p">)</span></div>



<div class="viewcode-block" id="Count">
<a class="viewcode-back" href="../../autoapi/wcps/model/index.html#wcps.model.Count">[docs]</a>
<span class="k">class</span> <span class="nc">Count</span><span class="p">(</span><span class="n">UnaryFunc</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Counts the number of *true* values in the boolean operand ``op``.</span>

<span class="sd">    Examples:</span>

<span class="sd">    - ``Count(Datacube(&quot;test1&quot;) &gt; 5)``</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">op</span><span class="p">:</span> <span class="n">WCPSExpr</span><span class="p">):</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="n">op</span><span class="p">,</span> <span class="s1">&#39;count&#39;</span><span class="p">)</span></div>



<div class="viewcode-block" id="Avg">
<a class="viewcode-back" href="../../autoapi/wcps/model/index.html#wcps.model.Avg">[docs]</a>
<span class="k">class</span> <span class="nc">Avg</span><span class="p">(</span><span class="n">UnaryFunc</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Computes the average (mean) of the cell values of the operand ``op``.</span>

<span class="sd">    Examples:</span>

<span class="sd">    - ``Avg(Datacube(&quot;test1&quot;))``</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">op</span><span class="p">:</span> <span class="n">WCPSExpr</span><span class="p">):</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="n">op</span><span class="p">,</span> <span class="s1">&#39;avg&#39;</span><span class="p">)</span></div>



<div class="viewcode-block" id="Min">
<a class="viewcode-back" href="../../autoapi/wcps/model/index.html#wcps.model.Min">[docs]</a>
<span class="k">class</span> <span class="nc">Min</span><span class="p">(</span><span class="n">UnaryFunc</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Returns the minimum value among the elements of the operand ``op``.</span>

<span class="sd">    Examples:</span>

<span class="sd">    - ``Min(Datacube(&quot;test1&quot;))``</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">op</span><span class="p">:</span> <span class="n">WCPSExpr</span><span class="p">):</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="n">op</span><span class="p">,</span> <span class="s1">&#39;min&#39;</span><span class="p">)</span></div>



<div class="viewcode-block" id="Max">
<a class="viewcode-back" href="../../autoapi/wcps/model/index.html#wcps.model.Max">[docs]</a>
<span class="k">class</span> <span class="nc">Max</span><span class="p">(</span><span class="n">UnaryFunc</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Returns the maximum value among the elements of the operand ``op``.</span>

<span class="sd">    Examples:</span>

<span class="sd">    - ``Max(Datacube(&quot;test1&quot;))``</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">op</span><span class="p">:</span> <span class="n">WCPSExpr</span><span class="p">):</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="n">op</span><span class="p">,</span> <span class="s1">&#39;max&#39;</span><span class="p">)</span></div>



<div class="viewcode-block" id="All">
<a class="viewcode-back" href="../../autoapi/wcps/model/index.html#wcps.model.All">[docs]</a>
<span class="k">class</span> <span class="nc">All</span><span class="p">(</span><span class="n">UnaryFunc</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Returns true if all elements in the operand ``op`` are true.</span>

<span class="sd">    Examples:</span>

<span class="sd">    - ``All(Datacube(&quot;test1&quot;))``</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">op</span><span class="p">:</span> <span class="n">WCPSExpr</span><span class="p">):</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="n">op</span><span class="p">,</span> <span class="s1">&#39;all&#39;</span><span class="p">)</span></div>



<div class="viewcode-block" id="Some">
<a class="viewcode-back" href="../../autoapi/wcps/model/index.html#wcps.model.Some">[docs]</a>
<span class="k">class</span> <span class="nc">Some</span><span class="p">(</span><span class="n">UnaryFunc</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Returns true if some elements in the operand ``op`` are true.</span>

<span class="sd">    Examples:</span>

<span class="sd">    - ``Some(Datacube(&quot;test1&quot;))``</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">op</span><span class="p">:</span> <span class="n">WCPSExpr</span><span class="p">):</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="n">op</span><span class="p">,</span> <span class="s1">&#39;some&#39;</span><span class="p">)</span></div>



<div class="viewcode-block" id="AxisIter">
<a class="viewcode-back" href="../../autoapi/wcps/model/index.html#wcps.model.AxisIter">[docs]</a>
<span class="k">class</span> <span class="nc">AxisIter</span><span class="p">(</span><span class="n">WCPSExpr</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    An axis iterator expression set in a :meth:`Condense.over` or a :meth:`Coverage.over` methods.</span>
<span class="sd">    The iteration can be over an integer grid :meth:`interval`, :meth:`of_grid_axis` domain</span>
<span class="sd">    of a particular coverage, or :meth:`of_of_geo_axis` domain of a coverage.</span>

<span class="sd">    The :meth:`ref` method should be used to get a reference to an :class:`AxisIter` that</span>
<span class="sd">    can be used in expressions for the :meth:`Condense.where`, :meth:`Condense.using`, or</span>
<span class="sd">    :meth:`Coverage.values` clauses.</span>

<span class="sd">    :param var_name: unique iterator variable name.</span>
<span class="sd">    :param axis_name: an axis over which it iterates.</span>

<span class="sd">    Examples:</span>

<span class="sd">    - ``AxisIter(&#39;$x&#39;, &#39;X&#39;).interval(0, 100)`` - iterate from 0 to 100, inclusive</span>
<span class="sd">    - ``AxisIter(&#39;$pt&#39;, &#39;time&#39;).of_grid_axis(Datacube(&quot;timeseries&quot;))``</span>
<span class="sd">    - ``AxisIter(&#39;$plat&#39;, &#39;Lat&#39;).of_geo_axis(Datacube(&quot;cov&quot;))``</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">var_name</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">axis_name</span><span class="p">:</span> <span class="nb">str</span><span class="p">):</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">()</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">var_name</span> <span class="ow">or</span> <span class="n">var_name</span> <span class="o">==</span> <span class="s1">&#39;&#39;</span><span class="p">:</span>
            <span class="k">raise</span> <span class="n">WCPSClientException</span><span class="p">(</span><span class="s2">&quot;AxisIter var_name cannot be empty.&quot;</span><span class="p">)</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">var_name</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="s1">&#39;$&#39;</span><span class="p">):</span>
            <span class="n">var_name</span> <span class="o">=</span> <span class="s1">&#39;$&#39;</span> <span class="o">+</span> <span class="n">var_name</span>
<div class="viewcode-block" id="AxisIter.var_name">
<a class="viewcode-back" href="../../autoapi/wcps/model/index.html#wcps.model.AxisIter.var_name">[docs]</a>
        <span class="bp">self</span><span class="o">.</span><span class="n">var_name</span> <span class="o">=</span> <span class="n">var_name</span></div>

<span class="w">        </span><span class="sd">&quot;&quot;&quot;unique iterator variable name&quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">axis_name</span> <span class="ow">or</span> <span class="n">axis_name</span> <span class="o">==</span> <span class="s1">&#39;&#39;</span><span class="p">:</span>
            <span class="k">raise</span> <span class="n">WCPSClientException</span><span class="p">(</span><span class="s2">&quot;AxisIter axis_name cannot be empty.&quot;</span><span class="p">)</span>
<div class="viewcode-block" id="AxisIter.axis_name">
<a class="viewcode-back" href="../../autoapi/wcps/model/index.html#wcps.model.AxisIter.axis_name">[docs]</a>
        <span class="bp">self</span><span class="o">.</span><span class="n">axis_name</span> <span class="o">=</span> <span class="n">axis_name</span></div>

<span class="w">        </span><span class="sd">&quot;&quot;&quot;an axis over which it iterates&quot;&quot;&quot;</span>
<div class="viewcode-block" id="AxisIter.low">
<a class="viewcode-back" href="../../autoapi/wcps/model/index.html#wcps.model.AxisIter.low">[docs]</a>
        <span class="bp">self</span><span class="o">.</span><span class="n">low</span> <span class="o">=</span> <span class="kc">None</span></div>

<span class="w">        </span><span class="sd">&quot;&quot;&quot;optional lower iteration bound&quot;&quot;&quot;</span>
<div class="viewcode-block" id="AxisIter.high">
<a class="viewcode-back" href="../../autoapi/wcps/model/index.html#wcps.model.AxisIter.high">[docs]</a>
        <span class="bp">self</span><span class="o">.</span><span class="n">high</span> <span class="o">=</span> <span class="kc">None</span></div>

<span class="w">        </span><span class="sd">&quot;&quot;&quot;optional upper iteration bound&quot;&quot;&quot;</span>
<div class="viewcode-block" id="AxisIter.grid_axis">
<a class="viewcode-back" href="../../autoapi/wcps/model/index.html#wcps.model.AxisIter.grid_axis">[docs]</a>
        <span class="bp">self</span><span class="o">.</span><span class="n">grid_axis</span> <span class="o">=</span> <span class="kc">None</span></div>

<span class="w">        </span><span class="sd">&quot;&quot;&quot;iterator over a grid axis domain of a coverage&quot;&quot;&quot;</span>
<div class="viewcode-block" id="AxisIter.geo_axis">
<a class="viewcode-back" href="../../autoapi/wcps/model/index.html#wcps.model.AxisIter.geo_axis">[docs]</a>
        <span class="bp">self</span><span class="o">.</span><span class="n">geo_axis</span> <span class="o">=</span> <span class="kc">None</span></div>

<span class="w">        </span><span class="sd">&quot;&quot;&quot;iterator over a geo axis domain of a coverage&quot;&quot;&quot;</span>

<div class="viewcode-block" id="AxisIter.interval">
<a class="viewcode-back" href="../../autoapi/wcps/model/index.html#wcps.model.AxisIter.interval">[docs]</a>
    <span class="k">def</span> <span class="nf">interval</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">low</span><span class="p">:</span> <span class="n">BoundType</span><span class="p">,</span> <span class="n">high</span><span class="p">:</span> <span class="n">BoundType</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Iterate in the [low, high] interval.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">low</span><span class="p">,</span> <span class="n">BoundType</span><span class="p">):</span>
            <span class="k">raise</span> <span class="n">WCPSClientException</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Interval low bound must be a number of string, got </span><span class="si">{</span><span class="nb">type</span><span class="p">(</span><span class="n">low</span><span class="p">)</span><span class="si">}</span><span class="s2"> instead.&quot;</span><span class="p">)</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">high</span><span class="p">,</span> <span class="n">BoundType</span><span class="p">):</span>
            <span class="k">raise</span> <span class="n">WCPSClientException</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Interval high bound must be a number of string, got </span><span class="si">{</span><span class="nb">type</span><span class="p">(</span><span class="n">low</span><span class="p">)</span><span class="si">}</span><span class="s2"> instead.&quot;</span><span class="p">)</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">grid_axis</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="ow">or</span> <span class="bp">self</span><span class="o">.</span><span class="n">geo_axis</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">raise</span> <span class="n">WCPSClientException</span><span class="p">(</span><span class="s2">&quot;Cannot specify both interval and grid/geo axis domain.&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">low</span> <span class="o">=</span> <span class="n">low</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">high</span> <span class="o">=</span> <span class="n">high</span>
        <span class="k">return</span> <span class="bp">self</span></div>


<div class="viewcode-block" id="AxisIter.of_grid_axis">
<a class="viewcode-back" href="../../autoapi/wcps/model/index.html#wcps.model.AxisIter.of_grid_axis">[docs]</a>
    <span class="k">def</span> <span class="nf">of_grid_axis</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">cov_expr</span><span class="p">:</span> <span class="n">WCPSExpr</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Iterate over the grid axis domain of a coverage ``cov_expr``.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">cov_expr</span><span class="p">,</span> <span class="n">WCPSExpr</span><span class="p">):</span>
            <span class="k">raise</span> <span class="n">WCPSClientException</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;cov_expr must be a WCPSExpr object, got </span><span class="si">{</span><span class="nb">type</span><span class="p">(</span><span class="n">cov_expr</span><span class="p">)</span><span class="si">}</span><span class="s2"> instead.&quot;</span><span class="p">)</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">geo_axis</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">raise</span> <span class="n">WCPSClientException</span><span class="p">(</span><span class="s2">&quot;Cannot specify both grid and geo axis domain.&quot;</span><span class="p">)</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">low</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="ow">or</span> <span class="bp">self</span><span class="o">.</span><span class="n">high</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">raise</span> <span class="n">WCPSClientException</span><span class="p">(</span><span class="s2">&quot;Cannot specify both grid axis domain and interval for iteration.&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">grid_axis</span> <span class="o">=</span> <span class="n">cov_expr</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">add_operand</span><span class="p">(</span><span class="n">cov_expr</span><span class="p">)</span>
        <span class="k">return</span> <span class="bp">self</span></div>


<div class="viewcode-block" id="AxisIter.of_geo_axis">
<a class="viewcode-back" href="../../autoapi/wcps/model/index.html#wcps.model.AxisIter.of_geo_axis">[docs]</a>
    <span class="k">def</span> <span class="nf">of_geo_axis</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">cov_expr</span><span class="p">:</span> <span class="n">WCPSExpr</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Iterate over the geo axis domain of a coverage ``cov_expr``.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">cov_expr</span><span class="p">,</span> <span class="n">WCPSExpr</span><span class="p">):</span>
            <span class="k">raise</span> <span class="n">WCPSClientException</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;cov_expr must be a WCPSExpr object, got </span><span class="si">{</span><span class="nb">type</span><span class="p">(</span><span class="n">cov_expr</span><span class="p">)</span><span class="si">}</span><span class="s2"> instead.&quot;</span><span class="p">)</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">grid_axis</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">raise</span> <span class="n">WCPSClientException</span><span class="p">(</span><span class="s2">&quot;Cannot specify both geo and grid axis domain.&quot;</span><span class="p">)</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">low</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="ow">or</span> <span class="bp">self</span><span class="o">.</span><span class="n">high</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">raise</span> <span class="n">WCPSClientException</span><span class="p">(</span><span class="s2">&quot;Cannot specify both geo axis domain and interval for iteration.&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">geo_axis</span> <span class="o">=</span> <span class="n">cov_expr</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">add_operand</span><span class="p">(</span><span class="n">cov_expr</span><span class="p">)</span>
        <span class="k">return</span> <span class="bp">self</span></div>


<div class="viewcode-block" id="AxisIter.ref">
<a class="viewcode-back" href="../../autoapi/wcps/model/index.html#wcps.model.AxisIter.ref">[docs]</a>
    <span class="k">def</span> <span class="nf">ref</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">AxisIterRef</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        :return: a reference object that can be used in expressions set in the</span>
<span class="sd">            :meth:`Condense.where`, :meth:`Condense.using`, or :meth:`Coverage.values` methods.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">AxisIterRef</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span></div>


    <span class="k">def</span> <span class="fm">__str__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">low</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">high</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">iter_spec</span> <span class="o">=</span> <span class="sa">f</span><span class="s1">&#39;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">low</span><span class="si">}</span><span class="s1"> : </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">high</span><span class="si">}</span><span class="s1">&#39;</span>
        <span class="k">elif</span> <span class="bp">self</span><span class="o">.</span><span class="n">grid_axis</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">iter_spec</span> <span class="o">=</span> <span class="sa">f</span><span class="s1">&#39;imageCrsDomain(</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">grid_axis</span><span class="si">}</span><span class="s1">, </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">axis_name</span><span class="si">}</span><span class="s1">)&#39;</span>
        <span class="k">elif</span> <span class="bp">self</span><span class="o">.</span><span class="n">geo_axis</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">iter_spec</span> <span class="o">=</span> <span class="sa">f</span><span class="s1">&#39;domain(</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">geo_axis</span><span class="si">}</span><span class="s1">, </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">axis_name</span><span class="si">}</span><span class="s1">)&#39;</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">raise</span> <span class="n">WCPSClientException</span><span class="p">(</span><span class="s2">&quot;No iteration specification provided; &quot;</span>
                                      <span class="s2">&quot;use one of interval(), of_grid_axis(), or of_geo_axis().&quot;</span><span class="p">)</span>
        <span class="k">return</span> <span class="sa">f</span><span class="s1">&#39;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">var_name</span><span class="si">}</span><span class="s1"> </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">axis_name</span><span class="si">}</span><span class="s1">(</span><span class="si">{</span><span class="n">iter_spec</span><span class="si">}</span><span class="s1">)&#39;</span></div>



<div class="viewcode-block" id="AxisIterRef">
<a class="viewcode-back" href="../../autoapi/wcps/model/index.html#wcps.model.AxisIterRef">[docs]</a>
<span class="k">class</span> <span class="nc">AxisIterRef</span><span class="p">(</span><span class="n">WCPSExpr</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Reference to an :class:`AxisIter` object, to be used in expressions set in the</span>
<span class="sd">        :meth:`Condense.where`, :meth:`Condense.using`, or :meth:`Coverage.values` methods.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">axis_iter</span><span class="p">:</span> <span class="n">AxisIter</span><span class="p">):</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">()</span>
<div class="viewcode-block" id="AxisIterRef.iter_var">
<a class="viewcode-back" href="../../autoapi/wcps/model/index.html#wcps.model.AxisIterRef.iter_var">[docs]</a>
        <span class="bp">self</span><span class="o">.</span><span class="n">iter_var</span> <span class="o">=</span> <span class="n">axis_iter</span></div>

        <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">axis_iter</span><span class="p">,</span> <span class="n">AxisIter</span><span class="p">):</span>
            <span class="k">raise</span> <span class="n">WCPSClientException</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Expected an AxisIter object, got </span><span class="si">{</span><span class="nb">type</span><span class="p">(</span><span class="n">axis_iter</span><span class="p">)</span><span class="si">}</span><span class="s2"> instead.&quot;</span><span class="p">)</span>

    <span class="k">def</span> <span class="fm">__str__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">iter_var</span><span class="o">.</span><span class="n">var_name</span></div>



<div class="viewcode-block" id="CondenseOp">
<a class="viewcode-back" href="../../autoapi/wcps/model/index.html#wcps.model.CondenseOp">[docs]</a>
<span class="k">class</span> <span class="nc">CondenseOp</span><span class="p">(</span><span class="n">StrEnum</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Possible general :class:`Condense` operators.</span>
<span class="sd">    &quot;&quot;&quot;</span>
<div class="viewcode-block" id="CondenseOp.PLUS">
<a class="viewcode-back" href="../../autoapi/wcps/model/index.html#wcps.model.CondenseOp.PLUS">[docs]</a>
    <span class="n">PLUS</span> <span class="o">=</span> <span class="s1">&#39;+&#39;</span></div>

<div class="viewcode-block" id="CondenseOp.MULTIPLY">
<a class="viewcode-back" href="../../autoapi/wcps/model/index.html#wcps.model.CondenseOp.MULTIPLY">[docs]</a>
    <span class="n">MULTIPLY</span> <span class="o">=</span> <span class="s1">&#39;*&#39;</span></div>

<div class="viewcode-block" id="CondenseOp.MIN">
<a class="viewcode-back" href="../../autoapi/wcps/model/index.html#wcps.model.CondenseOp.MIN">[docs]</a>
    <span class="n">MIN</span> <span class="o">=</span> <span class="s1">&#39;min&#39;</span></div>

<div class="viewcode-block" id="CondenseOp.MAX">
<a class="viewcode-back" href="../../autoapi/wcps/model/index.html#wcps.model.CondenseOp.MAX">[docs]</a>
    <span class="n">MAX</span> <span class="o">=</span> <span class="s1">&#39;max&#39;</span></div>

<div class="viewcode-block" id="CondenseOp.AND">
<a class="viewcode-back" href="../../autoapi/wcps/model/index.html#wcps.model.CondenseOp.AND">[docs]</a>
    <span class="n">AND</span> <span class="o">=</span> <span class="s1">&#39;and&#39;</span></div>

<div class="viewcode-block" id="CondenseOp.OR">
<a class="viewcode-back" href="../../autoapi/wcps/model/index.html#wcps.model.CondenseOp.OR">[docs]</a>
    <span class="n">OR</span> <span class="o">=</span> <span class="s1">&#39;or&#39;</span></div>

<div class="viewcode-block" id="CondenseOp.OVERLAY">
<a class="viewcode-back" href="../../autoapi/wcps/model/index.html#wcps.model.CondenseOp.OVERLAY">[docs]</a>
    <span class="n">OVERLAY</span> <span class="o">=</span> <span class="s1">&#39;overlay&#39;</span></div>


    <span class="nd">@classmethod</span>
<div class="viewcode-block" id="CondenseOp.list">
<a class="viewcode-back" href="../../autoapi/wcps/model/index.html#wcps.model.CondenseOp.list">[docs]</a>
    <span class="k">def</span> <span class="nf">list</span><span class="p">(</span><span class="bp">cls</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;:return: a list of the Enum values.&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="nb">list</span><span class="p">(</span><span class="nb">map</span><span class="p">(</span><span class="k">lambda</span> <span class="n">c</span><span class="p">:</span> <span class="n">c</span><span class="o">.</span><span class="n">value</span><span class="p">,</span> <span class="bp">cls</span><span class="p">))</span></div>
</div>



<div class="viewcode-block" id="Condense">
<a class="viewcode-back" href="../../autoapi/wcps/model/index.html#wcps.model.Condense">[docs]</a>
<span class="k">class</span> <span class="nc">Condense</span><span class="p">(</span><span class="n">WCPSExpr</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    A general coverage condense (aggregation) operation. It aggregates values :meth:`over`</span>
<span class="sd">    an iteration domain formed of a list of :class:`AxisIter`, with a condenser operation</span>
<span class="sd">    (one of ``+``, ``*``, ``max``, ``min``, ``and``, or ``or``). For each coordinate in</span>
<span class="sd">    the iteration domain defined by the over clause, the :meth:`using` expression is</span>
<span class="sd">    evaluated and added to the final aggregated result; the optional :meth:`where` expression</span>
<span class="sd">    allows to filter values from the aggregation.</span>

<span class="sd">    It corresponds to a WCPS expression of the following form: ::</span>

<span class="sd">        condense op</span>
<span class="sd">        over $iterVar axis(lo:hi), ...</span>
<span class="sd">        [ where boolScalarExpr ]</span>
<span class="sd">        using scalarExpr</span>

<span class="sd">    Typically, the iterator variable iterates through a grid domain (:meth:`AxisIter.interval` or</span>
<span class="sd">    :meth:`AxisIter.of_grid_axis`). However, iteration over a geo domain is also supported</span>
<span class="sd">    with :meth:`AxisIter.of_geo_axis`.</span>

<span class="sd">    :param condense_op: one of the :class:`CondenseOp` constants, e.g. :const:`CondenseOp.PLUS`</span>
<span class="sd">    :param over: a list of axis iterators</span>
<span class="sd">    :param using: an expression that aggregates into the final value</span>
<span class="sd">    :param where: an optional expression to filter which expression values are evaluated</span>

<span class="sd">    For example, to sum the values of a coverage ``mycov`` (same as using the :class:`Sum` shorthand): ::</span>

<span class="sd">        cov = Datacube(&quot;mycov&quot;)</span>
<span class="sd">        pt_var = AxisIter(&#39;$pt&#39;, &#39;time&#39;).of_grid_axis(cov)</span>
<span class="sd">        pt_ref = pt_var.ref()</span>
<span class="sd">        Condense(CondenseOp.PLUS)</span>
<span class="sd">            .over(pt_var)</span>
<span class="sd">            .using(cov1[(&#39;time&#39;, pt_ref)])</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">condense_op</span><span class="p">:</span> <span class="n">CondenseOp</span><span class="p">,</span> <span class="n">over</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="n">AxisIter</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
                 <span class="n">using</span><span class="p">:</span> <span class="n">WCPSExpr</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="n">where</span><span class="p">:</span> <span class="n">WCPSExpr</span> <span class="o">=</span> <span class="kc">None</span><span class="p">):</span>
        <span class="n">operands</span> <span class="o">=</span> <span class="p">[</span><span class="n">where</span><span class="p">,</span> <span class="n">using</span><span class="p">]</span>
        <span class="k">if</span> <span class="n">over</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">operands</span> <span class="o">+=</span> <span class="n">over</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="n">operands</span><span class="o">=</span><span class="n">operands</span><span class="p">)</span>
<div class="viewcode-block" id="Condense.condense_op">
<a class="viewcode-back" href="../../autoapi/wcps/model/index.html#wcps.model.Condense.condense_op">[docs]</a>
        <span class="bp">self</span><span class="o">.</span><span class="n">condense_op</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_validate_condense_op</span><span class="p">(</span><span class="n">condense_op</span><span class="p">)</span></div>

<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        One of the :class:`CondenseOp` constants, e.g. :const:`CondenseOp.PLUS`</span>
<span class="sd">        &quot;&quot;&quot;</span>
<div class="viewcode-block" id="Condense.iter_vars">
<a class="viewcode-back" href="../../autoapi/wcps/model/index.html#wcps.model.Condense.iter_vars">[docs]</a>
        <span class="bp">self</span><span class="o">.</span><span class="n">iter_vars</span> <span class="o">=</span> <span class="p">[]</span></div>

<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        A list of :class:`AxisIter` forming the iteration domain for aggregation.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="n">over</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">over</span><span class="p">,</span> <span class="nb">list</span><span class="p">):</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">iter_vars</span> <span class="o">=</span> <span class="n">over</span>
            <span class="k">elif</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">over</span><span class="p">,</span> <span class="n">AxisIter</span><span class="p">):</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">iter_vars</span> <span class="o">=</span> <span class="p">[</span><span class="n">over</span><span class="p">]</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="k">raise</span> <span class="n">WCPSClientException</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Expected a list of AxisIter for the OVER clause, but got </span><span class="si">{</span><span class="nb">type</span><span class="p">(</span><span class="n">over</span><span class="p">)</span><span class="si">}</span><span class="s2">.&quot;</span><span class="p">)</span>
<div class="viewcode-block" id="Condense.using_clause">
<a class="viewcode-back" href="../../autoapi/wcps/model/index.html#wcps.model.Condense.using_clause">[docs]</a>
        <span class="bp">self</span><span class="o">.</span><span class="n">using_clause</span> <span class="o">=</span> <span class="n">using</span></div>

<div class="viewcode-block" id="Condense.where_clause">
<a class="viewcode-back" href="../../autoapi/wcps/model/index.html#wcps.model.Condense.where_clause">[docs]</a>
        <span class="bp">self</span><span class="o">.</span><span class="n">where_clause</span> <span class="o">=</span> <span class="n">where</span></div>


    <span class="k">def</span> <span class="fm">__str__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        :return: A WCPS query string corresponding to this expression.</span>
<span class="sd">        :raise: :class:`WCPSClientException` if no iterator variables or a using expression have been set.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_validate</span><span class="p">()</span>
        <span class="n">over</span> <span class="o">=</span> <span class="n">_list_to_str</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">iter_vars</span><span class="p">,</span> <span class="s1">&#39;, &#39;</span><span class="p">)</span>
        <span class="n">ret</span> <span class="o">=</span> <span class="sa">f</span><span class="s1">&#39;</span><span class="si">{</span><span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__str__</span><span class="p">()</span><span class="si">}</span><span class="s1">(condense </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">condense_op</span><span class="si">}</span><span class="s1"> over </span><span class="si">{</span><span class="n">over</span><span class="si">}</span><span class="s1">&#39;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">where_clause</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">ret</span> <span class="o">+=</span> <span class="sa">f</span><span class="s1">&#39; where </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">where_clause</span><span class="si">}</span><span class="s1">&#39;</span>
        <span class="n">ret</span> <span class="o">+=</span> <span class="sa">f</span><span class="s1">&#39; using </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">using_clause</span><span class="si">}</span><span class="s1">)&#39;</span>
        <span class="k">return</span> <span class="n">ret</span>

    <span class="k">def</span> <span class="nf">_validate</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        :meta private:</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">iter_vars</span><span class="p">)</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
            <span class="k">raise</span> <span class="n">WCPSClientException</span><span class="p">(</span><span class="s2">&quot;An OVER clause is mandatory in a CONDENSE operation, none was specified.&quot;</span><span class="p">)</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">using_clause</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">raise</span> <span class="n">WCPSClientException</span><span class="p">(</span><span class="s2">&quot;A USING clause is mandatory in a CONDENSE operation, none was specified.&quot;</span><span class="p">)</span>
        <span class="k">for</span> <span class="n">v</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">iter_vars</span><span class="p">:</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">v</span><span class="p">,</span> <span class="n">AxisIter</span><span class="p">):</span>
                <span class="k">raise</span> <span class="n">WCPSClientException</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Expected an AxisIter object in OVER clause, got </span><span class="si">{</span><span class="nb">type</span><span class="p">(</span><span class="n">v</span><span class="p">)</span><span class="si">}</span><span class="s2"> instead.&quot;</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">_validate_condense_op</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">op</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="n">CondenseOp</span><span class="p">,</span> <span class="nb">str</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="n">Union</span><span class="p">[</span><span class="n">CondenseOp</span><span class="p">,</span> <span class="nb">str</span><span class="p">]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Validate that the condense_op is a valid CondenseOp member.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="n">op</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">raise</span> <span class="n">WCPSClientException</span><span class="p">(</span><span class="s2">&quot;No condense operation provided.&quot;</span><span class="p">)</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">op</span><span class="p">,</span> <span class="nb">str</span><span class="p">):</span>
            <span class="n">op</span> <span class="o">=</span> <span class="n">op</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span>
            <span class="n">allowed_ops</span> <span class="o">=</span> <span class="n">CondenseOp</span><span class="o">.</span><span class="n">list</span><span class="p">()</span>
            <span class="k">if</span> <span class="n">op</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">allowed_ops</span><span class="p">:</span>
                <span class="k">raise</span> <span class="n">WCPSClientException</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Invalid condense operation &#39;</span><span class="si">{</span><span class="n">op</span><span class="si">}</span><span class="s2">&#39;, &quot;</span>
                                          <span class="sa">f</span><span class="s2">&quot;expected one of: </span><span class="si">{</span><span class="s1">&#39;, &#39;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">allowed_ops</span><span class="p">)</span><span class="si">}</span><span class="s2">.&quot;</span><span class="p">)</span>
            <span class="k">return</span> <span class="n">op</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">op</span><span class="p">,</span> <span class="n">CondenseOp</span><span class="p">):</span>
            <span class="k">return</span> <span class="n">op</span>
        <span class="k">raise</span> <span class="n">WCPSClientException</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Invalid condense operation type &#39;</span><span class="si">{</span><span class="nb">type</span><span class="p">(</span><span class="n">op</span><span class="p">)</span><span class="si">}</span><span class="s2">&#39;, &quot;</span>
                                  <span class="sa">f</span><span class="s2">&quot;expected a CondenseOp or a string.&quot;</span><span class="p">)</span>

<div class="viewcode-block" id="Condense.over">
<a class="viewcode-back" href="../../autoapi/wcps/model/index.html#wcps.model.Condense.over">[docs]</a>
    <span class="k">def</span> <span class="nf">over</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">iter_var</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="n">AxisIter</span><span class="p">,</span> <span class="nb">list</span><span class="p">[</span><span class="n">AxisIter</span><span class="p">]])</span> <span class="o">-&gt;</span> <span class="n">Condense</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Add an iterator variable to a `Condense` or a `Coverage` operand.</span>
<span class="sd">        Calling this method on another object type will raise a `WCPSClientException`.</span>

<span class="sd">        :param iter_var: an iterator variable</span>
<span class="sd">        :return: the same object with the iter_var appended to its iterator variables list</span>

<span class="sd">        Examples: ::</span>

<span class="sd">            cov = Datacube(&quot;testcube&quot;)</span>
<span class="sd">            pt_var = AxisIter(&#39;$pt&#39;, &#39;time&#39;).of_grid_axis(cov)</span>
<span class="sd">            px_var = AxisIter(&#39;$px&#39;, &#39;X&#39;).interval(0, 100)</span>
<span class="sd">            cov.condense(CondenseOp.PLUS).over(pt_var).over(px_var)</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">iter_var</span><span class="p">,</span> <span class="nb">list</span><span class="p">):</span>
            <span class="n">iter_var</span> <span class="o">=</span> <span class="p">[</span><span class="n">iter_var</span><span class="p">]</span>
        <span class="k">for</span> <span class="n">v</span> <span class="ow">in</span> <span class="n">iter_var</span><span class="p">:</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">v</span><span class="p">,</span> <span class="n">AxisIter</span><span class="p">):</span>
                <span class="k">raise</span> <span class="n">WCPSClientException</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Expected an AxisIter object in OVER clause, got </span><span class="si">{</span><span class="nb">type</span><span class="p">(</span><span class="n">v</span><span class="p">)</span><span class="si">}</span><span class="s2"> instead.&quot;</span><span class="p">)</span>
            <span class="k">if</span> <span class="nb">any</span><span class="p">(</span><span class="n">v</span><span class="o">.</span><span class="n">var_name</span> <span class="o">==</span> <span class="n">e</span><span class="o">.</span><span class="n">var_name</span> <span class="k">for</span> <span class="n">e</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">iter_vars</span><span class="p">):</span>
                <span class="k">raise</span> <span class="n">WCPSClientException</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Duplicate iterator variable name: </span><span class="si">{</span><span class="n">v</span><span class="o">.</span><span class="n">var_name</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">iter_vars</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">v</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">add_operand</span><span class="p">(</span><span class="n">v</span><span class="p">)</span>
        <span class="k">return</span> <span class="bp">self</span></div>


<div class="viewcode-block" id="Condense.using">
<a class="viewcode-back" href="../../autoapi/wcps/model/index.html#wcps.model.Condense.using">[docs]</a>
    <span class="k">def</span> <span class="nf">using</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">using</span><span class="p">:</span> <span class="n">OperandType</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Condense</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Specify an aggregation expression, evaluated for each point in the :meth:`over`</span>
<span class="sd">        domain and aggregated into the final result with the :attr:`condense_op`.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">using_clause</span> <span class="o">=</span> <span class="n">using</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">add_operand</span><span class="p">(</span><span class="n">using</span><span class="p">)</span>
        <span class="k">return</span> <span class="bp">self</span></div>


<div class="viewcode-block" id="Condense.where">
<a class="viewcode-back" href="../../autoapi/wcps/model/index.html#wcps.model.Condense.where">[docs]</a>
    <span class="k">def</span> <span class="nf">where</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">where</span><span class="p">:</span> <span class="n">OperandType</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Condense</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Specify a filtering expression, evaluated for each point in the :meth:`over`</span>
<span class="sd">        domain. If its result is false at that point then the :meth:`using` expression</span>
<span class="sd">        is not executed.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">where_clause</span> <span class="o">=</span> <span class="n">where</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">add_operand</span><span class="p">(</span><span class="n">where</span><span class="p">)</span>
        <span class="k">return</span> <span class="bp">self</span></div>
</div>



<div class="viewcode-block" id="Coverage">
<a class="viewcode-back" href="../../autoapi/wcps/model/index.html#wcps.model.Coverage">[docs]</a>
<span class="k">class</span> <span class="nc">Coverage</span><span class="p">(</span><span class="n">WCPSExpr</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    A general coverage constructor operation. It allows to create a coverage :meth:`over` a</span>
<span class="sd">    spatio-temporal domain, where for each coordinate in the domain the value is</span>
<span class="sd">    dynamically calculated from a :meth:`values` expression which potentially references</span>
<span class="sd">    the iterator variables set in the :meth:`over` method. It corresponds to a WCPS</span>
<span class="sd">    expression of the following form: ::</span>

<span class="sd">        coverage covName</span>
<span class="sd">        over $iterVar axis(lo:hi), ...</span>
<span class="sd">        values scalarExpr</span>

<span class="sd">    Typically, the iterator variable iterates through a grid domain (:meth:`AxisIter.interval` or</span>
<span class="sd">    :meth:`AxisIter.of_grid_axis`). However, iteration over a geo domain is also supported</span>
<span class="sd">    with :meth:`AxisIter.of_geo_axis`.</span>

<span class="sd">    :param name: a name for the new coverage</span>
<span class="sd">    :param over: a list of axis iterators</span>
<span class="sd">    :param values_clause: an expression evaluating to a value for each point in the over domain;</span>
<span class="sd">        exclusive with ``value_list_clause``.</span>
<span class="sd">    :param value_list_clause: a list enumerating all cell values in the coverage domain;</span>
<span class="sd">        exclusive with ``values_clause``.</span>

<span class="sd">    For example, to create a 2D geo-referenced coverage with</span>
<span class="sd">    Lat and Lon axes, based on an existing geo-referenced coverage ``mycov``: ::</span>

<span class="sd">        cov = Datacube(&quot;mycov&quot;)</span>
<span class="sd">        plat_var = AxisIter(&#39;$pLat&#39;, &#39;Lat&#39;)</span>
<span class="sd">                        .of_geo_axis(cov[&#39;Lat&#39;, -30, -28.5])</span>
<span class="sd">        plon_var = AxisIter(&#39;$pLon&#39;, &#39;Lon&#39;)</span>
<span class="sd">                        .of_geo_axis(cov[&#39;Lon&#39;, 111.975, 113.475])</span>
<span class="sd">        Coverage(&quot;copy_of_mycov&quot;)</span>
<span class="sd">            .over(plat_var).over(plon_var)</span>
<span class="sd">            .values(cov1[(&#39;Lat&#39;, plat_var.ref()),</span>
<span class="sd">                         (&#39;Lon&#39;, plon_var.ref())]))</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">name</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">over</span><span class="p">:</span> <span class="nb">list</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
                 <span class="n">values_clause</span><span class="p">:</span> <span class="n">OperandType</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
                 <span class="n">value_list_clause</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="n">ScalarType</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">):</span>
        <span class="n">operands</span> <span class="o">=</span> <span class="p">[</span><span class="n">values_clause</span><span class="p">]</span>
        <span class="k">if</span> <span class="n">over</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">operands</span> <span class="o">+=</span> <span class="n">over</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="n">operands</span><span class="o">=</span><span class="n">operands</span><span class="p">)</span>
<div class="viewcode-block" id="Coverage.name">
<a class="viewcode-back" href="../../autoapi/wcps/model/index.html#wcps.model.Coverage.name">[docs]</a>
        <span class="bp">self</span><span class="o">.</span><span class="n">name</span> <span class="o">=</span> <span class="n">name</span></div>

<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Name of the created coverage (datacube).</span>
<span class="sd">        &quot;&quot;&quot;</span>
<div class="viewcode-block" id="Coverage.iter_vars">
<a class="viewcode-back" href="../../autoapi/wcps/model/index.html#wcps.model.Coverage.iter_vars">[docs]</a>
        <span class="bp">self</span><span class="o">.</span><span class="n">iter_vars</span> <span class="o">=</span> <span class="n">over</span> <span class="k">if</span> <span class="n">over</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="k">else</span> <span class="p">[]</span></div>

<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        A list of :class:`AxisIter` forming the created coverage domain.</span>
<span class="sd">        &quot;&quot;&quot;</span>
<div class="viewcode-block" id="Coverage.values_clause">
<a class="viewcode-back" href="../../autoapi/wcps/model/index.html#wcps.model.Coverage.values_clause">[docs]</a>
        <span class="bp">self</span><span class="o">.</span><span class="n">values_clause</span> <span class="o">=</span> <span class="n">values_clause</span></div>

<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        An expression evaluated for each point in the coverage domain.</span>
<span class="sd">        &quot;&quot;&quot;</span>
<div class="viewcode-block" id="Coverage.value_list_clause">
<a class="viewcode-back" href="../../autoapi/wcps/model/index.html#wcps.model.Coverage.value_list_clause">[docs]</a>
        <span class="bp">self</span><span class="o">.</span><span class="n">value_list_clause</span> <span class="o">=</span> <span class="n">value_list_clause</span></div>

<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        A list enumerating all cell values in the coverage domain.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">value_list_clause</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">values_clause</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">raise</span> <span class="n">WCPSClientException</span><span class="p">(</span><span class="s2">&quot;Cannot specify both a values_clause and a values_list in a Coverage expression.&quot;</span><span class="p">)</span>

    <span class="k">def</span> <span class="fm">__str__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        :return: A WCPS query string corresponding to this expression.</span>
<span class="sd">        :raise: :class:`WCPSClientException` if no iterator variables or a values expression have been set.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_validate</span><span class="p">()</span>
        <span class="n">ret</span> <span class="o">=</span> <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__str__</span><span class="p">()</span>
        <span class="n">over</span> <span class="o">=</span> <span class="n">_list_to_str</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">iter_vars</span><span class="p">,</span> <span class="s1">&#39;, &#39;</span><span class="p">)</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">values_clause</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">ret</span> <span class="o">+=</span> <span class="sa">f</span><span class="s1">&#39;(coverage </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">name</span><span class="si">}</span><span class="s1"> over </span><span class="si">{</span><span class="n">over</span><span class="si">}</span><span class="s1"> values </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">values_clause</span><span class="si">}</span><span class="s1">)&#39;</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">values_list_clause</span> <span class="o">=</span> <span class="n">_list_to_str</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">value_list_clause</span><span class="p">,</span> <span class="s2">&quot;; &quot;</span><span class="p">)</span>
            <span class="n">ret</span> <span class="o">+=</span> <span class="sa">f</span><span class="s1">&#39;(coverage </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">name</span><span class="si">}</span><span class="s1"> over </span><span class="si">{</span><span class="n">over</span><span class="si">}</span><span class="s1"> value list &lt; </span><span class="si">{</span><span class="n">values_list_clause</span><span class="si">}</span><span class="s1"> &gt;)&#39;</span>
        <span class="k">return</span> <span class="n">ret</span>

    <span class="k">def</span> <span class="nf">_validate</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        :meta private:</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">iter_vars</span><span class="p">)</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
            <span class="k">raise</span> <span class="n">WCPSClientException</span><span class="p">(</span><span class="s2">&quot;An OVER clause is mandatory in a COVERAGE operation, none was specified.&quot;</span><span class="p">)</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">values_clause</span> <span class="ow">is</span> <span class="kc">None</span> <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">value_list_clause</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">raise</span> <span class="n">WCPSClientException</span><span class="p">(</span><span class="s2">&quot;A VALUES or VALUE LIST clause is mandatory &quot;</span>
                                      <span class="s2">&quot;in a COVERAGE operation, none was specified.&quot;</span><span class="p">)</span>

<div class="viewcode-block" id="Coverage.over">
<a class="viewcode-back" href="../../autoapi/wcps/model/index.html#wcps.model.Coverage.over">[docs]</a>
    <span class="k">def</span> <span class="nf">over</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">iter_var</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="n">AxisIter</span><span class="p">,</span> <span class="nb">list</span><span class="p">[</span><span class="n">AxisIter</span><span class="p">]])</span> <span class="o">-&gt;</span> <span class="n">Coverage</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Add an iterator variable to the coverage constructor.</span>

<span class="sd">        :param iter_var: an iterator variable or a list of iterator variables</span>
<span class="sd">        :return: the same object with the ``iter_var`` appended to its iterator variables list</span>

<span class="sd">        Examples: ::</span>

<span class="sd">            cov = Datacube(&quot;testcube&quot;)</span>
<span class="sd">            pt_var = AxisIter(&#39;$pt&#39;, &#39;time&#39;).of_grid_axis(cov)</span>
<span class="sd">            px_var = AxisIter(&#39;$px&#39;, &#39;X&#39;).interval(0, 100)</span>
<span class="sd">            cov.condense(CondenseOp.PLUS).over(pt_var).over(px_var)</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">iter_var</span><span class="p">,</span> <span class="nb">list</span><span class="p">):</span>
            <span class="n">iter_var</span> <span class="o">=</span> <span class="p">[</span><span class="n">iter_var</span><span class="p">]</span>
        <span class="k">for</span> <span class="n">v</span> <span class="ow">in</span> <span class="n">iter_var</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">iter_vars</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">v</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">add_operand</span><span class="p">(</span><span class="n">v</span><span class="p">)</span>
        <span class="k">return</span> <span class="bp">self</span></div>


<div class="viewcode-block" id="Coverage.values">
<a class="viewcode-back" href="../../autoapi/wcps/model/index.html#wcps.model.Coverage.values">[docs]</a>
    <span class="k">def</span> <span class="nf">values</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">values_clause</span><span class="p">:</span> <span class="n">OperandType</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Coverage</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Specify a VALUES expression, evaluated for each point in the :meth:`over` domain.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">value_list_clause</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">raise</span> <span class="n">WCPSClientException</span><span class="p">(</span><span class="s2">&quot;Cannot specify both a values and a values_list in a Coverage expression.&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">values_clause</span> <span class="o">=</span> <span class="n">values_clause</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">add_operand</span><span class="p">(</span><span class="n">values_clause</span><span class="p">)</span>
        <span class="k">return</span> <span class="bp">self</span></div>


<div class="viewcode-block" id="Coverage.value_list">
<a class="viewcode-back" href="../../autoapi/wcps/model/index.html#wcps.model.Coverage.value_list">[docs]</a>
    <span class="k">def</span> <span class="nf">value_list</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">value_list_clause</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="n">ScalarType</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="n">Coverage</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Specify a VALUE LIST expression, enumerating all values in the :meth:`over` domain.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">values_clause</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">raise</span> <span class="n">WCPSClientException</span><span class="p">(</span><span class="s2">&quot;Cannot specify both a values and a values_list in a Coverage expression.&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">value_list_clause</span> <span class="o">=</span> <span class="n">value_list_clause</span>
        <span class="k">return</span> <span class="bp">self</span></div>
</div>



<span class="c1"># ---------------------------------------------------------------------------------</span>
<span class="c1"># switch</span>

<div class="viewcode-block" id="Switch">
<a class="viewcode-back" href="../../autoapi/wcps/model/index.html#wcps.model.Switch">[docs]</a>
<span class="k">class</span> <span class="nc">Switch</span><span class="p">(</span><span class="n">WCPSExpr</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Perform a switch operation for conditional evaluation. This produces a WCPS query</span>
<span class="sd">    fragment of the format: ::</span>

<span class="sd">        switch</span>
<span class="sd">        case boolCovExpr return covExpr</span>
<span class="sd">        case boolCovExpr return covExpr</span>
<span class="sd">        ...</span>
<span class="sd">        default return covExpr</span>

<span class="sd">    Use pairs of :meth:`case` and :meth:`then` method calls to specify</span>
<span class="sd">    case/return branches. Finally make a :meth:`default` method call to specify</span>
<span class="sd">    a default case executed when none of the case conditions are satisfied.</span>

<span class="sd">    Examples: ::</span>

<span class="sd">        cov1 = Datacube(&quot;cube1&quot;)</span>
<span class="sd">        cov2 = Datacube(&quot;cube2&quot;)</span>
<span class="sd">        Switch().case(cov1 &gt; 5).then(cov2).default(cov1)</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">()</span>
<div class="viewcode-block" id="Switch.case_expr">
<a class="viewcode-back" href="../../autoapi/wcps/model/index.html#wcps.model.Switch.case_expr">[docs]</a>
        <span class="bp">self</span><span class="o">.</span><span class="n">case_expr</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="n">WCPSExpr</span><span class="p">]</span> <span class="o">=</span> <span class="p">[]</span></div>

<div class="viewcode-block" id="Switch.then_expr">
<a class="viewcode-back" href="../../autoapi/wcps/model/index.html#wcps.model.Switch.then_expr">[docs]</a>
        <span class="bp">self</span><span class="o">.</span><span class="n">then_expr</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="n">WCPSExpr</span><span class="p">]</span> <span class="o">=</span> <span class="p">[]</span></div>

<div class="viewcode-block" id="Switch.default_expr">
<a class="viewcode-back" href="../../autoapi/wcps/model/index.html#wcps.model.Switch.default_expr">[docs]</a>
        <span class="bp">self</span><span class="o">.</span><span class="n">default_expr</span> <span class="o">=</span> <span class="kc">None</span></div>


    <span class="k">def</span> <span class="fm">__str__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        :return: A WCPS query string corresponding to this expression.</span>
<span class="sd">        :raise: :class:`WCPSClientException` if no case or default expressions have been specified.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">then_expr</span><span class="p">)</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
            <span class="k">raise</span> <span class="n">WCPSClientException</span><span class="p">(</span><span class="s2">&quot;No case expressions have been specified for the switch expression.&quot;</span><span class="p">)</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">default_expr</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">raise</span> <span class="n">WCPSClientException</span><span class="p">(</span><span class="s2">&quot;No default expression has been specified for the switch expression.&quot;</span><span class="p">)</span>
        <span class="n">ret</span> <span class="o">=</span> <span class="sa">f</span><span class="s1">&#39;</span><span class="si">{</span><span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__str__</span><span class="p">()</span><span class="si">}</span><span class="s1">(switch&#39;</span>
        <span class="k">for</span> <span class="n">case_expr</span><span class="p">,</span> <span class="n">then_expr</span> <span class="ow">in</span> <span class="nb">zip</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">case_expr</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">then_expr</span><span class="p">):</span>
            <span class="n">ret</span> <span class="o">+=</span> <span class="sa">f</span><span class="s1">&#39; case </span><span class="si">{</span><span class="n">case_expr</span><span class="si">}</span><span class="s1"> return </span><span class="si">{</span><span class="n">then_expr</span><span class="si">}</span><span class="s1">&#39;</span>
        <span class="n">ret</span> <span class="o">+=</span> <span class="sa">f</span><span class="s1">&#39; default return </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">default_expr</span><span class="si">}</span><span class="s1">)&#39;</span>
        <span class="k">return</span> <span class="n">ret</span>

<div class="viewcode-block" id="Switch.case">
<a class="viewcode-back" href="../../autoapi/wcps/model/index.html#wcps.model.Switch.case">[docs]</a>
    <span class="k">def</span> <span class="nf">case</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">case_expr</span><span class="p">:</span> <span class="n">WCPSExpr</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Switch</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Specify a condition expression.</span>
<span class="sd">        :param case_expr: the boolean case expression.</span>
<span class="sd">        :raise: :class:`WCPSClientException` if there is a mismatch between the number of case/then expressions.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">case_expr</span><span class="p">)</span> <span class="o">!=</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">then_expr</span><span class="p">):</span>
            <span class="k">raise</span> <span class="n">WCPSClientException</span><span class="p">(</span><span class="s2">&quot;A switch consists of alternating if_case/then expressions, &quot;</span>
                                      <span class="s2">&quot;finalized with a default expression.&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">add_operand</span><span class="p">(</span><span class="n">case_expr</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">case_expr</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">case_expr</span><span class="p">)</span>
        <span class="k">return</span> <span class="bp">self</span></div>


<div class="viewcode-block" id="Switch.then">
<a class="viewcode-back" href="../../autoapi/wcps/model/index.html#wcps.model.Switch.then">[docs]</a>
    <span class="k">def</span> <span class="nf">then</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">then_expr</span><span class="p">:</span> <span class="n">WCPSExpr</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Switch</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Specify an expression to be evaluated when the previously set ``case`` expression is true.</span>

<span class="sd">        :param then_expr: the then expression.</span>

<span class="sd">        :raise: :class:`WCPSClientException` if there is a mismatch between</span>
<span class="sd">            the number of case/then expressions.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">case_expr</span><span class="p">)</span> <span class="o">-</span> <span class="mi">1</span> <span class="o">!=</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">then_expr</span><span class="p">):</span>
            <span class="k">raise</span> <span class="n">WCPSClientException</span><span class="p">(</span><span class="s2">&quot;A switch consists of alternating if_case/then expressions, &quot;</span>
                                      <span class="s2">&quot;finalized with a default expression.&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">add_operand</span><span class="p">(</span><span class="n">then_expr</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">then_expr</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">then_expr</span><span class="p">)</span>
        <span class="k">return</span> <span class="bp">self</span></div>


<div class="viewcode-block" id="Switch.default">
<a class="viewcode-back" href="../../autoapi/wcps/model/index.html#wcps.model.Switch.default">[docs]</a>
    <span class="k">def</span> <span class="nf">default</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">default_expr</span><span class="p">:</span> <span class="n">WCPSExpr</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Switch</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Specify a default expressions executed when none of the case conditions are satisfied.</span>

<span class="sd">        :param default_expr: the default expression.</span>

<span class="sd">        :raise: :class:`WCPSClientException` if no case expressions have been specified,</span>
<span class="sd">            or if a default expression has already been set.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">then_expr</span><span class="p">)</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
            <span class="k">raise</span> <span class="n">WCPSClientException</span><span class="p">(</span><span class="s2">&quot;In a switch first the if_case/then expressions must be specified, &quot;</span>
                                      <span class="s2">&quot;followed by the default expression.&quot;</span><span class="p">)</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">default_expr</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">raise</span> <span class="n">WCPSClientException</span><span class="p">(</span><span class="s2">&quot;A default expression has already been specified for this &quot;</span>
                                      <span class="s2">&quot;switch expression.&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">default_expr</span> <span class="o">=</span> <span class="n">default_expr</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">add_operand</span><span class="p">(</span><span class="n">default_expr</span><span class="p">)</span>
        <span class="k">return</span> <span class="bp">self</span></div>
</div>



<span class="c1"># ---------------------------------------------------------------------------------</span>
<span class="c1"># clipping</span>

<div class="viewcode-block" id="Clip">
<a class="viewcode-back" href="../../autoapi/wcps/model/index.html#wcps.model.Clip">[docs]</a>
<span class="k">class</span> <span class="nc">Clip</span><span class="p">(</span><span class="n">WCPSExpr</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Clip ``op`` with the given WKT string. For supported WKT parameters see</span>
<span class="sd">    https://doc.rasdaman.org/05_geo-services-guide.html#polygon-raster-clipping</span>

<span class="sd">    Examples:</span>

<span class="sd">    .. code:: python</span>

<span class="sd">        c = Datacube(&quot;cov&quot;)</span>
<span class="sd">        Clip(c, &quot;POLYGON((13589894.568 -2015496.69612, 15086830.0246 -1780682.3822))&quot;)</span>

<span class="sd">        Clip(c, &#39;LineString(&quot;2008-01-01T02:01:20.000Z&quot; 75042.7273594 5094865.55794,</span>
<span class="sd">                            &quot;2008-01-08T00:02:58.000Z&quot; 705042.727359 5454865.55794)&#39;)</span>

<span class="sd">        Clip(c, &quot;Multipolygon( ((-23.189600 118.432617, -27.458321 117.421875,</span>
<span class="sd">                                 -30.020354 126.562500, -24.295789 125.244141)),</span>
<span class="sd">                               ((-27.380304 137.768555, -30.967012 147.700195,</span>
<span class="sd">                                 -25.491629 151.259766, -18.050561 142.075195)) )&quot;)</span>

<span class="sd">        Clip(c, &quot;CURTAIN(projection(Lat, Long),</span>
<span class="sd">                         Polygon((25 40, 30 40, 30 45, 30 42)) )&quot;)</span>

<span class="sd">        Clip(c, &#39;CORRIDOR(projection(E, N),</span>
<span class="sd">                          LineString(&quot;2008-01-01T02:01:20.000Z&quot; 75042.7273594  5094865.55794,</span>
<span class="sd">                                     &quot;2008-01-01T02:01:20.000Z&quot; 75042.7273594 5194865.55794),</span>
<span class="sd">                          LineString(75042.7273594 5094865.55794, 75042.7273594 5094865.55794,</span>
<span class="sd">                                     85042.7273594 5194865.55794, 95042.7273594 5194865.55794) )&#39;)</span>

<span class="sd">        Clip(c, &#39;CORRIDOR(projection(Lat, Long),</span>
<span class="sd">                          LineString(26 41 &quot;1950-01-01&quot;, 28 41 &quot;1950-01-02&quot;),</span>
<span class="sd">                          Polygon((25 40, 30 40, 30 45, 25 45)), discrete)&#39;)</span>

<span class="sd">    :param op: coverage expression to clip</span>
<span class="sd">    :param wkt: a WKT string describing the geometry for clipping</span>
<span class="sd">    &quot;&quot;&quot;</span>
<div class="viewcode-block" id="Clip.VALID_GEOMETRIES">
<a class="viewcode-back" href="../../autoapi/wcps/model/index.html#wcps.model.Clip.VALID_GEOMETRIES">[docs]</a>
    <span class="n">VALID_GEOMETRIES</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;LineString&#39;</span><span class="p">,</span> <span class="s1">&#39;Polygon&#39;</span><span class="p">,</span> <span class="s1">&#39;MultiLineString&#39;</span><span class="p">,</span>
                        <span class="s1">&#39;MultiPolygon&#39;</span><span class="p">,</span> <span class="s1">&#39;Curtain&#39;</span><span class="p">,</span> <span class="s1">&#39;Corridor&#39;</span><span class="p">]</span></div>


    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">op</span><span class="p">:</span> <span class="n">WCPSExpr</span><span class="p">,</span> <span class="n">wkt</span><span class="p">:</span> <span class="nb">str</span><span class="p">):</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="n">operands</span><span class="o">=</span><span class="p">[</span><span class="n">op</span><span class="p">])</span>
<div class="viewcode-block" id="Clip.wkt">
<a class="viewcode-back" href="../../autoapi/wcps/model/index.html#wcps.model.Clip.wkt">[docs]</a>
        <span class="bp">self</span><span class="o">.</span><span class="n">wkt</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="n">wkt</span><span class="p">)</span></div>

        <span class="bp">self</span><span class="o">.</span><span class="n">_validate_wkt</span><span class="p">()</span>

    <span class="k">def</span> <span class="fm">__str__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="sa">f</span><span class="s1">&#39;</span><span class="si">{</span><span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__str__</span><span class="p">()</span><span class="si">}</span><span class="s1">clip(</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">operands</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="si">}</span><span class="s1">, </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">wkt</span><span class="si">}</span><span class="s1">)&#39;</span>

    <span class="k">def</span> <span class="nf">_validate_wkt</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Check that the WKT contains a valid geometry type.&quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="nb">any</span><span class="p">(</span><span class="n">re</span><span class="o">.</span><span class="n">search</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;\b&#39;</span> <span class="o">+</span> <span class="n">re</span><span class="o">.</span><span class="n">escape</span><span class="p">(</span><span class="n">geom</span><span class="p">)</span> <span class="o">+</span> <span class="sa">r</span><span class="s1">&#39;\b&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">wkt</span><span class="p">,</span> <span class="n">re</span><span class="o">.</span><span class="n">IGNORECASE</span><span class="p">)</span>
                   <span class="k">for</span> <span class="n">geom</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">VALID_GEOMETRIES</span><span class="p">):</span>
            <span class="k">raise</span> <span class="n">WCPSClientException</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;The given WKT does not contain a valid geometry type.&quot;</span>
                                      <span class="sa">f</span><span class="s2">&quot;Expected one of: </span><span class="si">{</span><span class="s1">&#39;, &#39;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">VALID_GEOMETRIES</span><span class="p">)</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span></div>



<span class="c1"># ---------------------------------------------------------------------------------</span>
<span class="c1"># user-defined functions</span>

<div class="viewcode-block" id="Udf">
<a class="viewcode-back" href="../../autoapi/wcps/model/index.html#wcps.model.Udf">[docs]</a>
<span class="k">class</span> <span class="nc">Udf</span><span class="p">(</span><span class="n">WCPSExpr</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Execute a user-defined function (UDF), or any other WCPS function for which</span>
<span class="sd">    no concrete class exists yet.</span>

<span class="sd">    :param function_name: the UDF name, e.g. image.stretch</span>
<span class="sd">    :param operands: a list of operands that the UDF expects</span>

<span class="sd">    Examples: ::</span>

<span class="sd">        stretch = Udf(&#39;stretch&#39;, Datacube(&#39;cov1&#39;))</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">function_name</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">operands</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="n">OperandType</span><span class="p">]):</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="n">operands</span><span class="o">=</span><span class="n">operands</span><span class="p">)</span>
<div class="viewcode-block" id="Udf.function_name">
<a class="viewcode-back" href="../../autoapi/wcps/model/index.html#wcps.model.Udf.function_name">[docs]</a>
        <span class="bp">self</span><span class="o">.</span><span class="n">function_name</span> <span class="o">=</span> <span class="n">function_name</span></div>


    <span class="k">def</span> <span class="fm">__str__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">ret</span> <span class="o">=</span> <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__str__</span><span class="p">()</span>
        <span class="n">ret</span> <span class="o">+=</span> <span class="sa">f</span><span class="s1">&#39;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">function_name</span><span class="si">}</span><span class="s1">(&#39;</span>
        <span class="n">ret</span> <span class="o">+=</span> <span class="n">_list_to_str</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">operands</span><span class="p">,</span> <span class="s1">&#39;, &#39;</span><span class="p">)</span>
        <span class="n">ret</span> <span class="o">+=</span> <span class="s1">&#39;)&#39;</span>
        <span class="k">return</span> <span class="n">ret</span></div>



<span class="c1"># ---------------------------------------------------------------------------------</span>
<span class="c1"># data encode/decode</span>

<div class="viewcode-block" id="Encode">
<a class="viewcode-back" href="../../autoapi/wcps/model/index.html#wcps.model.Encode">[docs]</a>
<span class="k">class</span> <span class="nc">Encode</span><span class="p">(</span><span class="n">WCPSExpr</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Encode a coverage to some data format. The data format must be specified</span>
<span class="sd">    with the :meth:`to` method if it isn&#39;t provided here. Format parameters can</span>
<span class="sd">    be specified with the :meth:`params` method.</span>

<span class="sd">    :param op: the coverage expression to encode.</span>
<span class="sd">    :param data_format: the data format, e.g. &quot;GTiff&quot;</span>
<span class="sd">    :param format_params: additional format parameters the influence the encoding</span>

<span class="sd">    Examples:</span>

<span class="sd">    - ``Encode(Datacube(&quot;test&quot;)).to(&quot;GTiff&quot;)``</span>
<span class="sd">    - ``Encode(Datacube(&quot;test&quot;), &quot;GTiff&quot;)``</span>
<span class="sd">    - ``Encode(Datacube(&quot;test&quot;), &quot;GTiff&quot;, &quot;...&quot;)``</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">op</span><span class="p">:</span> <span class="n">WCPSExpr</span><span class="p">,</span> <span class="n">data_format</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="n">format_params</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="kc">None</span><span class="p">):</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="n">operands</span><span class="o">=</span><span class="p">[</span><span class="n">op</span><span class="p">])</span>
<div class="viewcode-block" id="Encode.data_format">
<a class="viewcode-back" href="../../autoapi/wcps/model/index.html#wcps.model.Encode.data_format">[docs]</a>
        <span class="bp">self</span><span class="o">.</span><span class="n">data_format</span> <span class="o">=</span> <span class="n">data_format</span></div>

<div class="viewcode-block" id="Encode.format_params">
<a class="viewcode-back" href="../../autoapi/wcps/model/index.html#wcps.model.Encode.format_params">[docs]</a>
        <span class="bp">self</span><span class="o">.</span><span class="n">format_params</span> <span class="o">=</span> <span class="n">format_params</span></div>


<div class="viewcode-block" id="Encode.to">
<a class="viewcode-back" href="../../autoapi/wcps/model/index.html#wcps.model.Encode.to">[docs]</a>
    <span class="k">def</span> <span class="nf">to</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">data_format</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Encode</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Set the encoding data format.</span>

<span class="sd">        :param data_format: the data format, e.g. &quot;GTiff&quot;</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">data_format</span> <span class="o">=</span> <span class="n">data_format</span>
        <span class="k">return</span> <span class="bp">self</span></div>


<div class="viewcode-block" id="Encode.params">
<a class="viewcode-back" href="../../autoapi/wcps/model/index.html#wcps.model.Encode.params">[docs]</a>
    <span class="k">def</span> <span class="nf">params</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">format_params</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Encode</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Set the encoding format parameters.</span>

<span class="sd">        :param format_params: additional format parameters the influence the encoding</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">format_params</span> <span class="o">=</span> <span class="n">format_params</span>
        <span class="k">return</span> <span class="bp">self</span></div>


    <span class="k">def</span> <span class="fm">__str__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">data_format</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">raise</span> <span class="n">WCPSClientException</span><span class="p">(</span><span class="s2">&quot;No target format to which to encode the operand was provided.&quot;</span><span class="p">)</span>
        <span class="n">ret</span> <span class="o">=</span> <span class="sa">f</span><span class="s1">&#39;</span><span class="si">{</span><span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__str__</span><span class="p">()</span><span class="si">}</span><span class="s1">encode(</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">operands</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="si">}</span><span class="s1">, &quot;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">data_format</span><span class="si">}</span><span class="s1">&quot;&#39;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">format_params</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">format_params</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_escape_double_quotes</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">format_params</span><span class="p">)</span>
            <span class="n">ret</span> <span class="o">+=</span> <span class="sa">f</span><span class="s1">&#39;, &quot;</span><span class="si">{</span><span class="n">format_params</span><span class="si">}</span><span class="s1">&quot;&#39;</span>
        <span class="n">ret</span> <span class="o">+=</span> <span class="s1">&#39;)&#39;</span>
        <span class="k">return</span> <span class="n">ret</span>

    <span class="k">def</span> <span class="nf">_escape_double_quotes</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">text</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Escape double quotes in a string by prefixing them with a backslash,</span>
<span class="sd">        but only if they are not already escaped.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">re</span><span class="o">.</span><span class="n">sub</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;(?&lt;!</span><span class="se">\\</span><span class="s1">)&quot;&#39;</span><span class="p">,</span> <span class="sa">r</span><span class="s1">&#39;</span><span class="se">\\</span><span class="s1">&quot;&#39;</span><span class="p">,</span> <span class="n">text</span><span class="p">)</span></div>



<div class="viewcode-block" id="WCPSClientException">
<a class="viewcode-back" href="../../autoapi/wcps/model/index.html#wcps.model.WCPSClientException">[docs]</a>
<span class="k">class</span> <span class="nc">WCPSClientException</span><span class="p">(</span><span class="ne">Exception</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    An exception thrown by this library.</span>
<span class="sd">    &quot;&quot;&quot;</span></div>



<span class="k">def</span> <span class="nf">_list_to_str</span><span class="p">(</span><span class="n">lst</span><span class="p">:</span> <span class="nb">list</span><span class="p">,</span> <span class="n">sep</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Convert a list of items into a single string. Each item is converted to a string</span>
<span class="sd">    and separated by a specified separator in the result.</span>

<span class="sd">    :param lst: The list of items to be joined into a string. Each item in the list</span>
<span class="sd">                will be converted to a string before joining.</span>
<span class="sd">    :param sep: The separator to use between each item in the resulting string.</span>

<span class="sd">    :return: A single string containing all items from the list, separated by the</span>
<span class="sd">             specified separator.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="n">sep</span><span class="o">.</span><span class="n">join</span><span class="p">([</span><span class="nb">str</span><span class="p">(</span><span class="n">item</span><span class="p">)</span> <span class="k">for</span> <span class="n">item</span> <span class="ow">in</span> <span class="n">lst</span><span class="p">])</span>
</pre></div>

          </div>
          
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="Main">
        <div class="sphinxsidebarwrapper">
<h1 class="logo"><a href="../../index.html">WCPS Python Client</a></h1>









<search id="searchbox" style="display: none" role="search">
    <div class="searchformwrapper">
    <form class="search" action="../../search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" placeholder="Search"/>
      <input type="submit" value="Go" />
    </form>
    </div>
</search>
<script>document.getElementById('searchbox').style.display = "block"</script><h3>Navigation</h3>
<p class="caption" role="heading"><span class="caption-text">Contents:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../README.html">Overview</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../README.html#installation">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../README.html#examples">Examples</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../README.html#contributing">Contributing</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../README.html#acknowledgments">Acknowledgments</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../autoapi/index.html">API Reference</a></li>
</ul>

<div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="../../index.html">Documentation overview</a><ul>
  <li><a href="../index.html">Module code</a><ul>
  </ul></li>
  </ul></li>
</ul>
</div>








        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &#169;2025, rasdaman team.
      
      |
      Powered by <a href="https://www.sphinx-doc.org/">Sphinx 8.2.3</a>
      &amp; <a href="https://alabaster.readthedocs.io">Alabaster 1.0.0</a>
      
    </div>

    

    
  </body>
</html>